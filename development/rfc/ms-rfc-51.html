
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>MS RFC 51: XML Mapfile Format &#8212; MapServer 7.2.0 documentation</title>
    <link rel="stylesheet" href="../../_static/sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/mapserver.ico"/>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="MS RFC 52: One-pass query processing" href="ms-rfc-52.html" />
    <link rel="prev" title="MS RFC 50: OpenGL Rendering Support" href="ms-rfc-50.html" /> 
  </head><body>

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../../index.html" title="Home"><img src="../../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../../index.html" title="Home">Home</a> |
      <a href="../../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../../community/service_providers.html" title="Professional Service Providers">Service Providers</a> |      
      <a href="../../faq.html" title="Frequently Asked Questions">FAQ</a> |
      <a href="https://twitter.com/mapserver_osgeo" title="Twitter">Twitter</a> |
      <a href="../../download.html" title="Download Source or Binaries">Download </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        <img src="../../_static/flagicons/en.png" alt="en" title="en" border="0" width="18px" height="13px"/>
        
          <a href="../../ar/development/rfc/ms-rfc-51.html"><img src="../../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
        
        
          <a href="../../de/development/rfc/ms-rfc-51.html"><img src="../../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
        
        
          <a href="../../el/development/rfc/ms-rfc-51.html"><img src="../../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
        
        
          <a href="../../es/development/rfc/ms-rfc-51.html"><img src="../../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
        
        
          <a href="../../fr/development/rfc/ms-rfc-51.html"><img src="../../_static/flagicons/fr.png" alt="fr" title="fr" border="0" /></a>
        
        
          <a href="../../id/development/rfc/ms-rfc-51.html"><img src="../../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
        
        
          <a href="../../it/development/rfc/ms-rfc-51.html"><img src="../../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
        
        
          <a href="../../ja/development/rfc/ms-rfc-51.html"><img src="../../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
        
        
          <a href="../../nl_NL/development/rfc/ms-rfc-51.html"><img src="../../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
        
        
          <a href="../../pl/development/rfc/ms-rfc-51.html"><img src="../../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
        
        
          <a href="../../ru/development/rfc/ms-rfc-51.html"><img src="../../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
        
        
          <a href="../../sq/development/rfc/ms-rfc-51.html"><img src="../../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
        
        
          <a href="../../tr/development/rfc/ms-rfc-51.html"><img src="../../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
        

    </td>
  </tr>
</table>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="ms-rfc-52.html" title="MS RFC 52: One-pass query processing"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="ms-rfc-50.html" title="MS RFC 50: OpenGL Rendering Support"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Development</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Request for Comments</a> &#187;</li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="ms-rfc-51-xml-mapfile-format">
<span id="rfc51"></span><h1>MS RFC 51: XML Mapfile Format<a class="headerlink" href="#ms-rfc-51-xml-mapfile-format" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Date:</th><td class="field-body">2009/01/16</td>
</tr>
<tr class="field-even field"><th class="field-name">Authors:</th><td class="field-body">Alan Boudreault</td>
</tr>
<tr class="field-odd field"><th class="field-name">Contact:</th><td class="field-body">aboudreault at mapgears.com</td>
</tr>
<tr class="field-even field"><th class="field-name">Last Edited:</th><td class="field-body">2009/03/09</td>
</tr>
<tr class="field-odd field"><th class="field-name">Version:</th><td class="field-body">MapServer 6.0</td>
</tr>
</tbody>
</table>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Presently, MapServer supports only normal mapfiles that are parsed by Flex.
The current mapfiles are parsed very fast by MapServer but can not be
parsed by any other software due to the parser complexity. So, a client
interface to build mapfiles is difficult to make.</p>
<p>The need we are trying to address is the ability to build MapFile Editors
that would be facilitated by the existence of a XML mapfile format (since
the current mapfile format makes it impossible to write a
forward-compatible parser). XML is seen as a solution that can provide a
strict syntax to mapfiles to have a strong validation with XML Schema.</p>
<p>This RFC proposes the addition of XML Mapfile support.</p>
</div>
<div class="section" id="technical-solution">
<h2>Technical Solution<a class="headerlink" href="#technical-solution" title="Permalink to this headline">¶</a></h2>
<p>It was decided that for the time being we should develop a XML schema and a
XSLT to convert from XML to text mapfile. If the new XML format takes off
then we may consider implementing support for it directly in MapServer in a
future release.</p>
</div>
<div class="section" id="mapfiles">
<h2>Mapfiles<a class="headerlink" href="#mapfiles" title="Permalink to this headline">¶</a></h2>
<p>An example of XML mapfile layer definition (prototype):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="o">&lt;</span><span class="n">Layer</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="n">popplace</span><span class="o">&lt;/</span><span class="n">name</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span><span class="n">POINT</span><span class="o">&lt;/</span><span class="nb">type</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">debug</span><span class="o">&gt;</span><span class="mi">5</span><span class="o">&lt;/</span><span class="n">debug</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">status</span><span class="o">&gt;</span><span class="n">ON</span><span class="o">&lt;/</span><span class="n">status</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">Metadata</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">item</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;DESCRIPTION&quot;</span><span class="o">&gt;</span><span class="n">Cities</span><span class="o">&lt;/</span><span class="n">item</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">item</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;TEST&quot;</span><span class="o">&gt;</span><span class="n">TESTING</span><span class="o">&lt;/</span><span class="n">item</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">item</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;RESULT_FIELDS&quot;</span><span class="o">&gt;</span><span class="n">NAME</span><span class="o">&lt;/</span><span class="n">item</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">Metadata</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">data</span><span class="o">&gt;</span><span class="n">popplace</span><span class="o">&lt;/</span><span class="n">data</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">labelItem</span><span class="o">&gt;</span><span class="n">Name</span><span class="o">&lt;/</span><span class="n">labelItem</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">classItem</span><span class="o">&gt;</span><span class="n">Capital</span><span class="o">&lt;/</span><span class="n">classItem</span><span class="o">&gt;</span>

  <span class="o">&lt;</span><span class="n">Class</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="n">Cities</span><span class="o">&lt;/</span><span class="n">name</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">expression</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&lt;/</span><span class="n">expression</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">template</span><span class="o">&gt;</span><span class="n">ttt_query</span><span class="o">.</span><span class="n">html</span><span class="o">&lt;/</span><span class="n">template</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">symbol</span><span class="o">&gt;</span><span class="mi">2</span><span class="o">&lt;/</span><span class="n">symbol</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">size</span><span class="o">&gt;</span><span class="mi">8</span><span class="o">&lt;/</span><span class="n">size</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">Label</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;TRUETYPE&quot;</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">colorAttribute</span><span class="o">&gt;</span><span class="p">[</span><span class="n">COULEUR</span><span class="p">]</span><span class="o">&lt;/</span><span class="n">colorAttribute</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">font</span><span class="o">&gt;</span><span class="n">sans</span><span class="o">&lt;/</span><span class="n">font</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">angle</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&lt;/</span><span class="n">angle</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">size</span><span class="o">&gt;</span><span class="mi">8</span><span class="o">&lt;/</span><span class="n">size</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">outlineColor</span> <span class="n">red</span><span class="o">=</span><span class="s2">&quot;255&quot;</span> <span class="n">green</span><span class="o">=</span><span class="s2">&quot;255&quot;</span> <span class="n">blue</span><span class="o">=</span><span class="s2">&quot;255&quot;</span><span class="o">/&gt;</span>
    <span class="o">&lt;/</span><span class="n">Label</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">color</span> <span class="n">red</span><span class="o">=</span><span class="s2">&quot;0&quot;</span> <span class="n">green</span><span class="o">=</span><span class="s2">&quot;255&quot;</span> <span class="n">blue</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="o">/&gt;</span>
  <span class="o">&lt;/</span><span class="n">Class</span><span class="o">&gt;</span>

  <span class="o">&lt;</span><span class="n">Class</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="n">Cities</span><span class="o">&lt;/</span><span class="n">name</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">expression</span><span class="o">&gt;/</span><span class="mi">2</span><span class="o">|</span><span class="mi">3</span><span class="o">/&lt;/</span><span class="n">expression</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">template</span><span class="o">&gt;</span><span class="n">ttt_query</span><span class="o">.</span><span class="n">html</span><span class="o">&lt;/</span><span class="n">template</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">tolerance</span><span class="o">&gt;</span><span class="mi">5</span><span class="o">&lt;/</span><span class="n">tolerance</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">Label</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;TRUETYPE&quot;</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">colorAttribute</span><span class="o">&gt;</span><span class="p">[</span><span class="n">COULEUR</span><span class="p">]</span><span class="o">&lt;/</span><span class="n">colorAttribute</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">font</span><span class="o">&gt;</span><span class="p">[</span><span class="n">FONT</span><span class="p">]</span><span class="o">&lt;/</span><span class="n">font</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">angle</span><span class="o">&gt;</span><span class="p">[</span><span class="n">ANGLE</span><span class="p">]</span><span class="o">&lt;/</span><span class="n">angle</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">size</span><span class="o">&gt;</span><span class="mi">8</span><span class="o">&lt;/</span><span class="n">size</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">outlineColor</span> <span class="n">red</span><span class="o">=</span><span class="s2">&quot;255&quot;</span> <span class="n">green</span><span class="o">=</span><span class="s2">&quot;255&quot;</span> <span class="n">blue</span><span class="o">=</span><span class="s2">&quot;255&quot;</span><span class="o">/&gt;</span>
      <span class="o">&lt;</span><span class="n">position</span><span class="o">&gt;</span><span class="n">AUTO</span><span class="o">&lt;/</span><span class="n">position</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">partials</span><span class="o">&gt;</span><span class="n">FALSE</span><span class="o">&lt;/</span><span class="n">partials</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">Label</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">Style</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">symbol</span><span class="o">&gt;</span><span class="mi">7</span><span class="o">&lt;/</span><span class="n">symbol</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">size</span><span class="o">&gt;</span><span class="mi">6</span><span class="o">&lt;/</span><span class="n">size</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">colorAttribute</span><span class="o">&gt;</span><span class="p">[</span><span class="n">COULEUR</span><span class="p">]</span><span class="o">&lt;/</span><span class="n">colorAttribute</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">Style</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">Class</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">Layer</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="future-enhancement">
<h2>Future Enhancement<a class="headerlink" href="#future-enhancement" title="Permalink to this headline">¶</a></h2>
<p>In the future, some enhancement could be good to added:</p>
<blockquote>
<div><ul class="simple">
<li>Special tags for all WMS options (including styles)</li>
<li>Reusable xml block with ID</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<p>TBD</p>
</div>
<div class="section" id="backwards-incompatibility">
<h2>Backwards Incompatibility<a class="headerlink" href="#backwards-incompatibility" title="Permalink to this headline">¶</a></h2>
<p>No issues expected.</p>
</div>
<div class="section" id="bug-id">
<h2>Bug ID<a class="headerlink" href="#bug-id" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/mapserver/mapserver/issues/2872">https://github.com/mapserver/mapserver/issues/2872</a></p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3>Navigation</h3>
<p>
<a href="../../about.html" title="About">About</a><br>
<a href="../../products.html" title="Products">Products</a><br>
<a href="../../community/index.html" title="Community">Community</a><br>
<a href="../index.html" title="Development">Development</a><br>
<a href="../../download.html" title="Downloads">Downloads</a><br>
<a href="../../documentation.html" title="Documentation">Documentation</a><br>
<a href="../../faq.html" title="FAQ">FAQ</a><br>
<a href="../../psc.html" title="PSC">PSC</a><br>
<a href="https://twitter.com/mapserver_osgeo" title="Twitter">Twitter</a>
</p>
  <h3>Current Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">MS RFC 51: XML Mapfile Format</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#technical-solution">Technical Solution</a></li>
<li><a class="reference internal" href="#mapfiles">Mapfiles</a></li>
<li><a class="reference internal" href="#future-enhancement">Future Enhancement</a></li>
<li><a class="reference internal" href="#documentation">Documentation</a></li>
<li><a class="reference internal" href="#backwards-incompatibility">Backwards Incompatibility</a></li>
<li><a class="reference internal" href="#bug-id">Bug ID</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="ms-rfc-52.html" title="MS RFC 52: One-pass query processing"
             >next</a> |</li>
        <li class="right" >
          <a href="ms-rfc-50.html" title="MS RFC 50: OpenGL Rendering Support"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Development</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >Request for Comments</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; <a href="../../copyright.html">Copyright</a> 2018, Open Source Geospatial Foundation.
      Last updated on 2018-08-24.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.6.
    </div>
  </body>
</html>