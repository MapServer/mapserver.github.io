<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>MS RFC 84: Migrate project repository from svn to git &#8212; MapServer 8.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx.css?v=6c7b17ac" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=dd298242" />
    <link rel="stylesheet" type="text/css" href="../../_static/ribbon.css?v=ea091bf4" />
    
    <script src="../../_static/documentation_options.js?v=521b6f53"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="icon" href="../../_static/mapserver.ico"/>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="MS RFC 85: Vector Contour Rendering (CONNECTIONTYPE CONTOUR)" href="ms-rfc-85.html" />
    <link rel="prev" title="MS RFC 83: Source tree reorganization" href="ms-rfc-83.html" /> 
  </head><body>


<!-- for main branch only, do not backport this -->

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../../index.html" title="Home"><img src="../../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../../index.html" title="Home">Home</a> |
      <a href="../../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../../community/service_providers.html" title="Professional Service Providers">Service Providers</a> |      
      <a href="../../faq.html" title="Frequently Asked Questions">FAQ</a> |
      <a href="https://twitter.com/mapserver_osgeo" title="Twitter" target="_blank">Twitter</a> |
      <a href="../../download.html" title="Download Source or Binaries">Download </a> |
      <a class="badge" href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=KRJ2X44N3HA6U&source=url" target="_blank">
        <img src="https://img.shields.io/badge/donate-%E2%9D%A4%C2%A0-ff69b4.svg?style=flat" alt="Donate to MapServer">
      </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        <img src="../../_static/flagicons/en.png" alt="en" title="en" border="0" width="18px" height="13px"/>
        
          <a href="../../ar/development/rfc/ms-rfc-84.html"><img src="../../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
        
        
          <a href="../../de/development/rfc/ms-rfc-84.html"><img src="../../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
        
        
          <a href="../../el/development/rfc/ms-rfc-84.html"><img src="../../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
        
        
          <a href="../../es/development/rfc/ms-rfc-84.html"><img src="../../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
        
        
          <a href="../../fr/development/rfc/ms-rfc-84.html"><img src="../../_static/flagicons/fr.png" alt="fr" title="fr" border="0" /></a>
        
        
          <a href="../../id/development/rfc/ms-rfc-84.html"><img src="../../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
        
        
          <a href="../../it/development/rfc/ms-rfc-84.html"><img src="../../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
        
        
          <a href="../../ja/development/rfc/ms-rfc-84.html"><img src="../../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
        
        
          <a href="../../nl_NL/development/rfc/ms-rfc-84.html"><img src="../../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
        
        
          <a href="../../pl/development/rfc/ms-rfc-84.html"><img src="../../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
        
        
          <a href="../../ru/development/rfc/ms-rfc-84.html"><img src="../../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
        
        
          <a href="../../sq/development/rfc/ms-rfc-84.html"><img src="../../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
        
        
          <a href="../../tr/development/rfc/ms-rfc-84.html"><img src="../../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
        

    </td>
  </tr>
</table>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="ms-rfc-85.html" title="MS RFC 85: Vector Contour Rendering (CONNECTIONTYPE CONTOUR)"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="ms-rfc-83.html" title="MS RFC 83: Source tree reorganization"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Development</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Request for Comments</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">MS RFC 84: Migrate project repository from svn to git</a></li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="ms-rfc-84-migrate-project-repository-from-svn-to-git">
<span id="rfc84"></span><h1>MS RFC 84: Migrate project repository from svn to git<a class="headerlink" href="#ms-rfc-84-migrate-project-repository-from-svn-to-git" title="Link to this heading">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2012-03-23</p>
</dd>
<dt class="field-even">Author<span class="colon">:</span></dt>
<dd class="field-even"><p>Thomas Bonfort</p>
</dd>
<dt class="field-odd">Contact<span class="colon">:</span></dt>
<dd class="field-odd"><p>tbonfort at terriscope dot fr</p>
</dd>
<dt class="field-even">Status<span class="colon">:</span></dt>
<dd class="field-even"><p>Adopted</p>
</dd>
<dt class="field-odd">Version<span class="colon">:</span></dt>
<dd class="field-odd"><p>MapServer 6.2</p>
</dd>
</dl>
<section id="overview">
<h2>1. Overview<a class="headerlink" href="#overview" title="Link to this heading">¶</a></h2>
<p>While SVN suits our needs as a collaborative source code versionner, it
has  shortcomings that make it difficult to work with for
developpers working on multiple tasks in parallel. Git’s easy branching
makes it possible to set up branches for individual task, isolating
code changes from other branches, thus making the switch from one task
to another possible without the risk of losing or erroneously committing
work-in-progress code. Three-way merging of different branches means that
merging code from one branch to another becomes a rapid task, by only having
to deal with actual conflicts in the code. Offline committing and access
to entire history make working offline possible.</p>
<p>There is already somewhat of a consensus that the migration from SVN to git is
a good move. Discussion remains as to how this transition should be performed.
This RFC outlines the different options available for hosting the official
repository, and the different options available for our ticket tracking.</p>
<p>Current investigation has retained two majors options that we could go down
with:</p>
<ul class="simple">
<li><p>Repository migrated to github, use github provided issue tracking. This
option will be referred to as  “GitHub hosting”.</p></li>
<li><p>Repository hosted by osgeo, current trac instance migrated to hook
on the new repository. This option will be referred to as “Osgeo hosting”</p></li>
</ul>
</section>
<section id="github-hosting">
<h2>2. GitHub hosting<a class="headerlink" href="#github-hosting" title="Link to this heading">¶</a></h2>
<p>This option consists in moving our entire code+ticket infrastructure
to github. The current trac instance becomes nearly read-only, new
tickets cannot be created on it. Existing tickets are migrated to github
with a script taking a trac postgresql dump (once the migration starts,
our trac instance becomes read-only).</p>
<section id="advantages">
<h3>Advantages<a class="headerlink" href="#advantages" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Code hosting:</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p>No need to worry about hosting infrastructure</p></li>
<li><p>Can be up and running in a short delay</p></li>
<li><p>Support for pull requests, allowing external contributions to be rapidly
merged into our repository</p></li>
<li><p>Online code editing for quick fixups</p></li>
<li><p>GitHub visualization tools, for example to check which branches are likely
to contain conflicting code sections</p></li>
<li><p>Code and patch commenting make collaboratively working on a given feature
very lightweight, i.e. just at your comment on the code line which seems
problematic to you</p></li>
<li><p>Documentation contributions highly simplified for one-shot contributions.</p></li>
</ul>
</div></blockquote>
<ul class="simple">
<li><p>Issue tracking:</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p>Integration of ticket state with commit messages (e.g: “fix mem allocation
in mapDraw(), closes issue #1234</p></li>
<li><p>Email replies to ticket notifications</p></li>
<li><p>The free-form label tagging of issues might open up some interesting usages</p></li>
<li><p>Versioned text-base attachments (gists), with commenting</p></li>
</ul>
</div></blockquote>
</section>
<section id="inconveniences">
<h3>Inconveniences<a class="headerlink" href="#inconveniences" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Hosting by a private company, which might become an issue if their TOS evolve
or if they go out of business. The source code availability is not an issue
as is possible to maintain a mirror on an osgeo server, and each developer
has a checkout of the full source control history. Ticket migration would be
an issue, but there are APIs available to extract existing tickets.</p></li>
<li><p>Issue tracker is in some ways less featurefull than trac. The only hardcoded
attributes are the assignee and the milestone. All the other triaging
information goes into free formed labels, a la gmail.</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p>No way to automatically assign a ticket owner given a component</p></li>
<li><p>No support for image attachments, can be referenced by url but must be
hosted elsewhere.</p></li>
<li><p>No support for private security tickets</p></li>
</ul>
</div></blockquote>
<ul class="simple">
<li><p>Administering committer access will be done through github, osgeo credentials do
not apply. Git does not support fine-grained commit permissions per directory, there
will be a separate repository for the docs to account for the larger number of
committers there.</p></li>
</ul>
</section>
</section>
<section id="git-worflows">
<h2>3. Git Worflows<a class="headerlink" href="#git-worflows" title="Link to this heading">¶</a></h2>
<section id="stable-branches">
<h3>Stable Branches<a class="headerlink" href="#stable-branches" title="Link to this heading">¶</a></h3>
<p>This document outlines a workflow for fixing bugs in our stable branches:
<a class="reference external" href="http://www.net-snmp.org/wiki/index.php/Git_Workflow">http://www.net-snmp.org/wiki/index.php/Git_Workflow</a>
I believe it is a very good match for our stable release management:
- pick the oldest branch where the fix should be applied
- commit the fix to this oldest branch
- merge the old branch down to all the more recent ones, including main</p>
</section>
<section id="release-management">
<h3>Release Management<a class="headerlink" href="#release-management" title="Link to this heading">¶</a></h3>
<p>Instead of freezing development during our beta cycle, a new release branch is
created once the feature freeze is decided, and our betas, release and
subsequent bugfix releases are tagged off of this branch. Bug fixes are
committed to this new stable branch, and merged into main. New features can
continue to be added to main during all the beta phase.
<a class="reference external" href="http://nvie.com/posts/a-successful-git-branching-model/">http://nvie.com/posts/a-successful-git-branching-model/</a> is an interesting read
even if it does not fit our stable release branches exactly.</p>
</section>
</section>
<section id="upgrade-path-for-svn-users">
<h2>4. Upgrade path for SVN users<a class="headerlink" href="#upgrade-path-for-svn-users" title="Link to this heading">¶</a></h2>
<p>For those users who do not wish to change their workflow and continue with SVN
commands. This is not the recommended way to work with git, as local or remote
changes might end up in having conflicts to resolve, like with svn.</p>
<dl class="simple">
<dt>checkout:</dt><dd><ul class="simple">
<li><p>git clone <a class="reference external" href="mailto:git&#37;&#52;&#48;github&#46;com">git<span>&#64;</span>github<span>&#46;</span>com</a>:mapserver/mapserver</p></li>
</ul>
</dd>
<dt>update</dt><dd><ul class="simple">
<li><p>git pull origin main</p></li>
</ul>
</dd>
<dt>commit files</dt><dd><ul class="simple">
<li><p>git add [list of files]</p></li>
<li><p>git commit -m “foo”</p></li>
<li><p>git push origin main</p></li>
</ul>
</dd>
<dt>fix in branch, and merge fix into main</dt><dd><ul class="simple">
<li><p>git checkout ms-branch-6-0</p></li>
<li><p>git add [list of files]</p></li>
<li><p>git commit -m “foo”</p></li>
<li><p>git push origin ms-branch-6-0</p></li>
<li><p>git checkout main</p></li>
<li><p>git merge ms-branch-6-0</p></li>
<li><p>git push origin main</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tasks">
<h2>5. Tasks<a class="headerlink" href="#tasks" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>import svn to git</p></li>
<li><p>assign github users</p></li>
<li><p>split into sub-projects (c.f. rfc83):</p>
<ul>
<li><p>mapserver</p></li>
<li><p>mapcache</p></li>
<li><p>tinyows</p></li>
<li><p>msautotest</p></li>
<li><p>docs</p></li>
</ul>
</li>
<li><p>document release process</p></li>
<li><p>migrate website scripts</p></li>
<li><p>switch trac site to read-only</p></li>
</ul>
</section>
<section id="bug-id">
<h2>6. Bug ID<a class="headerlink" href="#bug-id" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>TBD</p></li>
</ul>
</section>
<section id="voting-history">
<h2>6. Voting history<a class="headerlink" href="#voting-history" title="Link to this heading">¶</a></h2>
<p>+1 from ThomasB ,MikeS, UmbertoN, HowardB, SteveW, DanielM, SteveL,
TamasS, JeffM, AssefaY, TomK, PerryN</p>
<p>-0 from OlivierC</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p>
<a href="../../about.html" title="About">About</a><br>
<a href="../../products.html" title="Products">Products</a><br>
<a href="../../community/index.html" title="Community">Community</a><br>
<a href="../index.html" title="Development">Development</a><br>
<a href="../../download.html" title="Downloads">Downloads</a><br>
<a href="../../documentation.html" title="Documentation">Documentation</a><br>
<a href="../../faq.html" title="FAQ">FAQ</a><br>
<a href="../../psc.html" title="PSC">PSC</a><br>
<a href="https://twitter.com/mapserver_osgeo" title="Twitter">Twitter</a>
</p>
  <h3>Current Table Of Contents</h3>
  <ul>
<li><a class="reference internal" href="#">MS RFC 84: Migrate project repository from svn to git</a><ul>
<li><a class="reference internal" href="#overview">1. Overview</a></li>
<li><a class="reference internal" href="#github-hosting">2. GitHub hosting</a><ul>
<li><a class="reference internal" href="#advantages">Advantages</a></li>
<li><a class="reference internal" href="#inconveniences">Inconveniences</a></li>
</ul>
</li>
<li><a class="reference internal" href="#git-worflows">3. Git Worflows</a><ul>
<li><a class="reference internal" href="#stable-branches">Stable Branches</a></li>
<li><a class="reference internal" href="#release-management">Release Management</a></li>
</ul>
</li>
<li><a class="reference internal" href="#upgrade-path-for-svn-users">4. Upgrade path for SVN users</a></li>
<li><a class="reference internal" href="#tasks">5. Tasks</a></li>
<li><a class="reference internal" href="#bug-id">6. Bug ID</a></li>
<li><a class="reference internal" href="#voting-history">6. Voting history</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="ms-rfc-85.html" title="MS RFC 85: Vector Contour Rendering (CONNECTIONTYPE CONTOUR)"
             >next</a> |</li>
        <li class="right" >
          <a href="ms-rfc-83.html" title="MS RFC 83: Source tree reorganization"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Development</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >Request for Comments</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">MS RFC 84: Migrate project repository from svn to git</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; <a href="../../copyright.html">Copyright</a> 2023, Open Source Geospatial Foundation.
      Last updated on 2023-12-22.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.5.
    </div>
  </body>
</html>