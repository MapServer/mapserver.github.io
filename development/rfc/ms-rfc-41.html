<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>MS RFC 41: Support of WCS 1.1.x Protocol &#8212; MapServer 8.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx.css?v=6c7b17ac" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=dd298242" />
    <link rel="stylesheet" type="text/css" href="../../_static/ribbon.css?v=ea091bf4" />
    
    <script src="../../_static/documentation_options.js?v=521b6f53"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="icon" href="../../_static/mapserver.ico"/>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="MS RFC 42: Support of Cookies Forwarding" href="ms-rfc-42.html" />
    <link rel="prev" title="MS RFC 40: Support Label Text Transformations" href="ms-rfc-40.html" /> 
  </head><body>


<!-- for main branch only, do not backport this -->

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../../index.html" title="Home"><img src="../../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../../index.html" title="Home">Home</a> |
      <a href="../../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../../community/service_providers.html" title="Professional Service Providers">Service Providers</a> |      
      <a href="../../faq.html" title="Frequently Asked Questions">FAQ</a> |
      <a href="https://twitter.com/mapserver_osgeo" title="Twitter" target="_blank">Twitter</a> |
      <a href="../../download.html" title="Download Source or Binaries">Download </a> |
      <a class="badge" href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=KRJ2X44N3HA6U&source=url" target="_blank">
        <img src="https://img.shields.io/badge/donate-%E2%9D%A4%C2%A0-ff69b4.svg?style=flat" alt="Donate to MapServer">
      </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        <img src="../../_static/flagicons/en.png" alt="en" title="en" border="0" width="18px" height="13px"/>
        
          <a href="../../ar/development/rfc/ms-rfc-41.html"><img src="../../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
        
        
          <a href="../../de/development/rfc/ms-rfc-41.html"><img src="../../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
        
        
          <a href="../../el/development/rfc/ms-rfc-41.html"><img src="../../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
        
        
          <a href="../../es/development/rfc/ms-rfc-41.html"><img src="../../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
        
        
          <a href="../../fr/development/rfc/ms-rfc-41.html"><img src="../../_static/flagicons/fr.png" alt="fr" title="fr" border="0" /></a>
        
        
          <a href="../../id/development/rfc/ms-rfc-41.html"><img src="../../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
        
        
          <a href="../../it/development/rfc/ms-rfc-41.html"><img src="../../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
        
        
          <a href="../../ja/development/rfc/ms-rfc-41.html"><img src="../../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
        
        
          <a href="../../nl_NL/development/rfc/ms-rfc-41.html"><img src="../../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
        
        
          <a href="../../pl/development/rfc/ms-rfc-41.html"><img src="../../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
        
        
          <a href="../../ru/development/rfc/ms-rfc-41.html"><img src="../../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
        
        
          <a href="../../sq/development/rfc/ms-rfc-41.html"><img src="../../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
        
        
          <a href="../../tr/development/rfc/ms-rfc-41.html"><img src="../../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
        

    </td>
  </tr>
</table>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="ms-rfc-42.html" title="MS RFC 42: Support of Cookies Forwarding"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="ms-rfc-40.html" title="MS RFC 40: Support Label Text Transformations"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Development</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Request for Comments</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">MS RFC 41: Support of WCS 1.1.x Protocol</a></li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="ms-rfc-41-support-of-wcs-1-1-x-protocol">
<span id="rfc41"></span><h1>MS RFC 41: Support of WCS 1.1.x Protocol<a class="headerlink" href="#ms-rfc-41-support-of-wcs-1-1-x-protocol" title="Link to this heading">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2008/04/09</p>
</dd>
<dt class="field-even">Author<span class="colon">:</span></dt>
<dd class="field-even"><p>Frank Warmerdam</p>
</dd>
<dt class="field-odd">Contact<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="mailto:warmerdam&#37;&#52;&#48;pobox&#46;com">warmerdam<span>&#64;</span>pobox<span>&#46;</span>com</a></p>
</dd>
<dt class="field-even">Status<span class="colon">:</span></dt>
<dd class="field-even"><p>Adopted</p>
</dd>
<dt class="field-odd">Version<span class="colon">:</span></dt>
<dd class="field-odd"><p>5.2</p>
</dd>
</dl>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">¶</a></h2>
<p>It is proposed to extend MapServer to support the WCS 1.1 protocol. MapServer
already supports the WCS 1.0 protocol, but WCS 1.1 is significantly different.</p>
</section>
<section id="implementation-methodology">
<h2>Implementation Methodology<a class="headerlink" href="#implementation-methodology" title="Link to this heading">¶</a></h2>
<p>WCS 1.1 is closed based on OWS Common metadata (unlike WCS 1.0), and
implementation of the WCS service will take advantage of the OWS metadata
services in mapowscommon.c. However, mapowscommon.c is based on libxml for xml
serialization (unlike the printf() based WCS 1.0 service). For this reason,
WCS 1.1 GetCapabilities and DescribeCoverage implementations will be largely
separate from WCS 1.0 implementations and will be implemented using libxml.</p>
<p>It should be noted that the format and organization of the WCS 1.1
capabilities and coverage description methods are so different that separate
implementations would have been pretty much necessary anyways.</p>
<p>The key entry points in mapwcs.c for WCS services will be updated to “call
out” to WCS 1.1 versions of the services in mapwcs11.c.</p>
<p>It is anticipated that the bulk of the WCS 1.0 GetCoverage implementation will
be shared with WCS 1.1 with special WCS 1.1 implementations to handle specific
issues in the request (RangeSet processing, and multi-part mime return results
for instance).</p>
</section>
<section id="wcs-1-1-protocol-limitations">
<h2>WCS 1.1 Protocol Limitations<a class="headerlink" href="#wcs-1-1-protocol-limitations" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Only one &lt;Field&gt; may be associated with the Range of Coverage when
served through MapServer.</p></li>
<li><p>Only two types of Axis will be supported, a “Bands” axis,
and a “Time” axis.</p></li>
</ul>
</section>
<section id="metadata-mapping">
<h2>Metadata Mapping<a class="headerlink" href="#metadata-mapping" title="Link to this heading">¶</a></h2>
<p>The current WCS metadata items are tightly related to the WCS 1.0 protocol,
while the WCS 1.1 protocol used a substantially different form and conventions
for service, and coverage descriptions as well as for the getcoverage request.
The following table indicates which WCS metadata items are mapped to what
coverage XML elements in WCS 1.0 and WCS 1.1:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MapServer</span>                   <span class="n">WCS</span> <span class="mf">1.1</span>                  <span class="n">WCS</span> <span class="mf">1.0</span>
<span class="o">---------</span>                   <span class="o">-------</span>                  <span class="o">-------</span>
<span class="o">&lt;</span><span class="n">x</span><span class="o">&gt;</span><span class="n">_formats</span>                 <span class="n">SupportedFormat</span>          <span class="n">formats</span>
<span class="o">&lt;</span><span class="n">x</span><span class="o">&gt;</span><span class="n">_keywordlist</span>             <span class="n">ows</span><span class="p">:</span><span class="n">Keywords</span>             <span class="n">keywords</span>
<span class="o">&lt;</span><span class="n">x</span><span class="o">&gt;</span><span class="n">_label</span>                   <span class="p">(</span><span class="n">unused</span><span class="p">)</span>                 <span class="n">label</span>
<span class="o">&lt;</span><span class="n">x</span><span class="o">&gt;</span><span class="n">_description</span>             <span class="n">ows</span><span class="p">:</span><span class="n">Title</span>                <span class="n">description</span>
<span class="o">&lt;</span><span class="n">x</span><span class="o">&gt;</span><span class="n">_abstract</span> <span class="p">(</span><span class="n">new</span><span class="p">)</span>          <span class="n">ows</span><span class="p">:</span><span class="n">Abstract</span>             <span class="p">(</span><span class="n">unused</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">x</span><span class="o">&gt;</span><span class="n">_metadatalink_href</span>       <span class="p">(</span><span class="n">unused</span><span class="p">)</span>                 <span class="n">metadataLink</span>
<span class="o">&lt;</span><span class="n">x</span><span class="o">&gt;</span><span class="n">_nativeformat</span>            <span class="p">(</span><span class="n">unused</span><span class="p">)</span>                 <span class="n">nativeFormat</span>
<span class="o">&lt;</span><span class="n">x</span><span class="o">&gt;</span><span class="n">_rangeset_name</span>           <span class="n">Field</span><span class="o">.</span><span class="n">Identifier</span>         <span class="n">RangeSet</span><span class="o">.</span><span class="n">name</span>
<span class="o">&lt;</span><span class="n">x</span><span class="o">&gt;</span><span class="n">_rangeset_label</span>          <span class="n">Field</span><span class="o">.</span><span class="n">Title</span>              <span class="n">Rangeset</span><span class="o">.</span><span class="n">label</span>
<span class="o">&lt;</span><span class="n">x</span><span class="o">&gt;</span><span class="n">_bands_name</span>              <span class="n">Axis</span><span class="o">.</span><span class="n">identifier</span>          <span class="n">AxisDescription</span><span class="o">.</span><span class="n">name</span>
</pre></div>
</div>
</section>
<section id="urns-coordinate-systems-and-axis-orientation">
<h2>URNs / Coordinate Systems and Axis Orientation<a class="headerlink" href="#urns-coordinate-systems-and-axis-orientation" title="Link to this heading">¶</a></h2>
<p>WCS 1.1 uses URNs like “<a class="reference external" href="urn:ogc:def:crs:EPSG::4326">urn:ogc:def:crs:EPSG::4326</a>” or
“<a class="reference external" href="urn:ogc:def:crs:OGC::CRS84">urn:ogc:def:crs:OGC::CRS84</a>”.  In addition the WCS protocol is required to
honour EPSG axis conventions when using coordinate systems within the EPSG
authority space.  This means, for instance, that any coordinates in
the <a class="reference external" href="urn:ogc:def:crs:EPSG::4326">urn:ogc:def:crs:EPSG::4326</a> coordinate system must be provided in lat,long
ordering instead of the conventional long,lat.</p>
<p>In order to implement these requirements, several changes are planned:</p>
<ul class="simple">
<li><p>msLoadProjectionString() will be updated to expand URNs in the
EPSG and OGC name spaces.</p></li>
<li><p>msLoadProjectionString() will add the “+epsgaxis=ne” parameter for URNs for
GCS codes in the EPSG name space.</p></li>
<li><p>New msAxisNormalizePoints() and msAxisDenormalizePoints() will be added for
converting between normalized (easting,northing) axis orientation and
EPSG preferred (denormalized) axis orientation (sometimes northing,easting).
These functions will scan the p-&gt;args[] list for the +epsgaxis=ne to decide.</p></li>
<li><p>msOWSCommonBoundingBox() will be modified to use these axis denormalization
function to denormalize axis ordering for EPSG GCS URNs.</p></li>
<li><p>the WCS 1.1 GetCoverage call will use msAxisNormalizePoints() to fix up
orientation of request axes when needed.</p></li>
</ul>
</section>
<section id="mapscript">
<h2>MapScript<a class="headerlink" href="#mapscript" title="Link to this heading">¶</a></h2>
<p>No changes to MapScript are anticipated.</p>
</section>
<section id="backwards-compatibility">
<h2>Backwards Compatibility<a class="headerlink" href="#backwards-compatibility" title="Link to this heading">¶</a></h2>
<p>No alterations to WCS 1.0 support are expected, and it is not expected that
the mechanisms for specifying services metadata will be changed though it is
possible a few metadata items used only in WCS 1.1 will be added.</p>
</section>
<section id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Link to this heading">¶</a></h2>
<p>The <a class="reference internal" href="../../ogc/wcs_server.html#wcs-server"><span class="std std-ref">WCS Server</span></a> will be extended to discuss WCS 1.1 related issues.</p>
</section>
<section id="implementation-resources">
<h2>Implementation Resources<a class="headerlink" href="#implementation-resources" title="Link to this heading">¶</a></h2>
<p>Implementation will be done by Frank Warmerdam with financial support from
Noetix Research Inc. and the Geoconnections program of the Canadian
Government. Preliminary implementation is already operational in svn trunk,
and work completion is anticipated by March 1st.</p>
</section>
<section id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Link to this heading">¶</a></h2>
<p>Tests will be added to msautotest/wxs for the WCS 1.1 protocol. Additional
assistance with WCS 1.1 validation from other contributors would be welcome.</p>
</section>
<section id="bug-id">
<h2>Bug ID<a class="headerlink" href="#bug-id" title="Link to this heading">¶</a></h2>
<p>None Yet.</p>
</section>
<section id="voting-history">
<h2>Voting History<a class="headerlink" href="#voting-history" title="Link to this heading">¶</a></h2>
<p>FrankW(+1), AssefaY(+1), TomK(+1), DanielM(+1), PerryN(+1)</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p>
<a href="../../about.html" title="About">About</a><br>
<a href="../../products.html" title="Products">Products</a><br>
<a href="../../community/index.html" title="Community">Community</a><br>
<a href="../index.html" title="Development">Development</a><br>
<a href="../../download.html" title="Downloads">Downloads</a><br>
<a href="../../documentation.html" title="Documentation">Documentation</a><br>
<a href="../../faq.html" title="FAQ">FAQ</a><br>
<a href="../../psc.html" title="PSC">PSC</a><br>
<a href="https://twitter.com/mapserver_osgeo" title="Twitter">Twitter</a>
</p>
  <h3>Current Table Of Contents</h3>
  <ul>
<li><a class="reference internal" href="#">MS RFC 41: Support of WCS 1.1.x Protocol</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#implementation-methodology">Implementation Methodology</a></li>
<li><a class="reference internal" href="#wcs-1-1-protocol-limitations">WCS 1.1 Protocol Limitations</a></li>
<li><a class="reference internal" href="#metadata-mapping">Metadata Mapping</a></li>
<li><a class="reference internal" href="#urns-coordinate-systems-and-axis-orientation">URNs / Coordinate Systems and Axis Orientation</a></li>
<li><a class="reference internal" href="#mapscript">MapScript</a></li>
<li><a class="reference internal" href="#backwards-compatibility">Backwards Compatibility</a></li>
<li><a class="reference internal" href="#documentation">Documentation</a></li>
<li><a class="reference internal" href="#implementation-resources">Implementation Resources</a></li>
<li><a class="reference internal" href="#testing">Testing</a></li>
<li><a class="reference internal" href="#bug-id">Bug ID</a></li>
<li><a class="reference internal" href="#voting-history">Voting History</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="ms-rfc-42.html" title="MS RFC 42: Support of Cookies Forwarding"
             >next</a> |</li>
        <li class="right" >
          <a href="ms-rfc-40.html" title="MS RFC 40: Support Label Text Transformations"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Development</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >Request for Comments</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">MS RFC 41: Support of WCS 1.1.x Protocol</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; <a href="../../copyright.html">Copyright</a> 2023, Open Source Geospatial Foundation.
      Last updated on 2023-12-22.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.5.
    </div>
  </body>
</html>