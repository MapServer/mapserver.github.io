<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>MS RFC 35: Standards Compliance Enforcement &#8212; MapServer 8.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx.css?v=6c7b17ac" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=dd298242" />
    <link rel="stylesheet" type="text/css" href="../../_static/ribbon.css?v=ea091bf4" />
    
    <script src="../../_static/documentation_options.js?v=521b6f53"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="icon" href="../../_static/mapserver.ico"/>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="MS RFC 36: Simplified template support for query output" href="ms-rfc-36.html" />
    <link rel="prev" title="MS RFC 34: MapServer Release Manager and Release Process" href="ms-rfc-34.html" /> 
  </head><body>


<!-- for main branch only, do not backport this -->

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../../index.html" title="Home"><img src="../../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../../index.html" title="Home">Home</a> |
      <a href="../../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../../community/service_providers.html" title="Professional Service Providers">Service Providers</a> |      
      <a href="../../faq.html" title="Frequently Asked Questions">FAQ</a> |
      <a href="https://twitter.com/mapserver_osgeo" title="Twitter" target="_blank">Twitter</a> |
      <a href="../../download.html" title="Download Source or Binaries">Download </a> |
      <a class="badge" href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=KRJ2X44N3HA6U&source=url" target="_blank">
        <img src="https://img.shields.io/badge/donate-%E2%9D%A4%C2%A0-ff69b4.svg?style=flat" alt="Donate to MapServer">
      </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        <img src="../../_static/flagicons/en.png" alt="en" title="en" border="0" width="18px" height="13px"/>
        
          <a href="../../ar/development/rfc/ms-rfc-35.html"><img src="../../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
        
        
          <a href="../../de/development/rfc/ms-rfc-35.html"><img src="../../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
        
        
          <a href="../../el/development/rfc/ms-rfc-35.html"><img src="../../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
        
        
          <a href="../../es/development/rfc/ms-rfc-35.html"><img src="../../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
        
        
          <a href="../../fr/development/rfc/ms-rfc-35.html"><img src="../../_static/flagicons/fr.png" alt="fr" title="fr" border="0" /></a>
        
        
          <a href="../../id/development/rfc/ms-rfc-35.html"><img src="../../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
        
        
          <a href="../../it/development/rfc/ms-rfc-35.html"><img src="../../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
        
        
          <a href="../../ja/development/rfc/ms-rfc-35.html"><img src="../../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
        
        
          <a href="../../nl_NL/development/rfc/ms-rfc-35.html"><img src="../../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
        
        
          <a href="../../pl/development/rfc/ms-rfc-35.html"><img src="../../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
        
        
          <a href="../../ru/development/rfc/ms-rfc-35.html"><img src="../../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
        
        
          <a href="../../sq/development/rfc/ms-rfc-35.html"><img src="../../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
        
        
          <a href="../../tr/development/rfc/ms-rfc-35.html"><img src="../../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
        

    </td>
  </tr>
</table>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="ms-rfc-36.html" title="MS RFC 36: Simplified template support for query output"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="ms-rfc-34.html" title="MS RFC 34: MapServer Release Manager and Release Process"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Development</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Request for Comments</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">MS RFC 35: Standards Compliance Enforcement</a></li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="ms-rfc-35-standards-compliance-enforcement">
<h1>MS RFC 35: Standards Compliance Enforcement<a class="headerlink" href="#ms-rfc-35-standards-compliance-enforcement" title="Link to this heading">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Date<span class="colon">:</span></dt>
<dd class="field-odd"><p>2007/10/16</p>
</dd>
<dt class="field-even">Author<span class="colon">:</span></dt>
<dd class="field-even"><p>Frank Warmerdam, Daniel Morissette</p>
</dd>
<dt class="field-odd">Contact<span class="colon">:</span></dt>
<dd class="field-odd"><p>warmerdam at pobox.com, dmorissette at mapgears.com</p>
</dd>
<dt class="field-even">Last Edited<span class="colon">:</span></dt>
<dd class="field-even"><p>2007/12/07</p>
</dd>
<dt class="field-odd">Status<span class="colon">:</span></dt>
<dd class="field-odd"><p>Withdrawn (2007/12/07)</p>
</dd>
</dl>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">¶</a></h2>
<p>This RFC introduces a mechanism to tell mapserver to enforce OGC standards
compliance, or alternatively to be permissive. MapServer should continue to
implement the standards as closely as possible, but it has been found that in
some cases strict compliance reduces interoperability instead of increasing
it.</p>
<p>One example of this is the the requirement for the STYLES parameter in WMS
GetMap requests which has been enforced in MapServer 5.0.0. Enforcing this
requirement effectively prevented a number of WMS client implementations from
connecting to MapServer because they did not include the required STYLES
parameter in their GetMap request. This RFC also details short term
adjustments to handling of the STYLE= required parameter in MapServer 5.</p>
</section>
<section id="ows-compliance-metadata">
<h2>OWS_COMPLIANCE METADATA<a class="headerlink" href="#ows-compliance-metadata" title="Link to this heading">¶</a></h2>
<p>This will be achieved by introducing a new MAP level metadata item named
“ows_compliance” with the possible values “pedantic” and “permissive”, with
the default being “permissive” if not specified. Variations for specific
protocols will also be supported in the usual fashion for OWS metadata (ie.
wms_compliance, wfs_compliance, wcs_compliance, sos_compliance).</p>
<p>If this keyword value is “permissive”, then when practical and unambiguous
MapServer may attempt to be forgiving of missing or otherwise non-compliant
requests and input in the interest of increasing MapServer’s usability in real
life interoperability scenarios. This may include things such as allowing
protocol parameters to be omitted in requests that are required by the OGC
specifications, allowing services to operate even if metadata is missing from
the mapfile to fill required fields in capabilities.</p>
<p>If this keyword value is “pedantic”, then to the extent practical MapServer
will attempt to generate an error if it’s input (WxS protocol requests,
mapfile incomplete, etc) is not in full compliance with the requirements of
the OGC specifications.</p>
<p>It is foreseen that users wishing to encourage good standards compliance
behavior in clients, and to ensure they don’t accidentally put up web services
with incomplete metadata will use the “pedantic” mode. It is anticipated that
“pedantic” mode will also be used when MapServer is run through OGC CITE and
similar test suites.</p>
<p>It is foreseen that “permissive” mode will be used by those wishing to ensure
their service is accessible by the broadest set of possible clients, even if
they are not strictly operating to the standards.</p>
<p>Developers should keep in mind that adding more exceptions in the permissive
mode should not be taken lightly as this encourages misuse of the specs and
bloats the code with unnecessary exceptions.</p>
</section>
<section id="msowslookupmetadata">
<h2>msOWSLookupMetadata()<a class="headerlink" href="#msowslookupmetadata" title="Link to this heading">¶</a></h2>
<p>In actual code, the compliance keyword might be tested using
msOWSLookupMetadata() in a manner similar to this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">stylesfound</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">sldfound</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">if</span><span class="p">(</span> <span class="n">strcasecmp</span><span class="p">(</span><span class="n">msOWSLookupMetadata</span><span class="p">(</span><span class="o">&amp;</span><span class="p">(</span><span class="nb">map</span><span class="o">-&gt;</span><span class="n">metadata</span><span class="p">),</span><span class="s2">&quot;MO&quot;</span><span class="p">,</span><span class="s2">&quot;compliance&quot;</span><span class="p">),</span>
                 <span class="s2">&quot;pedantic&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
    <span class="n">msSetError</span><span class="p">(</span><span class="n">MS_WMSERR</span><span class="p">,</span> <span class="s2">&quot;Missing required parameter STYLES&quot;</span><span class="p">,</span>
               <span class="s2">&quot;msWMSLoadGetMapParams()&quot;</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">msWMSException</span><span class="p">(</span><span class="nb">map</span><span class="p">,</span> <span class="n">nVersion</span><span class="p">,</span> <span class="s2">&quot;MissingParameterValue&quot;</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="n">msDebug</span><span class="p">(</span> <span class="s2">&quot;WMS request missing STYLES parameter, permissively ignoring.&quot;</span> <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="mapserver-5-0-1">
<h2>MapServer 5.0.1<a class="headerlink" href="#mapserver-5-0-1" title="Link to this heading">¶</a></h2>
<p>For MapServer 5.0.1 the only change anticipated to be made in the code is the
above example, requiring the STYLES parameter only in pedantic mode.</p>
<p>If other standards enforcement issues are discovered to be unnecessarily
interfering with use of MapServer in real life interoperability they may also
be changed in 5.0.x to be based off this keyword.</p>
</section>
<section id="mapserver-5-1">
<h2>MapServer 5.1<a class="headerlink" href="#mapserver-5-1" title="Link to this heading">¶</a></h2>
<p>In MapServer 5.1, and the future, if other standards enforcement issues are
discovered to be unnecessarily interfering with use of MapServer in real life
interoperability scenarios they may also be changed to be based off this
keyword.</p>
<p>Once again, developers should keep in mind that adding more exceptions in the
permissive mode should not be taken lightly as this encourages misuse of the
specs and bloats the code with unnecessary exceptions.</p>
<p>As part of implementation of this RFC the authors will review all “WARNING:”
entries emitted in capabilities documents in places like mapwms.c to see if
they ought to be turned into fatal errors when operating in “pedantic” mode.</p>
</section>
<section id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Link to this heading">¶</a></h2>
<p>The ows_compliance keyword will be added to the MapServer 5 reference
documentation.</p>
</section>
<section id="implementation">
<h2>Implementation<a class="headerlink" href="#implementation" title="Link to this heading">¶</a></h2>
<p>The described changes will be made in MapServer 5.0 and MapServer 5.1 by Frank
Warmerdam and/or Daniel Morissette with the MapServer 5.0 changes in time for
a 5.0.1 release. It is hoped that all OWS service developers will apply the
permissive/pedantic tests in OWS services in the future as required and as
issues come up.</p>
</section>
<section id="mapscript">
<h2>MapScript<a class="headerlink" href="#mapscript" title="Link to this heading">¶</a></h2>
<p>No changes are anticipated in mapscript as it already has metadata setting
methods.</p>
</section>
<section id="backwards-compatibility-issues">
<h2>Backwards Compatibility Issues<a class="headerlink" href="#backwards-compatibility-issues" title="Link to this heading">¶</a></h2>
<p>Implementation of this feature should restore backward compatible default
behavior in MapServer 5 with MapServer 4.x. No other compatibility issues are
anticipated.</p>
</section>
<section id="bug-id">
<h2>Bug ID<a class="headerlink" href="#bug-id" title="Link to this heading">¶</a></h2>
<p><a class="reference external" href="https://github.com/MapServer/MapServer/issues/2427">https://github.com/MapServer/MapServer/issues/2427</a></p>
</section>
<section id="voting-history">
<h2>Voting History<a class="headerlink" href="#voting-history" title="Link to this heading">¶</a></h2>
<p>There was a first vote around 2007/11/08 which was veto’d… and after further
discussion the RFC has been withdrawn in favor of simply restoring the
behavior of MapServer 4.10 with respect to the STYLES= parameter (i.e. make it
optional again). See ticket #2427 about this.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p>
<a href="../../about.html" title="About">About</a><br>
<a href="../../products.html" title="Products">Products</a><br>
<a href="../../community/index.html" title="Community">Community</a><br>
<a href="../index.html" title="Development">Development</a><br>
<a href="../../download.html" title="Downloads">Downloads</a><br>
<a href="../../documentation.html" title="Documentation">Documentation</a><br>
<a href="../../faq.html" title="FAQ">FAQ</a><br>
<a href="../../psc.html" title="PSC">PSC</a><br>
<a href="https://twitter.com/mapserver_osgeo" title="Twitter">Twitter</a>
</p>
  <h3>Current Table Of Contents</h3>
  <ul>
<li><a class="reference internal" href="#">MS RFC 35: Standards Compliance Enforcement</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#ows-compliance-metadata">OWS_COMPLIANCE METADATA</a></li>
<li><a class="reference internal" href="#msowslookupmetadata">msOWSLookupMetadata()</a></li>
<li><a class="reference internal" href="#mapserver-5-0-1">MapServer 5.0.1</a></li>
<li><a class="reference internal" href="#mapserver-5-1">MapServer 5.1</a></li>
<li><a class="reference internal" href="#documentation">Documentation</a></li>
<li><a class="reference internal" href="#implementation">Implementation</a></li>
<li><a class="reference internal" href="#mapscript">MapScript</a></li>
<li><a class="reference internal" href="#backwards-compatibility-issues">Backwards Compatibility Issues</a></li>
<li><a class="reference internal" href="#bug-id">Bug ID</a></li>
<li><a class="reference internal" href="#voting-history">Voting History</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="ms-rfc-36.html" title="MS RFC 36: Simplified template support for query output"
             >next</a> |</li>
        <li class="right" >
          <a href="ms-rfc-34.html" title="MS RFC 34: MapServer Release Manager and Release Process"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Development</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >Request for Comments</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">MS RFC 35: Standards Compliance Enforcement</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; <a href="../../copyright.html">Copyright</a> 2023, Open Source Geospatial Foundation.
      Last updated on 2023-12-22.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.5.
    </div>
  </body>
</html>