<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>WMS Time &#8212; MapServer 8.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx.css?v=6c7b17ac" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=dd298242" />
    <link rel="stylesheet" type="text/css" href="../_static/ribbon.css?v=ea091bf4" />
    
    <script src="../_static/documentation_options.js?v=521b6f53"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="icon" href="../_static/mapserver.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="WMS Dimension" href="wms_dimension.html" />
    <link rel="prev" title="WMS Client" href="wms_client.html" /> 
  </head><body>


<!-- for main branch only, do not backport this -->

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../index.html" title="Home"><img src="../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../index.html" title="Home">Home</a> |
      <a href="../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../community/service_providers.html" title="Professional Service Providers">Service Providers</a> |      
      <a href="../faq.html" title="Frequently Asked Questions">FAQ</a> |
      <a href="https://twitter.com/mapserver_osgeo" title="Twitter" target="_blank">Twitter</a> |
      <a href="../download.html" title="Download Source or Binaries">Download </a> |
      <a class="badge" href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=KRJ2X44N3HA6U&source=url" target="_blank">
        <img src="https://img.shields.io/badge/donate-%E2%9D%A4%C2%A0-ff69b4.svg?style=flat" alt="Donate to MapServer">
      </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        <img src="../_static/flagicons/en.png" alt="en" title="en" border="0" width="18px" height="13px"/>
        
          <a href="../ar/ogc/wms_time.html"><img src="../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
        
        
          <a href="../de/ogc/wms_time.html"><img src="../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
        
        
          <a href="../el/ogc/wms_time.html"><img src="../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
        
        
          <a href="../es/ogc/wms_time.html"><img src="../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
        
        
          <a href="../fr/ogc/wms_time.html"><img src="../_static/flagicons/fr.png" alt="fr" title="fr" border="0" /></a>
        
        
          <a href="../id/ogc/wms_time.html"><img src="../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
        
        
          <a href="../it/ogc/wms_time.html"><img src="../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
        
        
          <a href="../ja/ogc/wms_time.html"><img src="../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
        
        
          <a href="../nl_NL/ogc/wms_time.html"><img src="../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
        
        
          <a href="../pl/ogc/wms_time.html"><img src="../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
        
        
          <a href="../ru/ogc/wms_time.html"><img src="../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
        
        
          <a href="../sq/ogc/wms_time.html"><img src="../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
        
        
          <a href="../tr/ogc/wms_time.html"><img src="../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
        

    </td>
  </tr>
</table>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="wms_dimension.html" title="WMS Dimension"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="wms_client.html" title="WMS Client"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >MapServer 8.0.1 Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">OGC Support and Configuration</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">WMS Time</a></li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="wms-time">
<span id="index-0"></span><span id="id1"></span><h1><a class="toc-backref" href="#table-of-contents" role="doc-backlink">WMS Time</a><a class="headerlink" href="#wms-time" title="Link to this heading">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Author<span class="colon">:</span></dt>
<dd class="field-odd"><p>Jeff McKenna</p>
</dd>
<dt class="field-even">Contact<span class="colon">:</span></dt>
<dd class="field-even"><p>jmckenna at gatewaygeomatics.com</p>
</dd>
<dt class="field-odd">Last Updated<span class="colon">:</span></dt>
<dd class="field-odd"><p>2023-01-09</p>
</dd>
</dl>
<nav class="contents" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#wms-time" id="id2">WMS Time</a></p>
<ul>
<li><p><a class="reference internal" href="#introduction" id="id3">Introduction</a></p></li>
<li><p><a class="reference internal" href="#enabling-time-support-in-mapserver" id="id4">Enabling Time Support in MapServer</a></p></li>
<li><p><a class="reference internal" href="#future-additions" id="id5">Future Additions</a></p></li>
<li><p><a class="reference internal" href="#limitations-and-known-bugs" id="id6">Limitations and Known Bugs</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="introduction">
<h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Introduction</a><a class="headerlink" href="#introduction" title="Link to this heading">¶</a></h2>
<p>A WMS server can provide support to temporal requests. This is done by providing
a TIME parameter with a time value in the request. MapServer 4.4 and above
provides support to interpret the TIME parameter and transform the resulting values
into appropriate requests.</p>
<section id="links-to-wms-related-information">
<h3>Links to WMS-Related Information<a class="headerlink" href="#links-to-wms-related-information" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="wms_server.html#wms-server"><span class="std std-ref">MapServer WMS Server HowTo</span></a></p></li>
<li><p><a class="reference internal" href="wms_client.html#wms-client"><span class="std std-ref">MapServer WMS Client HowTo</span></a></p></li>
<li><p><a class="reference external" href="https://www.ogc.org/standards/wms">WMS 1.1.1 specification</a></p></li>
<li><p><a class="reference external" href="http://mapserver.github.io/ms-ogc-workshop/">MapServer OGC Web Services Workshop</a></p></li>
</ul>
</section>
</section>
<section id="enabling-time-support-in-mapserver">
<h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Enabling Time Support in MapServer</a><a class="headerlink" href="#enabling-time-support-in-mapserver" title="Link to this heading">¶</a></h2>
<section id="time-patterns">
<h3>Time Patterns<a class="headerlink" href="#time-patterns" title="Link to this heading">¶</a></h3>
<p>WMS specifies that the basic format used for TIME requests is based on the ISO
8601:1988(E) “extended” format. MapServer supports a limited set of patterns that
are defined in the ISO 8601 specifications, as well as few other patterns that are
useful but not compliant to ISO 8601. Here is a list of patterns currently supported:</p>
<p><strong>Table 1. Supported Time Patterns</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Time Patterns</p></th>
<th class="head"><p>Examples</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>YYYYMMDD</p></td>
<td><p>20041012</p></td>
</tr>
<tr class="row-odd"><td><p>YYYY-MM-DDTHH:MM:SSZ</p></td>
<td><p>2004-10-12T13:55:20Z</p></td>
</tr>
<tr class="row-even"><td><p>YYYY-MM-DDTHH:MM:SS</p></td>
<td><p>2004-10-12T13:55:20</p></td>
</tr>
<tr class="row-odd"><td><p>YYYY-MM-DD HH:MM:SS</p></td>
<td><p>2004-10-12 13:55:20</p></td>
</tr>
<tr class="row-even"><td><p>YYYY-MM-DDTHH:MM</p></td>
<td><p>2004-10-12T13:55</p></td>
</tr>
<tr class="row-odd"><td><p>YYYY-MM-DD HH:MM</p></td>
<td><p>2004-10-12 13:55</p></td>
</tr>
<tr class="row-even"><td><p>YYYY-MM-DDTHH</p></td>
<td><p>2004-10-12T13</p></td>
</tr>
<tr class="row-odd"><td><p>YYYY-MM-DD HH</p></td>
<td><p>2004-10-12 13</p></td>
</tr>
<tr class="row-even"><td><p>YYYY-MM-DD</p></td>
<td><p>2004-10-12</p></td>
</tr>
<tr class="row-odd"><td><p>YYYY-MM</p></td>
<td><p>2004-10</p></td>
</tr>
<tr class="row-even"><td><p>YYYY</p></td>
<td><p>2004</p></td>
</tr>
<tr class="row-odd"><td><p>THH:MM:SSZ</p></td>
<td><p>T13:55:20Z</p></td>
</tr>
<tr class="row-even"><td><p>THH:MM:SS</p></td>
<td><p>T13:55:20</p></td>
</tr>
</tbody>
</table>
</section>
<section id="setting-up-a-wms-layer-with-time-support">
<h3>Setting Up a WMS Layer with Time Support<a class="headerlink" href="#setting-up-a-wms-layer-with-time-support" title="Link to this heading">¶</a></h3>
<p>To have a valid WMS layer with time support, the user has to define the following
metadata at the layer level:</p>
<ul class="simple">
<li><p><em>wms_timeextent</em>: (<em>Mandatory</em>) this is used in the capabilities document to
return the valid time values for the layer. The value defined here should be a
valid time range. (more on this in ‘Specifying Time Extents’ below)</p></li>
<li><p><em>wms_timeitem</em>: (<em>Mandatory</em>) this is the name of the field in the DB that
contains the time values.</p></li>
<li><p><em>wms_timedefault</em>: (<em>Optional</em>) this value is used if it is defined and the
TIME value is missing in the request.</p></li>
</ul>
<p>It is also recommended to set a <a class="reference internal" href="../mapfile/layer.html#layer"><span class="std std-ref">LAYER</span></a> <cite>FILTER</cite> for the time
layer to provide a default time also for non-WMS requests.  If the
time item is <cite>mytime</cite>, and the time format is “YYYYMMDD” the following
layer filter could be used:</p>
<div class="highlight-mapfile notranslate"><div class="highlight"><pre><span></span><span class="k">FILTER</span> <span class="p">(</span><span class="m m-Date">`[mytime]`</span> <span class="o">=</span> <span class="m m-Date">`2004-01-01 14:10:00`</span><span class="p">)</span>
</pre></div>
</div>
<section id="specifying-time-extents">
<h4>Specifying Time Extents<a class="headerlink" href="#specifying-time-extents" title="Link to this heading">¶</a></h4>
<p>Time Extents can be declared with the following syntax for the <em>wms_timeextent</em>
metadata (see Annex C.3 in the <a class="reference external" href="https://www.ogc.org/standards/wms">WMS 1.1.1 specification</a> document for a full
description):</p>
<ol class="arabic simple">
<li><p><em>value</em> - a single value.  This is not directly supported in MapServer but
there is an easy workwound by specifying the same value as min and max.</p></li>
<li><p><em>value1,value2,value3,…</em> - a list of multiple values.</p></li>
<li><p><em>min/max/resolution</em> - an interval defined by its lower and upper
bounds and its resolution.  This is supported in MapServer (note that
the resolution is not supported however).</p></li>
<li><p><em>min1/max1/res1,min2/max2/res2,…</em> - a list of multiple intervals.</p></li>
</ol>
</section>
<section id="example-wms-server-layer">
<h4>Example WMS-Server Layer<a class="headerlink" href="#example-wms-server-layer" title="Link to this heading">¶</a></h4>
<div class="highlight-mapfile notranslate"><div class="highlight"><pre><span></span><span class="k">LAYER</span>
  <span class="k">NAME</span> <span class="s">&quot;earthquakes&quot;</span>
  <span class="k">METADATA</span>
    <span class="s">&quot;wms_title&quot;</span>    <span class="s">&quot;Earthquakes&quot;</span>
    <span class="s">&quot;wms_timeextent&quot;</span> <span class="s">&quot;2004-01-01/2004-02-01&quot;</span>
    <span class="s">&quot;wms_timeitem&quot;</span> <span class="s">&quot;TIME&quot;</span>
    <span class="s">&quot;wms_timedefault&quot;</span> <span class="s">&quot;2004-01-01 14:10:00&quot;</span>
    <span class="s">&quot;wms_enable_request&quot;</span> <span class="s">&quot;*&quot;</span>
  <span class="k">END</span>
  <span class="k">TYPE</span> <span class="nb">POINT</span>
  <span class="k">STATUS</span> <span class="nb">ON</span>
  <span class="k">DATA</span> <span class="s">&quot;quakes&quot;</span>
  <span class="k">FILTER</span> <span class="p">(</span><span class="m m-Date">`[TIME]`</span><span class="o">=</span><span class="m m-Date">`2004-01-01 14:10:00`</span><span class="p">)</span>
  <span class="k">CLASS</span>
    <span class="p">..</span>
  <span class="k">END</span>
<span class="k">END</span>
</pre></div>
</div>
</section>
</section>
<section id="getcapabilities-output">
<h3>GetCapabilities Output<a class="headerlink" href="#getcapabilities-output" title="Link to this heading">¶</a></h3>
<p>If your layer is set up properly, requesting the capabilities on the server
outputs a Dimension element. Here is an example of a GetCapabilities result for
a layer configured for time support:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;Layer</span><span class="w"> </span><span class="na">queryable=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">opaque=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">cascaded=</span><span class="s">&quot;0&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;Name&gt;</span>earthquakes<span class="nt">&lt;/Name&gt;</span>
<span class="w">    </span><span class="nt">&lt;Title&gt;</span>Earthquakes<span class="nt">&lt;/Title&gt;</span>
<span class="w">    </span><span class="nt">&lt;SRS&gt;</span>EPSG:4326<span class="nt">&lt;/SRS&gt;</span>
<span class="w">    </span><span class="nt">&lt;LatLonBoundingBox</span><span class="w"> </span><span class="na">minx=</span><span class="s">&quot;-131.02&quot;</span><span class="w"> </span><span class="na">miny=</span><span class="s">&quot;24.84&quot;</span><span class="w"> </span><span class="na">maxx=</span><span class="s">&quot;-66.59&quot;</span><span class="w"> </span><span class="na">maxy=</span><span class="s">&quot;48.39&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;BoundingBox</span><span class="w"> </span><span class="na">SRS=</span><span class="s">&quot;EPSG:4326&quot;</span>
<span class="w">                </span><span class="na">minx=</span><span class="s">&quot;-131.02&quot;</span><span class="w"> </span><span class="na">miny=</span><span class="s">&quot;24.84&quot;</span><span class="w"> </span><span class="na">maxx=</span><span class="s">&quot;-66.59&quot;</span><span class="w"> </span><span class="na">maxy=</span><span class="s">&quot;48.39&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;Dimension</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;time&quot;</span><span class="w"> </span><span class="na">units=</span><span class="s">&quot;ISO8601&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;Extent</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;time&quot;</span><span class="w"> </span><span class="na">default=</span><span class="s">&quot;2004-01-01 14:10:00&quot;</span><span class="w"> </span><span class="na">nearestValue=</span><span class="s">&quot;0&quot;</span><span class="nt">&gt;</span>2004-01-01/2004-02-01<span class="nt">&lt;/Extent&gt;</span>
<span class="nt">&lt;/Layer&gt;</span>
</pre></div>
</div>
</section>
<section id="supported-time-requests">
<h3>Supported Time Requests<a class="headerlink" href="#supported-time-requests" title="Link to this heading">¶</a></h3>
<p>When sending a request with the TIME parameter, different types of time values
can be specified. The following are supported by MapServer:</p>
<ul class="simple">
<li><p><em>single value</em>: for example: …&amp;TIME=2004-10-12&amp;…</p></li>
<li><p><em>multiple values</em>: for example: …&amp;TIME=2004-10-12, 2004-10-13, 2004-10-14&amp;…</p></li>
<li><p><em>single range value</em>: for example: …&amp;TIME=2004-10-12/2004-10-13&amp;…</p></li>
<li><p><em>multiple range values</em>: for example: …&amp;TIME=2004-10-12/2004-10-13, 2004-10-15/2004-10-16&amp;…</p></li>
</ul>
</section>
<section id="interpreting-time-values">
<h3>Interpreting Time Values<a class="headerlink" href="#interpreting-time-values" title="Link to this heading">¶</a></h3>
<p>When MapServer receives a request with a TIME parameter, it transforms the time
requests into valid expressions that are assigned to the filter parameter on
layers that are time-aware. Here are some examples of how different types of
requests are treated (wms_timeitem is defined here as being “time_field”):</p>
<ul class="simple">
<li><p>single value (2004-10-12) <em>transforms to</em> (`[time_field]` eq `2004-10-12`)</p></li>
<li><p>multiple values (2004-10-12, 2004-10-13) <em>transform to</em> (`[time_field]` eq `2004-10-12`
OR `[time_field]` eq `2004-10-13`)</p></li>
<li><p>single range : 2004-10-12/2004-10-13 <em>transforms to</em> ((`[time_field]` ge `2004-10-12`)
AND (`[time_field]` le `2004-10-13`))</p></li>
<li><p>multiple ranges (2004-10-12/2004-10-13, 2004-10-15/2004-10-16) <em>transform to</em>
((`[time_field]` ge `2004-10-12` AND `[time_field]` le `2004-10-13`) OR
(`[time_field]` ge `2004-10-15` AND `[time_field]` le `2004-10-16`))</p></li>
</ul>
<p>As shown in the above examples, all fields and values are written inside back
tics (`) - this is the general way of specifying time expressions inside MapServer.</p>
<p><strong>Exceptions to this rule:</strong></p>
<ol class="arabic simple">
<li><p>When dealing with layers that are not Shapefiles nor through OGR, the
expression built has slightly different syntax. For example, the expression
set in the filter for the first example above would be ([time_field] = ‘2004-10-12’).</p></li>
<li><p>For <a class="reference internal" href="../input/vector/postgis.html#input-postgis"><span class="std std-ref">PostGIS/PostgreSQL</span></a> layers, the time expression built uses the <em>date_trunc</em> function
available in PostgreSQL. For example, if the user passes a time value of ‘2004-10-12’,
the expression set in the filter is date_trunc(‘day’, time_field) = ‘2004-10-12’.
The use of the date_trunc function allows requests to use the concept of time
resolution. In the example above, for a request of ‘2004-10-12’, MapServer determines
that the resolution is “day” by parsing the time string and the result gives all
records matching the date 2004-10-12 regardless of the values set for
Hours/Minutes/Seconds in the database. For more information on the date_trunc function,
please refer to the <a class="reference external" href="http://www.postgresql.org/docs/8.1/static/functions-datetime.html">PostgreSQL documentation</a>.</p></li>
</ol>
</section>
<section id="limiting-the-time-formats-to-use">
<h3>Limiting the Time Formats to Use<a class="headerlink" href="#limiting-the-time-formats-to-use" title="Link to this heading">¶</a></h3>
<p>The user has the ability to define the time format(s) to be used when a request is sent,
in metadata at the WEB level. For example, the user can define the following two formats:</p>
<div class="highlight-mapfile notranslate"><div class="highlight"><pre><span></span><span class="s">&quot;wms_timeformat&quot;</span> <span class="s">&quot;YYYY-MM-DDTHH, YYYY-MM-DDTHH:MM&quot;</span>
</pre></div>
</div>
<p>Another example is for a WMS layer that is based on time data that contains precise time
values taken every minute (e.g., 2004-10-12T13:55, 2004-10-12T13:56, 2004-10-12 T13:57, …).
Normally, a valid request on such a layer would require the time value to be as
complete as the data underneath. By defining a set of patterns to use, MapServer
introduces the notion of resolution to be used when doing a query. Using the example
above, a request TIME= 2004-10-12T13:55 would be valid and a request TIME= 2004-10-12T13
would also be valid and would return all elements taken for that hour.</p>
<p>Note that this functionality is only available on layers based on Shapefiles and OGR.</p>
</section>
<section id="example-of-wms-t-with-postgis-tile-index-for-raster-imagery">
<h3>Example of WMS-T with PostGIS Tile Index for Raster Imagery<a class="headerlink" href="#example-of-wms-t-with-postgis-tile-index-for-raster-imagery" title="Link to this heading">¶</a></h3>
<p>This example currently requires latest 4.9 CVS build!</p>
<p>Here is an example mapfile snippet for a raster WMS-T instance using a PostGIS tileindex. This example shows US Nexrad Base Reflectivity running at Iowa State U at <a class="reference external" href="http://mesonet.agron.iastate.edu/cgi-bin/wms/nexrad/n0r-t.cgi?SERVICE=WMS&amp;request=GetCapabilities">http://mesonet.agron.iastate.edu/cgi-bin/wms/nexrad/n0r-t.cgi?SERVICE=WMS&amp;request=GetCapabilities</a></p>
<div class="highlight-mapfile notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c">#  Tile Index</span>
<span class="linenos"> 2</span><span class="k">LAYER</span>
<span class="linenos"> 3</span> <span class="k">STATUS</span> <span class="nb">ON</span>
<span class="linenos"> 4</span> <span class="k">NAME</span> <span class="s">&quot;time_idx&quot;</span>
<span class="linenos"> 5</span> <span class="k">TYPE</span> <span class="nb">POLYGON</span>
<span class="linenos"> 6</span> <span class="c"># Mapserver requires some unique field for SQL query</span>
<span class="linenos"> 7</span> <span class="k">DATA</span> <span class="s">&quot;the_geom from nexrad_n0r_tindex using unique filepath&quot;</span>
<span class="linenos"> 8</span> <span class="k">METADATA</span>
<span class="linenos"> 9</span>   <span class="s">&quot;wms_title&quot;</span> <span class="s">&quot;TIME INDEX&quot;</span>
<span class="linenos">10</span>   <span class="s">&quot;wms_srs&quot;</span>   <span class="s">&quot;EPSG:4326&quot;</span>
<span class="linenos">11</span>   <span class="s">&quot;wms_extent&quot;</span> <span class="s">&quot;-126 24 -66 50&quot;</span>
<span class="linenos">12</span>   <span class="s">&quot;wms_timeextent&quot;</span> <span class="s">&quot;2003-08-01/2006-12-31/PT5M&quot;</span>
<span class="linenos">13</span>   <span class="s">&quot;wms_timeitem&quot;</span> <span class="s">&quot;datetime&quot;</span> <span class="c">#column in postgis table of type timestamp</span>
<span class="linenos">14</span>   <span class="s">&quot;wms_timedefault&quot;</span> <span class="s">&quot;2006-06-23T03:10:00Z&quot;</span>
<span class="linenos">15</span>   <span class="s">&quot;wms_enable_request&quot;</span> <span class="s">&quot;*&quot;</span>
<span class="linenos">16</span> <span class="k">END</span>
<span class="linenos">17</span> <span class="k">CONNECTION</span> <span class="s">&quot;dbname=postgis host=10.10.10.20&quot;</span>
<span class="linenos">18</span> <span class="k">CONNECTIONTYPE</span> <span class="nb">postgis</span>
<span class="linenos">19</span><span class="k">END</span>
<span class="linenos">20</span>
<span class="linenos">21</span><span class="c"># raster layer</span>
<span class="linenos">22</span><span class="k">LAYER</span>
<span class="linenos">23</span> <span class="k">NAME</span> <span class="s">&quot;nexrad-n0r-wmst&quot;</span>
<span class="linenos">24</span> <span class="k">TYPE</span> <span class="nb">RASTER</span>
<span class="linenos">25</span> <span class="k">STATUS</span> <span class="nb">ON</span>
<span class="linenos">26</span> <span class="k">DEBUG</span> <span class="nb">ON</span>
<span class="linenos">27</span> <span class="k">PROJECTION</span>
<span class="linenos">28</span>   <span class="s">&quot;init=epsg:4326&quot;</span>
<span class="linenos">29</span> <span class="k">END</span>
<span class="linenos">30</span> <span class="k">METADATA</span>
<span class="linenos">31</span>   <span class="s">&quot;wms_title&quot;</span> <span class="s">&quot;NEXRAD BASE REF WMS-T&quot;</span>
<span class="linenos">32</span>   <span class="s">&quot;wms_srs&quot;</span>   <span class="s">&quot;EPSG:4326&quot;</span>
<span class="linenos">33</span>   <span class="s">&quot;wms_extent&quot;</span> <span class="s">&quot;-126 24 -66 50&quot;</span>
<span class="linenos">34</span>   <span class="s">&quot;wms_timeextent&quot;</span> <span class="s">&quot;2003-08-01/2006-12-31/PT5M&quot;</span>
<span class="linenos">35</span>   <span class="s">&quot;wms_timeitem&quot;</span> <span class="s">&quot;datetime&quot;</span> <span class="c">#datetime is a column in postgis table of type timestamp</span>
<span class="linenos">36</span>   <span class="s">&quot;wms_timedefault&quot;</span> <span class="s">&quot;2006-06-23T03:10:00Z&quot;</span>
<span class="linenos">37</span>   <span class="s">&quot;wms_enable_request&quot;</span> <span class="s">&quot;*&quot;</span>
<span class="linenos">38</span> <span class="k">END</span>
<span class="linenos">39</span> <span class="k">OFFSITE</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>
<span class="linenos">40</span> <span class="k">TILEITEM</span> <span class="s">&quot;filepath&quot;</span> <span class="c">#filepath is a column in postgis table with varchar of the filepath to each image</span>
<span class="linenos">41</span> <span class="k">TILEINDEX</span> <span class="s">&quot;time_idx&quot;</span>
<span class="linenos">42</span> <span class="k">FILTER</span> <span class="p">(</span><span class="m m-Date">`[datetime]`</span> <span class="o">=</span> <span class="m m-Date">`2006-06-23T03:10:00Z`</span><span class="p">)</span>
<span class="linenos">43</span><span class="k">END</span>
</pre></div>
</div>
<p>You can find more information on Time and tileindexes in the <a class="reference internal" href="wcs_server.html#wcs-server"><span class="std std-ref">WCS documentation</span></a>.</p>
</section>
</section>
<section id="future-additions">
<h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Future Additions</a><a class="headerlink" href="#future-additions" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Support for a special time value: “current”.</p></li>
</ul>
</section>
<section id="limitations-and-known-bugs">
<h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Limitations and Known Bugs</a><a class="headerlink" href="#limitations-and-known-bugs" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Pattern “YYYYMMDD” does not work on Windows. (<a class="reference external" href="https://github.com/MapServer/MapServer/issues/970">Bug#970</a>)</p></li>
</ul>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p>
<a href="../about.html" title="About">About</a><br>
<a href="../products.html" title="Products">Products</a><br>
<a href="../community/index.html" title="Community">Community</a><br>
<a href="../development/index.html" title="Development">Development</a><br>
<a href="../download.html" title="Downloads">Downloads</a><br>
<a href="../documentation.html" title="Documentation">Documentation</a><br>
<a href="../faq.html" title="FAQ">FAQ</a><br>
<a href="../psc.html" title="PSC">PSC</a><br>
<a href="https://twitter.com/mapserver_osgeo" title="Twitter">Twitter</a>
</p>
  <h3>Current Table Of Contents</h3>
  <ul>
<li><a class="reference internal" href="#">WMS Time</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a><ul>
<li><a class="reference internal" href="#links-to-wms-related-information">Links to WMS-Related Information</a></li>
</ul>
</li>
<li><a class="reference internal" href="#enabling-time-support-in-mapserver">Enabling Time Support in MapServer</a><ul>
<li><a class="reference internal" href="#time-patterns">Time Patterns</a></li>
<li><a class="reference internal" href="#setting-up-a-wms-layer-with-time-support">Setting Up a WMS Layer with Time Support</a><ul>
<li><a class="reference internal" href="#specifying-time-extents">Specifying Time Extents</a></li>
<li><a class="reference internal" href="#example-wms-server-layer">Example WMS-Server Layer</a></li>
</ul>
</li>
<li><a class="reference internal" href="#getcapabilities-output">GetCapabilities Output</a></li>
<li><a class="reference internal" href="#supported-time-requests">Supported Time Requests</a></li>
<li><a class="reference internal" href="#interpreting-time-values">Interpreting Time Values</a></li>
<li><a class="reference internal" href="#limiting-the-time-formats-to-use">Limiting the Time Formats to Use</a></li>
<li><a class="reference internal" href="#example-of-wms-t-with-postgis-tile-index-for-raster-imagery">Example of WMS-T with PostGIS Tile Index for Raster Imagery</a></li>
</ul>
</li>
<li><a class="reference internal" href="#future-additions">Future Additions</a></li>
<li><a class="reference internal" href="#limitations-and-known-bugs">Limitations and Known Bugs</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="wms_dimension.html" title="WMS Dimension"
             >next</a> |</li>
        <li class="right" >
          <a href="wms_client.html" title="WMS Client"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >MapServer 8.0.1 Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >OGC Support and Configuration</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">WMS Time</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; <a href="../copyright.html">Copyright</a> 2023, Open Source Geospatial Foundation.
      Last updated on 2023-12-22.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.5.
    </div>
  </body>
</html>