<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>WMS Dimension &mdash; MapServer 7.0.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '7.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/mapserver.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="MapServer 7.0.0 documentation" href="../index.html" />
    <link rel="up" title="OGC Support and Configuration" href="index.html" />
    <link rel="next" title="Map Context" href="mapcontext.html" />
    <link rel="prev" title="WMS Time" href="wms_time.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../index.html" title="Home"><img src="../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../index.html" title="Home">Home</a> |
      <a href="../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../faq.html" title="FAQ">FAQ</a> |
      <a href="../download.html" title="Download">Download </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        <img src="../_static/flagicons/en.png" alt="en" title="en" border="0" width="18px" height="13px"/>
        
          <a href="../ar/ogc/wms_dimension.html"><img src="../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
        
        
          <a href="../de/ogc/wms_dimension.html"><img src="../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
        
        
          <a href="../el/ogc/wms_dimension.html"><img src="../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
        
        
          <a href="../es/ogc/wms_dimension.html"><img src="../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
        
        
          <a href="../fr/ogc/wms_dimension.html"><img src="../_static/flagicons/fr.png" alt="fr" title="fr" border="0" /></a>
        
        
          <a href="../id/ogc/wms_dimension.html"><img src="../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
        
        
          <a href="../it/ogc/wms_dimension.html"><img src="../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
        
        
          <a href="../ja/ogc/wms_dimension.html"><img src="../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
        
        
          <a href="../nl_NL/ogc/wms_dimension.html"><img src="../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
        
        
          <a href="../pl/ogc/wms_dimension.html"><img src="../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
        
        
          <a href="../ru/ogc/wms_dimension.html"><img src="../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
        
        
          <a href="../sq/ogc/wms_dimension.html"><img src="../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
        
        
          <a href="../tr/ogc/wms_dimension.html"><img src="../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
        
        
          <a href="../uk/ogc/wms_dimension.html"><img src="../_static/flagicons/uk.png" alt="uk" title="uk" border="0" /></a>
        

    </td>
  </tr>
</table>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="mapcontext.html" title="Map Context"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="wms_time.html" title="WMS Time"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >MapServer 7.0.0 Documentation</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">OGC Support and Configuration</a> &raquo;</li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="wms-dimension">
<span id="index-0"></span><span id="id1"></span><h1><a class="toc-backref" href="#table-of-contents">WMS Dimension</a><a class="headerlink" href="#wms-dimension" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Yewondwossen Assefa</td>
</tr>
<tr class="field-even field"><th class="field-name">Contact:</th><td class="field-body">yassefa at dmsolutions.ca</td>
</tr>
<tr class="field-odd field"><th class="field-name">Last Updated:</th><td class="field-body">2013/10/08</td>
</tr>
</tbody>
</table>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#wms-dimension" id="id2">WMS Dimension</a><ul>
<li><a class="reference internal" href="#introduction" id="id3">Introduction</a></li>
<li><a class="reference internal" href="#enabling-dimension-support-in-mapserver" id="id4">Enabling Dimension Support in MapServer</a></li>
<li><a class="reference internal" href="#getcapabilities-output" id="id5">GetCapabilities Output</a></li>
<li><a class="reference internal" href="#supported-dimension-requests" id="id6">Supported Dimension Requests</a></li>
<li><a class="reference internal" href="#processing-dimension-requests" id="id7">Processing Dimension Requests</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#table-of-contents">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>A WMS server can provide support for several type of dimensions such as time,
elevation or other types of dimensions (for example, satellite images in different wavelength bands).
For temporal dimension, please refer to <a class="reference internal" href="wms_time.html#wms-time"><span>WMS Time Support</span></a>.
This document describes support for the elevation dimension and other type of dimensions</p>
<div class="section" id="links-to-wms-related-information">
<h3>Links to WMS-Related Information<a class="headerlink" href="#links-to-wms-related-information" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference internal" href="wms_server.html#wms-server"><span>MapServer WMS Server HowTo</span></a></li>
<li><a class="reference internal" href="wms_time.html#wms-time"><span>WMS Time Support HowTo</span></a></li>
</ul>
</div>
</div>
<div class="section" id="enabling-dimension-support-in-mapserver">
<h2><a class="toc-backref" href="#table-of-contents">Enabling Dimension Support in MapServer</a><a class="headerlink" href="#enabling-dimension-support-in-mapserver" title="Permalink to this headline">¶</a></h2>
<div class="section" id="setting-up-a-wms-layer-with-dimension-support">
<h3>Setting Up a WMS Layer with dimension support<a class="headerlink" href="#setting-up-a-wms-layer-with-dimension-support" title="Permalink to this headline">¶</a></h3>
<p>To have a valid WMS layer with dimension support, the user has to define the following
metadata at the layer level:</p>
<ul class="simple">
<li><em>wms_dimensionlist</em>: (<em>Mandatory</em>) comma separated list of dimension names available for the layer</li>
<li><em>wms_[dimensionname]_item</em>: (<em>Mandatory</em>)  this is the name of the field in the DB that
contains the dimension values.</li>
<li><em>wms_[dimensionname]_units</em>: (<em>Mandatory</em>)  Attribute indicating units of dimensional axis.
If the dimensional quantity has no units (e.g. band number in a
multi-wavelength sensor), use the null string: &#8220;&#8221;. If the
dimensional quantity has units, unit names should be taken from the Unified
Code for Units of Measure (UCUM) if UCUM has an appropriate entry. When UCUM
is used, the mandatory units attribute shall be an appropriate entry from the
UCUM “name” column.</li>
<li><em>wms_[dimensionname]_extent</em>: (<em>Mandatory</em>)  defines a valid set of values for the dimension</li>
<li><em>wms_[dimensionname]_default</em>: (<em>Optional</em>)  this value is used if it is defined and the
dimension value is missing in the request.</li>
</ul>
<div class="section" id="specifying-dimension-extents">
<h4>Specifying Dimension Extents<a class="headerlink" href="#specifying-dimension-extents" title="Permalink to this headline">¶</a></h4>
<p>Dimension Extents can be declared with the following syntax for the
<em>wms_[dimensionname]_extent</em> metadata (see Annex C.3 in the
<a class="reference external" href="http://www.opengeospatial.org/docs/01-068r2.pdf">WMS 1.1.1 specification</a> document for a full description):</p>
<ol class="arabic simple">
<li><em>value</em> - a single value.</li>
<li><em>value1,value2,value3,...</em> - a list of multiple values.</li>
<li><em>min/max/resolution</em> - an interval defined by its lower and upper
bounds and its resolution.  This is supported in MapServer (note that
the resolution is not supported however).</li>
<li><em>min1/max1/res1,min2/max2/res2,...</em> - a list of multiple intervals.</li>
</ol>
</div>
<div class="section" id="example-wms-server-layer">
<h4>Example WMS-Server Layer<a class="headerlink" href="#example-wms-server-layer" title="Permalink to this headline">¶</a></h4>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">LAYER</span>
  <span class="k">NAME</span> <span class="s">&quot;lakes_elev&quot;</span>
  <span class="k">METADATA</span>
    <span class="s">&quot;wms_title&quot;</span>         <span class="s">&quot;Lakes&quot;</span>
    <span class="s">&quot;wms_description&quot;</span>   <span class="s">&quot;Lakes&quot;</span>
    <span class="s">&quot;wms_dimensionlist&quot;</span> <span class="s">&quot;elevation, text_dimension&quot;</span>
    <span class="s">&quot;wms_elevation_item&quot;</span> <span class="s">&quot;ELEV&quot;</span>
    <span class="s">&quot;wms_elevation_extent&quot;</span> <span class="s">&quot;500, 490, 480&quot;</span>
    <span class="s">&quot;wms_elevation_units&quot;</span> <span class="s">&quot;meters&quot;</span>
    <span class="s">&quot;wms_elevation_default&quot;</span> <span class="s">&quot;500&quot;</span>
    <span class="s">&quot;wms_text_dimension_item&quot;</span> <span class="s">&quot;text_dimen&quot;</span>
    <span class="s">&quot;wms_text_dimension_extent&quot;</span> <span class="s">&quot;first, second, third&quot;</span>
     <span class="s">&quot;wms_text_dimension_units&quot;</span> <span class="s">&quot;my_units&quot;</span>
     <span class="s">&quot;wms_enable_request&quot;</span> <span class="s">&quot;*&quot;</span>
  <span class="k">END</span>
  <span class="k">TYPE</span> <span class="nb">POLYGON</span>
  <span class="p">..</span>

<span class="k">END</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="getcapabilities-output">
<h2><a class="toc-backref" href="#table-of-contents">GetCapabilities Output</a><a class="headerlink" href="#getcapabilities-output" title="Permalink to this headline">¶</a></h2>
<p>If your layer is set up properly, requesting the capabilities on the server
outputs one or several Dimension elements. Here is an example of a GetCapabilities result for
a layer configured for two dimensions (wms 1.3.0):</p>
<div class="highlight-guess"><div class="highlight"><pre><span></span><span class="nt">&lt;Layer</span> <span class="na">queryable=</span><span class="s">&quot;0&quot;</span> <span class="na">opaque=</span><span class="s">&quot;0&quot;</span> <span class="na">cascaded=</span><span class="s">&quot;0&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Name&gt;</span>lakes_elev<span class="nt">&lt;/Name&gt;</span>
    <span class="nt">&lt;Title&gt;</span>Lakes<span class="nt">&lt;/Title&gt;</span>
    <span class="nt">&lt;CRS&gt;</span>EPSG:4326<span class="nt">&lt;/CRS&gt;</span>
    <span class="nt">&lt;EX_GeographicBoundingBox&gt;</span>
    <span class="nt">&lt;westBoundLongitude&gt;</span>0.000178263<span class="nt">&lt;/westBoundLongitude&gt;</span>
    <span class="nt">&lt;eastBoundLongitude&gt;</span>0.0034202<span class="nt">&lt;/eastBoundLongitude&gt;</span>
    <span class="nt">&lt;southBoundLatitude&gt;</span>-0.002134<span class="nt">&lt;/southBoundLatitude&gt;</span>
    <span class="nt">&lt;northBoundLatitude&gt;</span>0.000313775<span class="nt">&lt;/northBoundLatitude&gt;</span>
    <span class="nt">&lt;BoundingBox</span> <span class="na">CRS=</span><span class="s">&quot;EPSG:4326&quot;</span> <span class="na">minx=</span><span class="s">&quot;-0.002134&quot;</span> <span class="na">miny=</span><span class="s">&quot;0.000178263&quot;</span> <span class="na">maxx=</span><span class="s">&quot;0.000313775&quot;</span> <span class="na">maxy=</span><span class="s">&quot;0.0034202&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;Dimension</span> <span class="na">name=</span><span class="s">&quot;elevation&quot;</span> <span class="na">units=</span><span class="s">&quot;meters&quot;</span> <span class="na">default=</span><span class="s">&quot;500&quot;</span> <span class="na">multipleValues=</span><span class="s">&quot;1&quot;</span> <span class="na">nearestValue=</span><span class="s">&quot;0&quot;</span><span class="nt">&gt;</span>500, 490, 480<span class="nt">&lt;/Dimension&gt;</span>
    <span class="nt">&lt;Dimension</span> <span class="na">name=</span><span class="s">&quot;text_dimension&quot;</span> <span class="na">units=</span><span class="s">&quot;my_units&quot;</span>  <span class="na">multipleValues=</span><span class="s">&quot;1&quot;</span>  <span class="na">nearestValue=</span><span class="s">&quot;0&quot;</span><span class="nt">&gt;</span>first, second, third<span class="nt">&lt;/Dimension&gt;</span>
<span class="nt">&lt;/Layer&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="supported-dimension-requests">
<h2><a class="toc-backref" href="#table-of-contents">Supported Dimension Requests</a><a class="headerlink" href="#supported-dimension-requests" title="Permalink to this headline">¶</a></h2>
<p>A request parameter name is constructed by concatenating the prefix &#8220;dim_&#8221; with the
sample dimension Name (the value of the name attribute of the corresponding
&lt;Dimension&gt; and &lt;Extent&gt; elements in the Capabilities XML). The resulting
&#8220;dim_name&#8221; is case-insensitive. The use of the &#8220;dim_&#8221; prefix is to avoid clashes between
server-defined dimension names and current or future OGC Web Service specifications.
(Time and Elevation, being predefined, do not use the prefix.) (section C.4.2)</p>
<ul class="simple">
<li><em>single value</em>: for example: ...&amp;elevation=500&amp;...</li>
<li><em>multiple values</em>: for example: ...&amp;dim_text_dimension=first,second&amp;...</li>
<li><em>single range value</em>: for example: ...&amp;elevation=480/490&amp;...</li>
<li><em>multiple range values</em>: for example: ...&amp;elevation=480/490,490/500&amp;...</li>
</ul>
</div>
<div class="section" id="processing-dimension-requests">
<h2><a class="toc-backref" href="#table-of-contents">Processing Dimension Requests</a><a class="headerlink" href="#processing-dimension-requests" title="Permalink to this headline">¶</a></h2>
<p>When MapServer process a valid dimension wms parameter, It will process it into
expressions and set it on the <a class="reference internal" href="../mapfile/layer.html#layer"><span>LAYER</span></a> <cite>FILTER</cite> object.
If there was already a Logical “MapServer expressions”, It will be concatenated with it.</p>
<p>For example a request such as  &amp;elevation=490/500&amp;... on a MapServer layer (with an empty FILTER) would give
.. code-block:: mapfile</p>
<blockquote>
<div>FILTER (([ELEV] &gt;= 490 AND [ELEV] &lt;= 500))</div></blockquote>
<p>For example a request such as  &amp;elevation=600&amp;... on a postgis layer with an existing FILTER  would give
.. code-block:: guess</p>
<ul class="simple">
<li>FILTER (elev &gt; 500) #before request</li>
<li>FILTER ((elev &gt; 500) and (((ELEV = 600)))) #after request</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Navigation</h3>
<p>
<a href="../about.html" title="About">About</a><br>
<a href="../products.html" title="Products">Products</a><br>
<a href="../community/index.html" title="Community">Community</a><br>
<a href="../development/index.html" title="Development">Development</a><br>
<a href="../download.html" title="Downloads">Downloads</a><br>
<a href="../documentation.html" title="Documentation">Documentation</a><br>
<a href="../faq.html" title="FAQ">FAQ</a>
</p>
  <h3>Current Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">WMS Dimension</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a><ul>
<li><a class="reference internal" href="#links-to-wms-related-information">Links to WMS-Related Information</a></li>
</ul>
</li>
<li><a class="reference internal" href="#enabling-dimension-support-in-mapserver">Enabling Dimension Support in MapServer</a><ul>
<li><a class="reference internal" href="#setting-up-a-wms-layer-with-dimension-support">Setting Up a WMS Layer with dimension support</a><ul>
<li><a class="reference internal" href="#specifying-dimension-extents">Specifying Dimension Extents</a></li>
<li><a class="reference internal" href="#example-wms-server-layer">Example WMS-Server Layer</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#getcapabilities-output">GetCapabilities Output</a></li>
<li><a class="reference internal" href="#supported-dimension-requests">Supported Dimension Requests</a></li>
<li><a class="reference internal" href="#processing-dimension-requests">Processing Dimension Requests</a></li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Open Source Geospatial Foundation.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.4</a>
      
    </div>

    

    
  </body>
</html>