<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>WMS Dimension &#8212; MapServer 8.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx.css?v=6c7b17ac" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=dd298242" />
    <link rel="stylesheet" type="text/css" href="../_static/ribbon.css?v=ea091bf4" />
    
    <script src="../_static/documentation_options.js?v=521b6f53"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="icon" href="../_static/mapserver.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="Map Context" href="mapcontext.html" />
    <link rel="prev" title="WMS Time" href="wms_time.html" /> 
  </head><body>


<!-- for main branch only, do not backport this -->

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../index.html" title="Home"><img src="../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../index.html" title="Home">Home</a> |
      <a href="../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../community/service_providers.html" title="Professional Service Providers">Service Providers</a> |      
      <a href="../faq.html" title="Frequently Asked Questions">FAQ</a> |
      <a href="https://twitter.com/mapserver_osgeo" title="Twitter" target="_blank">Twitter</a> |
      <a href="../download.html" title="Download Source or Binaries">Download </a> |
      <a class="badge" href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=KRJ2X44N3HA6U&source=url" target="_blank">
        <img src="https://img.shields.io/badge/donate-%E2%9D%A4%C2%A0-ff69b4.svg?style=flat" alt="Donate to MapServer">
      </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        <img src="../_static/flagicons/en.png" alt="en" title="en" border="0" width="18px" height="13px"/>
        
          <a href="../ar/ogc/wms_dimension.html"><img src="../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
        
        
          <a href="../de/ogc/wms_dimension.html"><img src="../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
        
        
          <a href="../el/ogc/wms_dimension.html"><img src="../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
        
        
          <a href="../es/ogc/wms_dimension.html"><img src="../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
        
        
          <a href="../fr/ogc/wms_dimension.html"><img src="../_static/flagicons/fr.png" alt="fr" title="fr" border="0" /></a>
        
        
          <a href="../id/ogc/wms_dimension.html"><img src="../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
        
        
          <a href="../it/ogc/wms_dimension.html"><img src="../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
        
        
          <a href="../ja/ogc/wms_dimension.html"><img src="../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
        
        
          <a href="../nl_NL/ogc/wms_dimension.html"><img src="../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
        
        
          <a href="../pl/ogc/wms_dimension.html"><img src="../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
        
        
          <a href="../ru/ogc/wms_dimension.html"><img src="../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
        
        
          <a href="../sq/ogc/wms_dimension.html"><img src="../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
        
        
          <a href="../tr/ogc/wms_dimension.html"><img src="../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
        

    </td>
  </tr>
</table>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="mapcontext.html" title="Map Context"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="wms_time.html" title="WMS Time"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >MapServer 8.0.1 Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">OGC Support and Configuration</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">WMS Dimension</a></li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="wms-dimension">
<span id="index-0"></span><span id="id1"></span><h1><a class="toc-backref" href="#table-of-contents" role="doc-backlink">WMS Dimension</a><a class="headerlink" href="#wms-dimension" title="Link to this heading">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Author<span class="colon">:</span></dt>
<dd class="field-odd"><p>Yewondwossen Assefa</p>
</dd>
<dt class="field-even">Contact<span class="colon">:</span></dt>
<dd class="field-even"><p>yassefa at dmsolutions.ca</p>
</dd>
<dt class="field-odd">Last Updated<span class="colon">:</span></dt>
<dd class="field-odd"><p>2013-10-08</p>
</dd>
</dl>
<nav class="contents" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#wms-dimension" id="id2">WMS Dimension</a></p>
<ul>
<li><p><a class="reference internal" href="#introduction" id="id3">Introduction</a></p></li>
<li><p><a class="reference internal" href="#enabling-dimension-support-in-mapserver" id="id4">Enabling Dimension Support in MapServer</a></p></li>
<li><p><a class="reference internal" href="#getcapabilities-output" id="id5">GetCapabilities Output</a></p></li>
<li><p><a class="reference internal" href="#supported-dimension-requests" id="id6">Supported Dimension Requests</a></p></li>
<li><p><a class="reference internal" href="#processing-dimension-requests" id="id7">Processing Dimension Requests</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="introduction">
<h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Introduction</a><a class="headerlink" href="#introduction" title="Link to this heading">¶</a></h2>
<p>A WMS server can provide support for several type of dimensions such as time,
elevation or other types of dimensions (for example, satellite images in different wavelength bands).
For temporal dimension, please refer to <a class="reference internal" href="wms_time.html#wms-time"><span class="std std-ref">WMS Time Support</span></a>.
This document describes support for the elevation dimension and other type of dimensions</p>
<section id="links-to-wms-related-information">
<h3>Links to WMS-Related Information<a class="headerlink" href="#links-to-wms-related-information" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="wms_server.html#wms-server"><span class="std std-ref">MapServer WMS Server HowTo</span></a></p></li>
<li><p><a class="reference internal" href="wms_time.html#wms-time"><span class="std std-ref">WMS Time Support HowTo</span></a></p></li>
</ul>
</section>
</section>
<section id="enabling-dimension-support-in-mapserver">
<h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Enabling Dimension Support in MapServer</a><a class="headerlink" href="#enabling-dimension-support-in-mapserver" title="Link to this heading">¶</a></h2>
<section id="setting-up-a-wms-layer-with-dimension-support">
<h3>Setting Up a WMS Layer with dimension support<a class="headerlink" href="#setting-up-a-wms-layer-with-dimension-support" title="Link to this heading">¶</a></h3>
<p>To have a valid WMS layer with dimension support, the user has to define the following
metadata at the layer level:</p>
<ul class="simple">
<li><p><em>wms_dimensionlist</em>: (<em>Mandatory</em>) comma separated list of dimension names available for the layer</p></li>
<li><p><em>wms_[dimensionname]_item</em>: (<em>Mandatory</em>)  this is the name of the field in the DB that
contains the dimension values.</p></li>
<li><p><em>wms_[dimensionname]_units</em>: (<em>Mandatory</em>)  Attribute indicating units of dimensional axis.
If the dimensional quantity has no units (e.g. band number in a
multi-wavelength sensor), use the null string: “”. If the
dimensional quantity has units, unit names should be taken from the Unified
Code for Units of Measure (UCUM) if UCUM has an appropriate entry. When UCUM
is used, the mandatory units attribute shall be an appropriate entry from the
UCUM “name” column.</p></li>
<li><p><em>wms_[dimensionname]_extent</em>: (<em>Mandatory</em>)  defines a valid set of values for the dimension</p></li>
<li><p><em>wms_[dimensionname]_default</em>: (<em>Optional</em>)  this value is used if it is defined and the
dimension value is missing in the request.</p></li>
</ul>
<section id="specifying-dimension-extents">
<h4>Specifying Dimension Extents<a class="headerlink" href="#specifying-dimension-extents" title="Link to this heading">¶</a></h4>
<p>Dimension Extents can be declared with the following syntax for the
<em>wms_[dimensionname]_extent</em> metadata (see Annex C.3 in the
<a class="reference external" href="https://www.ogc.org/standards/wms">WMS 1.1.1 specification</a> document for a full description):</p>
<ol class="arabic simple">
<li><p><em>value</em> - a single value.</p></li>
<li><p><em>value1,value2,value3,…</em> - a list of multiple values.</p></li>
<li><p><em>min/max/resolution</em> - an interval defined by its lower and upper
bounds and its resolution.  This is supported in MapServer (note that
the resolution is not supported however).</p></li>
<li><p><em>min1/max1/res1,min2/max2/res2,…</em> - a list of multiple intervals.</p></li>
</ol>
</section>
<section id="example-wms-server-layer">
<h4>Example WMS-Server Layer<a class="headerlink" href="#example-wms-server-layer" title="Link to this heading">¶</a></h4>
<div class="highlight-mapfile notranslate"><div class="highlight"><pre><span></span><span class="k">LAYER</span>
  <span class="k">NAME</span> <span class="s">&quot;lakes_elev&quot;</span>
  <span class="k">METADATA</span>
    <span class="s">&quot;wms_title&quot;</span>         <span class="s">&quot;Lakes&quot;</span>
    <span class="s">&quot;wms_description&quot;</span>   <span class="s">&quot;Lakes&quot;</span>
    <span class="s">&quot;wms_dimensionlist&quot;</span> <span class="s">&quot;elevation, text_dimension&quot;</span>
    <span class="s">&quot;wms_elevation_item&quot;</span> <span class="s">&quot;ELEV&quot;</span>
    <span class="s">&quot;wms_elevation_extent&quot;</span> <span class="s">&quot;500, 490, 480&quot;</span>
    <span class="s">&quot;wms_elevation_units&quot;</span> <span class="s">&quot;meters&quot;</span>
    <span class="s">&quot;wms_elevation_default&quot;</span> <span class="s">&quot;500&quot;</span>
    <span class="s">&quot;wms_text_dimension_item&quot;</span> <span class="s">&quot;text_dimen&quot;</span>
    <span class="s">&quot;wms_text_dimension_extent&quot;</span> <span class="s">&quot;first, second, third&quot;</span>
     <span class="s">&quot;wms_text_dimension_units&quot;</span> <span class="s">&quot;my_units&quot;</span>
     <span class="s">&quot;wms_enable_request&quot;</span> <span class="s">&quot;*&quot;</span>
  <span class="k">END</span>
  <span class="k">TYPE</span> <span class="nb">POLYGON</span>
  <span class="p">..</span>

<span class="k">END</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="getcapabilities-output">
<h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">GetCapabilities Output</a><a class="headerlink" href="#getcapabilities-output" title="Link to this heading">¶</a></h2>
<p>If your layer is set up properly, requesting the capabilities on the server
outputs one or several Dimension elements. Here is an example of a GetCapabilities result for
a layer configured for two dimensions (wms 1.3.0):</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">Layer</span> <span class="na">queryable</span><span class="o">=</span><span class="s">&quot;0&quot;</span> <span class="na">opaque</span><span class="o">=</span><span class="s">&quot;0&quot;</span> <span class="na">cascaded</span><span class="o">=</span><span class="s">&quot;0&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">Name</span><span class="p">&gt;</span>lakes_elev<span class="p">&lt;/</span><span class="nt">Name</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">Title</span><span class="p">&gt;</span>Lakes<span class="p">&lt;/</span><span class="nt">Title</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">CRS</span><span class="p">&gt;</span>EPSG:4326<span class="p">&lt;/</span><span class="nt">CRS</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">EX_GeographicBoundingBox</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">westBoundLongitude</span><span class="p">&gt;</span>0.000178263<span class="p">&lt;/</span><span class="nt">westBoundLongitude</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">eastBoundLongitude</span><span class="p">&gt;</span>0.0034202<span class="p">&lt;/</span><span class="nt">eastBoundLongitude</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">southBoundLatitude</span><span class="p">&gt;</span>-0.002134<span class="p">&lt;/</span><span class="nt">southBoundLatitude</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">northBoundLatitude</span><span class="p">&gt;</span>0.000313775<span class="p">&lt;/</span><span class="nt">northBoundLatitude</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">BoundingBox</span> <span class="na">CRS</span><span class="o">=</span><span class="s">&quot;EPSG:4326&quot;</span> <span class="na">minx</span><span class="o">=</span><span class="s">&quot;-0.002134&quot;</span> <span class="na">miny</span><span class="o">=</span><span class="s">&quot;0.000178263&quot;</span> <span class="na">maxx</span><span class="o">=</span><span class="s">&quot;0.000313775&quot;</span> <span class="na">maxy</span><span class="o">=</span><span class="s">&quot;0.0034202&quot;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">Dimension</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;elevation&quot;</span> <span class="na">units</span><span class="o">=</span><span class="s">&quot;meters&quot;</span> <span class="na">default</span><span class="o">=</span><span class="s">&quot;500&quot;</span> <span class="na">multipleValues</span><span class="o">=</span><span class="s">&quot;1&quot;</span> <span class="na">nearestValue</span><span class="o">=</span><span class="s">&quot;0&quot;</span><span class="p">&gt;</span>500, 490, 480<span class="p">&lt;/</span><span class="nt">Dimension</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">Dimension</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;text_dimension&quot;</span> <span class="na">units</span><span class="o">=</span><span class="s">&quot;my_units&quot;</span>  <span class="na">multipleValues</span><span class="o">=</span><span class="s">&quot;1&quot;</span>  <span class="na">nearestValue</span><span class="o">=</span><span class="s">&quot;0&quot;</span><span class="p">&gt;</span>first, second, third<span class="p">&lt;/</span><span class="nt">Dimension</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">Layer</span><span class="p">&gt;</span>
</pre></div>
</div>
</section>
<section id="supported-dimension-requests">
<h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Supported Dimension Requests</a><a class="headerlink" href="#supported-dimension-requests" title="Link to this heading">¶</a></h2>
<p>A request parameter name is constructed by concatenating the prefix “dim_” with the
sample dimension Name (the value of the name attribute of the corresponding
&lt;Dimension&gt; and &lt;Extent&gt; elements in the Capabilities XML). The resulting
“dim_name” is case-insensitive. The use of the “dim_” prefix is to avoid clashes between
server-defined dimension names and current or future OGC Web Service specifications.
(Time and Elevation, being predefined, do not use the prefix.) (section C.4.2)</p>
<ul class="simple">
<li><p><em>single value</em>: for example: …&amp;elevation=500&amp;…</p></li>
<li><p><em>multiple values</em>: for example: …&amp;dim_text_dimension=first,second&amp;…</p></li>
<li><p><em>single range value</em>: for example: …&amp;elevation=480/490&amp;…</p></li>
<li><p><em>multiple range values</em>: for example: …&amp;elevation=480/490,490/500&amp;…</p></li>
</ul>
</section>
<section id="processing-dimension-requests">
<h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Processing Dimension Requests</a><a class="headerlink" href="#processing-dimension-requests" title="Link to this heading">¶</a></h2>
<p>When MapServer process a valid dimension wms parameter, It will process it into
expressions and set it on the <a class="reference internal" href="../mapfile/layer.html#layer"><span class="std std-ref">LAYER</span></a> <cite>FILTER</cite> object.
If there was already a Logical “MapServer expressions”, It will be concatenated with it.</p>
<p>For example a request such as  &amp;elevation=490/500&amp;… on a MapServer layer (with an empty FILTER) would give
.. code-block:: mapfile</p>
<blockquote>
<div><p>FILTER (([ELEV] &gt;= 490 AND [ELEV] &lt;= 500))</p>
</div></blockquote>
<p>For example a request such as  &amp;elevation=600&amp;… on a postgis layer with an existing FILTER  would give
.. code-block:: guess</p>
<ul class="simple">
<li><p>FILTER (elev &gt; 500) #before request</p></li>
<li><p>FILTER ((elev &gt; 500) and (((ELEV = 600)))) #after request</p></li>
</ul>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p>
<a href="../about.html" title="About">About</a><br>
<a href="../products.html" title="Products">Products</a><br>
<a href="../community/index.html" title="Community">Community</a><br>
<a href="../development/index.html" title="Development">Development</a><br>
<a href="../download.html" title="Downloads">Downloads</a><br>
<a href="../documentation.html" title="Documentation">Documentation</a><br>
<a href="../faq.html" title="FAQ">FAQ</a><br>
<a href="../psc.html" title="PSC">PSC</a><br>
<a href="https://twitter.com/mapserver_osgeo" title="Twitter">Twitter</a>
</p>
  <h3>Current Table Of Contents</h3>
  <ul>
<li><a class="reference internal" href="#">WMS Dimension</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a><ul>
<li><a class="reference internal" href="#links-to-wms-related-information">Links to WMS-Related Information</a></li>
</ul>
</li>
<li><a class="reference internal" href="#enabling-dimension-support-in-mapserver">Enabling Dimension Support in MapServer</a><ul>
<li><a class="reference internal" href="#setting-up-a-wms-layer-with-dimension-support">Setting Up a WMS Layer with dimension support</a><ul>
<li><a class="reference internal" href="#specifying-dimension-extents">Specifying Dimension Extents</a></li>
<li><a class="reference internal" href="#example-wms-server-layer">Example WMS-Server Layer</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#getcapabilities-output">GetCapabilities Output</a></li>
<li><a class="reference internal" href="#supported-dimension-requests">Supported Dimension Requests</a></li>
<li><a class="reference internal" href="#processing-dimension-requests">Processing Dimension Requests</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="mapcontext.html" title="Map Context"
             >next</a> |</li>
        <li class="right" >
          <a href="wms_time.html" title="WMS Time"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >MapServer 8.0.1 Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >OGC Support and Configuration</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">WMS Dimension</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; <a href="../copyright.html">Copyright</a> 2023, Open Source Geospatial Foundation.
      Last updated on 2023-12-22.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.5.
    </div>
  </body>
</html>