<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>MapServer CGI Controls &#8212; MapServer 8.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx.css?v=6c7b17ac" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=dd298242" />
    <link rel="stylesheet" type="text/css" href="../_static/ribbon.css?v=ea091bf4" />
    
    <script src="../_static/documentation_options.js?v=521b6f53"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="icon" href="../_static/mapserver.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="Run-time Substitution" href="runsub.html" />
    <link rel="prev" title="Map Context Files" href="mapcontext.html" /> 
  </head><body>


<!-- for main branch only, do not backport this -->

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../index.html" title="Home"><img src="../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../index.html" title="Home">Home</a> |
      <a href="../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../community/service_providers.html" title="Professional Service Providers">Service Providers</a> |      
      <a href="../faq.html" title="Frequently Asked Questions">FAQ</a> |
      <a href="https://twitter.com/mapserver_osgeo" title="Twitter" target="_blank">Twitter</a> |
      <a href="../download.html" title="Download Source or Binaries">Download </a> |
      <a class="badge" href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=KRJ2X44N3HA6U&source=url" target="_blank">
        <img src="https://img.shields.io/badge/donate-%E2%9D%A4%C2%A0-ff69b4.svg?style=flat" alt="Donate to MapServer">
      </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        <img src="../_static/flagicons/en.png" alt="en" title="en" border="0" width="18px" height="13px"/>
        
          <a href="../ar/cgi/controls.html"><img src="../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
        
        
          <a href="../de/cgi/controls.html"><img src="../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
        
        
          <a href="../el/cgi/controls.html"><img src="../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
        
        
          <a href="../es/cgi/controls.html"><img src="../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
        
        
          <a href="../fr/cgi/controls.html"><img src="../_static/flagicons/fr.png" alt="fr" title="fr" border="0" /></a>
        
        
          <a href="../id/cgi/controls.html"><img src="../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
        
        
          <a href="../it/cgi/controls.html"><img src="../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
        
        
          <a href="../ja/cgi/controls.html"><img src="../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
        
        
          <a href="../nl_NL/cgi/controls.html"><img src="../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
        
        
          <a href="../pl/cgi/controls.html"><img src="../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
        
        
          <a href="../ru/cgi/controls.html"><img src="../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
        
        
          <a href="../sq/cgi/controls.html"><img src="../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
        
        
          <a href="../tr/cgi/controls.html"><img src="../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
        

    </td>
  </tr>
</table>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="runsub.html" title="Run-time Substitution"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="mapcontext.html" title="Map Context Files"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >MapServer 8.0.1 Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">CGI</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">MapServer CGI Controls</a></li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="mapserver-cgi-controls">
<span id="cgi-controls"></span><span id="index-0"></span><h1><a class="toc-backref" href="#table-of-contents" role="doc-backlink">MapServer CGI Controls</a><a class="headerlink" href="#mapserver-cgi-controls" title="Link to this heading">¶</a></h1>
<nav class="contents" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#mapserver-cgi-controls" id="id1">MapServer CGI Controls</a></p>
<ul>
<li><p><a class="reference internal" href="#variables" id="id2">Variables</a></p></li>
<li><p><a class="reference internal" href="#changing-mapfile-parameters-via-a-form-or-a-url" id="id3">Changing mapfile parameters via a form or a URL</a></p>
<ul>
<li><p><a class="reference internal" href="#using-mapserver-version-8" id="id4">Using MapServer version &lt; 8</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
<section id="variables">
<h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Variables</a><a class="headerlink" href="#variables" title="Link to this heading">¶</a></h2>
<p>Variable names are not case sensitive.</p>
<dl class="simple" id="index-1">
<dt>BUFFER [distance]</dt><dd><p>A distance, in the same coordinate system as the map file, used in
conjunction with MAPXY to create an new map extent.</p>
</dd>
</dl>
<dl class="simple" id="index-2">
<dt>CLASSGROUP [name]</dt><dd><p>The name of a <a class="reference internal" href="../mapfile/layer.html#layer"><span class="std std-ref">LAYER</span></a> CLASSGROUP.  Set the <a class="reference internal" href="../mapfile/layer.html#layer"><span class="std std-ref">LAYER</span></a>
<cite>CLASSGROUP</cite> to <cite>name</cite> for all layers that have at least one
<a class="reference internal" href="../mapfile/class.html#class"><span class="std std-ref">CLASS</span></a> that is using the given CLASSGROUP <cite>name</cite>.</p>
</dd>
</dl>
<dl class="simple" id="index-3">
<dt>CONTEXT [filename]</dt><dd><p>Path to a context file. Path is relative to the map file to be used, or
can also be a URL path (See the section “Map Context Support Through
CGI” below for more details).</p>
</dd>
</dl>
<dl class="simple" id="index-4">
<dt>ICON [layername],[classindex]</dt><dd><p>Used in MODE=legendicon to generate a legend icon for a layer.  The
class index value is optional and defaults to 0.</p>
</dd>
</dl>
<dl class="simple" id="index-5">
<dt>ID [id-string]</dt><dd><p>By default MapServer generates a unique session id based on system time
and process id. This parameter overwrites the default.</p>
</dd>
</dl>
<dl id="index-6">
<dt>IMG</dt><dd><p>The name associated with the inline map image used to record user clicks.
What actually is passed are two variables, img.x and img.y.</p>
<p>For the CGI Applications this is an essential variable, see the examples
for sample usage.</p>
</dd>
</dl>
<dl class="simple" id="index-7">
<dt>IMGBOX [x1] [y1] [x2] [y2]</dt><dd><p>Coordinates (in pixels) of a box drag in the image. Most often used in
conjunction with Java based front ends to the MapServer.</p>
</dd>
</dl>
<dl class="simple" id="index-8">
<dt>IMGEXT [minx] [miny] [maxx] [maxy]</dt><dd><p>The spatial extent of the existing inline image, that is, the image the
users can see in their browser.</p>
</dd>
</dl>
<dl id="index-9">
<dt>IMGSHAPE [x1 y1 x2 y2 x3 y3 …] | [WKT]</dt><dd><p>An arbitrary polygon shape (specified using <strong>image coordinates</strong>)
to be used for query purposes.</p>
<p>The polygon is specified by listing its coordinates (multiple
instances simply add parts to the shape so it is possible to
construct a shape with holes) or by specifying the WKT (Well
Known Text) representation.</p>
<p>Used with the NQUERY mode.</p>
</dd>
</dl>
<dl class="simple" id="index-10">
<dt>IMGSIZE [cols] [rows]</dt><dd><p>The size (in pixels) of the exiting inline image.</p>
</dd>
</dl>
<dl class="simple" id="index-11">
<dt>IMGXY [x] [y]</dt><dd><p>Coordinates (in pixels) of a single mouse click. Used most often in
conjunction with Java based front ends to the MapServer.</p>
</dd>
</dl>
<dl class="simple" id="index-12">
<dt>LAYER [name]</dt><dd><p>The name of a layer as it appears in the map file. Sending mapserv a layer
name sets that layer’s STATUS to ON.</p>
</dd>
</dl>
<dl id="index-13">
<dt>LAYERS [name name …]</dt><dd><p>The names of the layers to be turned on. Layer names must be separated by
spaces.</p>
<p>Version 4.4 and above: passing ‘LAYERS=all’ will automatically turn on all
layers.</p>
</dd>
</dl>
<dl class="simple" id="index-14">
<dt>MAP [filename]</dt><dd><p>Path, relative to the CGI directory, of the map file to be used.</p>
</dd>
</dl>
<dl id="index-15">
<dt>MAPEXT [minx] [miny] [maxx] [maxy] , MAPEXT (shape)</dt><dd><p>The spatial extent of the map to be created.</p>
<p>Can be set to shape as an alternative option. In this case mapextent is
set to the extent of a selected shape. Used with queries.</p>
</dd>
</dl>
<dl id="index-16">
<dt>MAPSHAPE [x1 y1 x2 y2 x3 y3 …] | [WKT]</dt><dd><p>An arbitrary polygon shape (specified using <strong>map coordinates</strong>)
to be used for query purposes.</p>
<p>The polygon is specified by listing its coordinates (multiple
instances simply add parts to the shape so it is possible to
construct a shape with holes) or by specifying a WKT (Well Known
Text) representation of the polygon.</p>
<p>Used with the NQUERY mode.</p>
</dd>
</dl>
<dl class="simple" id="index-17">
<dt>MAPSIZE [cols] [rows]</dt><dd><p>The size (in pixels) of the image to be created. Useful for allowing users
to change the resolution of the output map dynamically.</p>
</dd>
</dl>
<dl id="index-18">
<dt>MAPXY [x] [y] , MAPXY (shape)</dt><dd><p>A point, in the same coordinate system as the shapefiles, to be used in
conjunction with a buffer or a scale to construct a map extent.</p>
<p>Can be set to shape as an alternative option. In this case mapextent is
set to the extent of a selected shape. Used with queries.</p>
</dd>
</dl>
<span id="index-21"></span><span id="index-20"></span><span id="index-19"></span><dl class="simple" id="index-22">
<dt>MINX | MINY | MAXX | MAXY [number]</dt><dd><p>Minimum/Maximum x/y coordinate of the spatial extent for a new map/query.
This set of parameters are the pieces of MAPEXT.</p>
</dd>
</dl>
<dl id="index-23">
<dt>MODE [value]</dt><dd><p>Mode of operation. The following options are supported:</p>
<dl class="simple" id="index-24">
<dt>BROWSE</dt><dd><p>Fully interactive interface where maps (and interactive pages) are
created. This is the default mode.</p>
</dd>
</dl>
<dl id="index-25">
<dt>COORDINATE</dt><dd><p>Returns a string of map coordinates based on a user click on an image.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>mapserv.exe?map=/ms4w/apps/local-demo/local.map&amp;MODE=coordinate&amp;IMGEXT=0 0 100 100&amp;IMGXY=10 10
</pre></div>
</div>
</dd>
</dl>
<dl class="simple" id="index-26">
<dt>FEATURENQUERY</dt><dd><p>A spatial search that uses multiple features from SLAYER to query
other layers.</p>
</dd>
</dl>
<dl class="simple" id="index-27">
<dt>FEATUREQUERY</dt><dd><p>A spatial search that uses one feature from SLAYER to query other
layers.</p>
</dd>
</dl>
<dl class="simple" id="index-28">
<dt>INDEXQUERY</dt><dd><p>Looks up a feature based on the values of SHAPEINDEX and TILEINDEX
parameters. SHAPEINDEX is required, TILEINDEX is optional and is only
used with tiled shapefile layers.</p>
</dd>
</dl>
<dl class="simple" id="index-29">
<dt>ITEMFEATURENQUERY</dt><dd><p>A text search of attribute data is triggered using a QSTRING. Returns
all matches. Layer to be searched is defined using slayer parameter.
The results of this search are applied to other searchable layers
(which can be limited using the QLAYER parameter).</p>
</dd>
</dl>
<dl class="simple" id="index-30">
<dt>ITEMFEATUREQUERY</dt><dd><p>A text search of attribute data is triggered using a QSTRING. Returns
first match. Layer to be searched is defined using slayer parameter.
The results of this search are applied to other searchable layers
(which can be limited using the QLAYER parameter).</p>
</dd>
</dl>
<dl class="simple" id="index-31">
<dt>ITEMNQUERY</dt><dd><p>A text search of attribute data is triggered using a QSTRING.
Returns all matches.</p>
</dd>
</dl>
<dl class="simple" id="index-32">
<dt>ITEMQUERY</dt><dd><p>A text search of attribute data is triggered using a layer QSTRING.
Returns 1st match.</p>
</dd>
</dl>
<dl class="simple" id="index-33">
<dt>LEGEND</dt><dd><p>The created legend is returned. Used within an &lt;img … &gt; tag.</p>
</dd>
</dl>
<dl id="index-34">
<dt>LEGENDICON</dt><dd><p>A legend icon is returned.  The ICON parameter must also be used
to specify the layername and a class index.  Class index value is
optional and defaults to 0.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>mapserv.exe?map=/ms4w/apps/local-demo/local.map&amp;MODE=legendicon&amp;ICON=countries,0
</pre></div>
</div>
</dd>
</dl>
<dl class="simple" id="index-35">
<dt>MAP</dt><dd><p>The created map is returned. Used within an &lt;img … &gt; tag.</p>
</dd>
</dl>
<dl class="simple" id="index-36">
<dt>NQUERY</dt><dd><p>A spatial search (finds all) is triggered by a click in a map or by
user-define selection box.</p>
</dd>
</dl>
<dl class="simple" id="index-37">
<dt>QUERY</dt><dd><p>A spatial search (finds closest) is triggered by a click in a map.</p>
</dd>
</dl>
<dl class="simple" id="index-38">
<dt>REFERENCE</dt><dd><p>The created reference map is returned. Used within an &lt;img … &gt; tag.</p>
</dd>
</dl>
<dl class="simple" id="index-39">
<dt>SCALEBAR</dt><dd><p>The created scalebar is returned. Used within an &lt;img … &gt; tag.</p>
</dd>
</dl>
<dl class="simple" id="index-40">
<dt>TILE</dt><dd><p>Generate a map tile. See <a class="reference internal" href="../output/tile_mode.html#tile-mode"><span class="std std-ref">Tile Mode</span></a> for details.</p>
</dd>
</dl>
<dl class="simple" id="index-41">
<dt>ZOOMIN</dt><dd><p>Switch to mode BROWSE with ZOOMDIR=1</p>
</dd>
</dl>
<dl class="simple" id="index-42">
<dt>ZOOMOUT</dt><dd><p>Switch to mode BROWSE with ZOOMDIR=-1</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The previously available map-only query modes, e.g.
ITEMQUERYMAP, are no longer supported.  The <cite>QFORMAT</cite> parameter
is now used instead.</p>
</div>
</dd>
</dl>
<dl id="index-43">
<dt>QFORMAT [outputformat | mime/type] (optional)</dt><dd><p>The <cite>OUTPUTFORMAT</cite> name or mime/type to be used to process a set
of query results (corresponds to the <a class="reference internal" href="../mapfile/web.html#web"><span class="std std-ref">WEB</span></a> object’s
QUERYFORMAT parameter).
The parameter is optional and used in conjunction with query
<cite>MODE</cite>s.  The default is text/html.</p>
<p>Example (map output):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">...&amp;</span><span class="n">mode</span><span class="o">=</span><span class="n">nquery</span><span class="o">&amp;</span><span class="n">qformat</span><span class="o">=</span><span class="n">png24</span><span class="o">&amp;...</span>
</pre></div>
</div>
</dd>
</dl>
<dl class="simple" id="index-44">
<dt>QITEM [name] (optional)</dt><dd><p>The name of an attribute in a layer attribute table to query on. The
parameter is optional and used in conjunction with the QSTRING for
attribute queries.</p>
</dd>
</dl>
<dl class="simple" id="index-45">
<dt>QLAYER [name]</dt><dd><p>Query layer. The name of the layer to be queried as it appears in the map
file.</p>
</dd>
</dl>
<dl class="simple" id="index-46">
<dt>QSTRING [expression]</dt><dd><p>Attribute queries: Query string passed to the query function.
Since 5.0, qstring will have to be specified in the <cite>VALIDATION</cite>
parameter of the <cite>LAYER</cite> for qstring queries to work
(<em>qstring_validation_pattern</em> <cite>LAYER</cite>-level <cite>METADATA</cite> for
MapServer  versions prior to 5.4).</p>
</dd>
</dl>
<dl class="simple" id="index-47">
<dt>QUERYFILE [filename]</dt><dd><p>Used with BROWSE or NQUERY mode. This option identifies a query file to
load before any regular processing. In BROWSE mode this result in a query
map being produced instead of a regular map. This is useful when you want
to hilite a feature while still in a pan/zoom mode. In NQUERY mode you’d
gain access to any of the templates used in normally presenting the query,
so you have access to query maps AND attribute information.
See the SAVEQUERY option.</p>
</dd>
</dl>
<dl id="index-48">
<dt>REF</dt><dd><p>The name associated with the inline reference map image used to record
user clicks. What actually is passed are two variables, ref.x and ref.y.</p>
<p>For the CGI Applications this is an essential variable when reference
maps are used, see the examples for sample usage.</p>
</dd>
</dl>
<dl class="simple" id="index-49">
<dt>REFXY [x] [y]</dt><dd><p>Coordinates (in pixels) of a single mouse click in the reference image.
Used in conjunction with Java based front ends to the MapServer.</p>
</dd>
</dl>
<dl class="simple" id="index-50">
<dt>SAVEQUERY</dt><dd><p>When used with any of the query modes this tells the MapServer to save the
query results to a temporary file for use in subsequent operations
(see QUERYFILE). Useful for making queries persistent.</p>
</dd>
</dl>
<dl class="simple" id="index-51">
<dt>SCALEDENOM [number]</dt><dd><p>Scale to create a new map at. Used with mapxy. Scale is given as the
denominator of the actual scale fraction, for example for a map at a scale
of 1:24,000 use 24000.  Implemented in MapServer 5.0, to replace the
deprecated SCALE parameter.</p>
</dd>
<dt>SCALE [number] - deprecated</dt><dd><p>Since MapServer 5.0 the proper parameter to use is SCALEDENOM
instead.  The deprecated SCALE is the scale to create a new map at. Used
with mapxy. Scale is given as the denominator of the actual scale fraction,
for example for a map at a scale of 1:24,000 use 24000.</p>
</dd>
</dl>
<dl class="simple" id="index-52">
<dt>SEARCHMAP</dt><dd><p>It is possible to do pan/zoom interfaces using querymaps. In these cases
you will likey want information about the contents of the new map rather
than the previous map which is the normal way queries work. When
searchmap is specified the new map is created and it’s extent is used
to query layers. Useful with NQUERY mode only.</p>
</dd>
</dl>
<dl class="simple" id="index-53">
<dt>SHAPEINDEX [index]</dt><dd><p>Used for index queries (in conjunction with INDEXQUERY).</p>
</dd>
</dl>
<dl class="simple" id="index-54">
<dt>SLAYER [name]</dt><dd><p>Select layer. The name of the layer to be used for any of the feature
(i.e. staged) query modes. The select layer must be a polygon layer. The
selection feature(s) are available for presentation to the user.</p>
</dd>
</dl>
<dl class="simple" id="index-55">
<dt>TILE [coord]</dt><dd><p>Used in MODE=TILE. Tile coordinates. See <a class="reference internal" href="../output/tile_mode.html#tile-mode"><span class="std std-ref">Tile Mode</span></a> for details.</p>
</dd>
</dl>
<dl class="simple" id="index-56">
<dt>TILEINDEX [index]</dt><dd><p>Used for index queries (in conjunction with INDEXQUERY), used with tiled
shapefile layers.</p>
</dd>
</dl>
<dl class="simple" id="index-57">
<dt>TILEMODE [mode]</dt><dd><p>Used in MODE=TILE. mode can be <cite>gmap</cite> (Google Maps) or <cite>ve</cite> (Bing Maps/Virtual Earth).
See <a class="reference internal" href="../output/tile_mode.html#tile-mode"><span class="std std-ref">Tile Mode</span></a> for details.</p>
</dd>
</dl>
<p id="index-58">TILESIZE [width] [height]</p>
<blockquote>
<div><div class="versionadded">
<p><span class="versionmodified added">New in version 8.0.</span></p>
</div>
<p>Used in MODE=TILE. width and height are the tile dimension in in pixels.
If not specified, defaults to 256x256.
See <a class="reference internal" href="../output/tile_mode.html#tile-mode"><span class="std std-ref">Tile Mode</span></a> for details.</p>
</div></blockquote>
<dl id="index-59">
<dt>ZOOM [number]</dt><dd><p>Zoom scaling to apply to the creation of the new map. Values greater than
0 resulting in zooming in, 0 is a pan, and values less than zero are for
zooming out. A value of 2 means “zoom in twice”.</p>
<p>ZOOM can be used as a shortcut for the combination ZOOMDIR/ZOOMSIZE.
The zoom is limited by the MINZOOM/MAXZOOM settings compiled into the
MapServer (-25/25) by default.</p>
</dd>
</dl>
<dl class="simple" id="index-60">
<dt>ZOOMDIR [1 | 0 | -1]</dt><dd><p>Direction to zoom. See above.</p>
</dd>
</dl>
<dl id="index-61">
<dt>ZOOMSIZE [number]</dt><dd><p>Absolute magnitude of a zoom. Used with ZOOMDIR.</p>
<p>ZOOMDIR is limited to MAXZOOM compiled into the MapServer (25 by default).</p>
</dd>
</dl>
</section>
<section id="changing-mapfile-parameters-via-a-form-or-a-url">
<span id="cgi-mapfile-change-parameters"></span><span id="index-62"></span><h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Changing mapfile parameters via a form or a URL</a><a class="headerlink" href="#changing-mapfile-parameters-via-a-form-or-a-url" title="Link to this heading">¶</a></h2>
<p>Beginning with version 3.3 it is possible to change virtually any mapfile
value from a form or a URL (see <a class="reference internal" href="runsub.html#runsub"><span class="std std-ref">Run-time Substitution</span></a>).  The syntax for
this is fairly straightforward, and depends on what version of
MapServer you are using.  One potentially very powerful use of this
ability to change mapfile parameters through a URL involves changing
class expressions on-the-fly.  <cite>VALIDATION</cite> is used to control
run-time substition.  Try it out.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This functionality is only available via the <a class="reference internal" href="mapserv.html#mapserv"><span class="std std-ref">mapserv</span></a> CGI application.
Within MapScript this is easy to do by yourself since the developer has
complete control over how input is handled.</p>
</div>
<section id="using-mapserver-version-8">
<h3><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Using MapServer version &lt; 8</a><a class="headerlink" href="#using-mapserver-version-8" title="Link to this heading">¶</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The below methods were removed as of the MapServer 8.0.0 release.
You can still however handle this through
<a class="reference internal" href="runsub.html#runsub"><span class="std std-ref">Run-time Substitution</span></a>, but with a more limited list of supported mapfile
parameters.</p>
</div>
<p>Previous versions of the MapServer CGI program allowed certain parameters
to be changed via a URL using a cumbersome syntax such as
map_layer_0_class_0_color=255+0+0 which changes the color in one classObj.
So, in the past you had to change parameters one-at-a-time. Now you can
pass chunks of mapfiles (with security restrictions) to the CGI interface.
The map_object notation is still necessary to identify which object you
want to modify but you can change multiple properties at one time. Note
that you can use either a ‘_’ or a ‘.’ to separate identifiers.</p>
<p>Example 1, changing a scalebar object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">...&amp;</span><span class="nb">map</span><span class="o">.</span><span class="n">scalebar</span><span class="o">=</span><span class="n">UNITS</span><span class="o">+</span><span class="n">MILES</span><span class="o">+</span><span class="n">COLOR</span><span class="o">+</span><span class="mi">121</span><span class="o">+</span><span class="mi">121</span><span class="o">+</span><span class="mi">121</span><span class="o">+</span><span class="n">SIZE</span><span class="o">+</span><span class="mi">300</span><span class="o">+</span><span class="mi">2</span><span class="o">&amp;...</span>
</pre></div>
</div>
<p>Example 2, changing a presentation style:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">...&amp;</span><span class="nb">map</span><span class="o">.</span><span class="n">layer</span><span class="p">[</span><span class="n">lakes</span><span class="p">]</span><span class="o">.</span><span class="n">class</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">style</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="n">SYMBOL</span><span class="o">+</span><span class="n">crosshatch</span><span class="o">+</span><span class="n">COLOR</span><span class="o">+</span><span class="mi">151</span><span class="o">+</span><span class="mi">51</span><span class="o">+</span><span class="mi">151</span><span class="o">+</span><span class="n">SIZE</span><span class="o">+</span><span class="mi">15</span><span class="o">&amp;...</span>
</pre></div>
</div>
<p>Example 3, creating a new feature:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">...&amp;</span><span class="n">map_layer</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">=</span><span class="n">FEATURE</span><span class="o">+</span><span class="n">POINTS</span><span class="o">+</span><span class="mi">500000</span><span class="o">+</span><span class="mi">1000000</span><span class="o">+</span><span class="n">END</span><span class="o">+</span><span class="n">TEXT</span><span class="o">+</span><span class="s1">&#39;A+test+point&#39;</span><span class="o">+</span><span class="n">END</span><span class="o">&amp;...</span>
</pre></div>
</div>
<p>Example 4, set multiple web object parameters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">...&amp;</span><span class="n">map_web</span><span class="o">=</span><span class="n">imagepath</span><span class="o">+/</span><span class="n">ms4w</span><span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">ms_tmp</span><span class="o">/+</span><span class="n">imageurl</span><span class="o">+/</span><span class="n">ms_tmp</span><span class="o">/</span>
</pre></div>
</div>
<p>Example 5, set the map size:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">...&amp;</span><span class="n">map_size</span><span class="o">=</span><span class="mi">800</span><span class="o">+</span><span class="mi">400</span>
</pre></div>
</div>
<p>The variable identifies an object uniquely (by name or index in the
case of layerObj’s and classObj’s). The value is a snippet of a
mapfile. You cannot create new objects other than inline features at
this point.</p>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p>
<a href="../about.html" title="About">About</a><br>
<a href="../products.html" title="Products">Products</a><br>
<a href="../community/index.html" title="Community">Community</a><br>
<a href="../development/index.html" title="Development">Development</a><br>
<a href="../download.html" title="Downloads">Downloads</a><br>
<a href="../documentation.html" title="Documentation">Documentation</a><br>
<a href="../faq.html" title="FAQ">FAQ</a><br>
<a href="../psc.html" title="PSC">PSC</a><br>
<a href="https://twitter.com/mapserver_osgeo" title="Twitter">Twitter</a>
</p>
  <h3>Current Table Of Contents</h3>
  <ul>
<li><a class="reference internal" href="#">MapServer CGI Controls</a><ul>
<li><a class="reference internal" href="#variables">Variables</a></li>
<li><a class="reference internal" href="#changing-mapfile-parameters-via-a-form-or-a-url">Changing mapfile parameters via a form or a URL</a><ul>
<li><a class="reference internal" href="#using-mapserver-version-8">Using MapServer version &lt; 8</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="runsub.html" title="Run-time Substitution"
             >next</a> |</li>
        <li class="right" >
          <a href="mapcontext.html" title="Map Context Files"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >MapServer 8.0.1 Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >CGI</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">MapServer CGI Controls</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; <a href="../copyright.html">Copyright</a> 2023, Open Source Geospatial Foundation.
      Last updated on 2023-12-22.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.5.
    </div>
  </body>
</html>