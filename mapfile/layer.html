<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>LAYER &mdash; MapServer 7.0.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '7.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/mapserver.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="MapServer 7.0.0 documentation" href="../index.html" />
    <link rel="up" title="Mapfile" href="index.html" />
    <link rel="next" title="LEADER" href="leader.html" />
    <link rel="prev" title="LABEL" href="label.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../index.html" title="Home"><img src="../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../index.html" title="Home">Home</a> |
      <a href="../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../faq.html" title="FAQ">FAQ</a> |
      <a href="../download.html" title="Download">Download </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        <img src="../_static/flagicons/en.png" alt="en" title="en" border="0" width="18px" height="13px"/>
        
          <a href="../ar/mapfile/layer.html"><img src="../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
        
        
          <a href="../de/mapfile/layer.html"><img src="../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
        
        
          <a href="../el/mapfile/layer.html"><img src="../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
        
        
          <a href="../es/mapfile/layer.html"><img src="../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
        
        
          <a href="../fr/mapfile/layer.html"><img src="../_static/flagicons/fr.png" alt="fr" title="fr" border="0" /></a>
        
        
          <a href="../id/mapfile/layer.html"><img src="../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
        
        
          <a href="../it/mapfile/layer.html"><img src="../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
        
        
          <a href="../ja/mapfile/layer.html"><img src="../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
        
        
          <a href="../nl_NL/mapfile/layer.html"><img src="../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
        
        
          <a href="../pl/mapfile/layer.html"><img src="../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
        
        
          <a href="../ru/mapfile/layer.html"><img src="../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
        
        
          <a href="../sq/mapfile/layer.html"><img src="../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
        
        
          <a href="../tr/mapfile/layer.html"><img src="../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
        
        
          <a href="../uk/mapfile/layer.html"><img src="../_static/flagicons/uk.png" alt="uk" title="uk" border="0" /></a>
        

    </td>
  </tr>
</table>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="leader.html" title="LEADER"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="label.html" title="LABEL"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >MapServer 7.0.0 Documentation</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Mapfile</a> &raquo;</li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="layer">
<span id="index-0"></span><span id="id1"></span><h1>LAYER<a class="headerlink" href="#layer" title="Permalink to this headline">Â¶</a></h1>
<dl class="docutils" id="index-1">
<dt><a class="reference internal" href="class.html#class"><span>CLASS</span></a></dt>
<dd><p class="first">Signals the start of a <a class="reference internal" href="class.html#class"><span>CLASS</span></a> object.</p>
<p class="last">Inside a layer, only a single class will be used for the rendering
of a feature. Each feature is tested against each class in the order
in which they are defined in the mapfile. The first class that matches
the its min/max scale constraints and its <a class="reference internal" href="expressions.html#expressions"><span>EXPRESSION</span></a>
check for the current feature will be used for rendering.</p>
</dd>
</dl>
<dl class="docutils" id="index-2">
<dt>CLASSGROUP  [string]</dt>
<dd>Specify the class&#8217;s group that would be considered at rendering time.
The <a class="reference internal" href="class.html#class"><span>CLASS</span></a> object&#8217;s GROUP parameter must be used in combination with
CLASSGROUP.</dd>
</dl>
<dl class="docutils" id="classitem">
<span id="index-3"></span><dt>CLASSITEM [attribute]</dt>
<dd>Item name in attribute table to use for class lookups.</dd>
</dl>
<dl class="docutils" id="index-4">
<dt><a class="reference internal" href="cluster.html#cluster"><span>CLUSTER</span></a></dt>
<dd><p class="first">Signals the start of a <a class="reference internal" href="cluster.html#cluster"><span>CLUSTER</span></a> object.</p>
<p>The CLUSTER configuration option provides to combine multiple
features from the layer into single (aggregated) features based on
their relative positions.  Supported only for POINT layers.</p>
<div class="last admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="../development/rfc/ms-rfc-69.html#rfc69"><span>MS RFC 69: Support for clustering of features in point layers</span></a></p>
</div>
</dd>
</dl>
<dl class="docutils" id="index-5">
<dt><a class="reference internal" href="composite.html#composite"><span>COMPOSITE</span></a></dt>
<dd><p class="first">Signals the start of a <a class="reference internal" href="composite.html#composite"><span>COMPOSITE</span></a> object.</p>
<p>One or more COMPOSITE blocks can be used to signal that rendering
should be done in a temporary image and merged onto the final map
image in a final step. The options defined inside the COMPOSITE block
will determine how this merging should be done (e.g. by appying opacity,
composition operator, or pixel filters)</p>
<div class="last admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="../development/rfc/ms-rfc-113.html#rfc113"><span>MS RFC 113: Layer Compositing Pipeline</span></a></p>
</div>
</dd>
</dl>
<dl class="docutils" id="index-6">
<dt>CONNECTION [string]</dt>
<dd><p class="first">Database connection string to retrieve remote data.</p>
<p>An SDE connection string consists of a hostname, instance name,
database name, username and password separated by commas.</p>
<p>A PostGIS connection string is basically a regular PostgreSQL connection
string, it takes the form of
&#8220;user=nobody password=****** dbname=dbname host=localhost port=5432&#8221;</p>
<p>An Oracle connection string: user/pass[&#64;db]</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="../input/vector/index.html#vector"><span>Vector Data</span></a> for specific connection information for various
data sources.</p>
</div>
<div class="last admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">See <a class="reference internal" href="../output/kerneldensity.html#kerneldensity"><span>Kernel Density Estimation (Dynamic Heatmap)</span></a> for specific connection information
for kernel density estimation.</p>
</div>
</dd>
</dl>
<span class="target" id="index-7"></span><span class="target" id="index-8"></span><span class="target" id="index-9"></span><span class="target" id="index-10"></span><span class="target" id="index-11"></span><span class="target" id="index-12"></span><span class="target" id="index-13"></span><span class="target" id="index-14"></span><span class="target" id="index-15"></span><span class="target" id="index-16"></span><span class="target" id="index-17"></span><span class="target" id="index-18"></span><dl class="docutils" id="index-19">
<dt>CONNECTIONTYPE [contour|kerneldensity|local|ogr|oraclespatial|plugin|postgis|sde|union|uvraster|wfs|wms]</dt>
<dd><p class="first">Type of connection. Default is local. See additional documentation for
any other type.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="../input/vector/index.html#vector"><span>Vector Data</span></a> for specific connection information for various
data sources.  See <a class="reference internal" href="union.html#union"><span>Union Layer</span></a> for combining layers, added in
MapServer 6.0</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">See <a class="reference internal" href="../output/kerneldensity.html#kerneldensity"><span>Kernel Density Estimation (Dynamic Heatmap)</span></a> for specific connection information
for kernel density estimation.</p>
</div>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><em>mygis</em> is another connectiontype, but it is deprecated; please
see the <a class="reference internal" href="../input/vector/mysql.html#mysql"><span>MySQL section</span></a> of the Vector Data
document for connection details.</p>
</div>
</dd>
</dl>
<dl class="docutils" id="index-20">
<dt>DATA [filename]|[sde parameters][postgis table/column][oracle table/column]</dt>
<dd><p class="first">Full filename of the spatial data to process. No file extension is
necessary for shapefiles. Can be specified relative to the
SHAPEPATH option from the Map Object.</p>
<p>If this is an SDE layer, the parameter should include the name of
the layer as well as the geometry column, i.e. &#8220;mylayer,shape,myversion&#8221;.</p>
<p>If this is a PostGIS layer, the parameter should be in the form of
&#8220;&lt;columnname&gt; from &lt;tablename&gt;&#8221;, where &#8220;columnname&#8221; is the name of the
column containing the geometry objects and &#8220;tablename&#8221; is the name of the
table from which the geometry data will be read.</p>
<p>For Oracle, use &#8220;shape FROM table&#8221; or &#8220;shape FROM (SELECT statement)&#8221; or
even more complex Oracle compliant queries! Note that there are important
performance impacts when using spatial subqueries however. Try using
MapServer&#8217;s <a class="reference internal" href="#filter">FILTER</a> whenever possible instead. You can also see the SQL
submitted by forcing an error, for instance by submitting a DATA parameter
you know won&#8217;t work, using for example a bad column name.</p>
<div class="last admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="../input/vector/index.html#vector"><span>Vector Data</span></a> for specific connection information for various
data sources.</p>
</div>
</dd>
</dl>
<dl class="docutils" id="index-21">
<dt>DEBUG [off|on|0|1|2|3|4|5]</dt>
<dd><p class="first">Enables debugging of a layer in the current map.</p>
<p><em>Debugging with MapServer versions &gt;= 5.0:</em></p>
<p>Verbose output is generated and sent to the standard error output
(STDERR) or the MapServer errorfile if one is set using the
&#8220;MS_ERRORFILE&#8221; environment variable.  You can set the environment
variable by using the CONFIG parameter at the MAP level of the
mapfile, such as:</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">CONFIG</span> <span class="s">&quot;MS_ERRORFILE&quot;</span> <span class="s">&quot;/ms4w/tmp/ms_error.txt&quot;</span>
</pre></div>
</div>
<p>You can also set the environment variable in Apache by adding the
following to your httpd.conf:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>SetEnv MS_ERRORFILE &quot;/ms4w/tmp/ms_error.txt&quot;
</pre></div>
</div>
<p>Once the environment variable is set, the DEBUG mapfile parameter
can be used to control the level of debugging output.  Here is a
description of the possible DEBUG values:</p>
<ul class="simple">
<li><strong>DEBUG O or OFF</strong> - only msSetError() calls are logged to
MS_ERRORFILE. No msDebug() output at all. This is the default
and corresponds to the original behavior of MS_ERRORFILE in
MapServer 4.x</li>
<li><strong>DEBUG 1 or ON</strong> - includes all output from DEBUG 0 plus
msDebug() warnings about common pitfalls, failed assertions or
non-fatal error situations (e.g. missing or invalid values for
some parameters, missing shapefiles in tileindex, timeout error
from remote WMS/WFS servers, etc.)</li>
<li><strong>DEBUG 2</strong> - includes all output from DEBUG 1 plus notices and timing
information useful for tuning mapfiles and applications</li>
<li><strong>DEBUG 3</strong> - all of DEBUG 2 plus some debug output useful in
troubleshooting problems such as WMS connection URLs being called,
database connection calls, etc. This is the recommended level for
debugging mapfiles.</li>
<li><strong>DEBUG 4</strong> - DEBUG 3 plus even more details...</li>
<li><strong>DEBUG 5</strong> - DEBUG 4 plus any msDebug() output that might be
more useful to the developers than to the users.</li>
</ul>
<p>You can also set the debug level by using the &#8220;MS_DEBUGLEVEL&#8221; environment
variable.</p>
<p>The DEBUG setting can also be specified for the entire map, by setting the
DEBUG parameter in the <a class="reference internal" href="map.html#map"><span>MAP</span></a> object.</p>
<p>For more details on this debugging mechanism, please see <a class="reference internal" href="../development/rfc/ms-rfc-28.html#rfc28"><span>MS RFC 28: Redesign of LOG/DEBUG output mechanisms</span></a>.</p>
<p><em>Debugging with MapServer versions &lt; 5:</em></p>
<p class="last">Verbose output is generated and sent to the standard error output (STDERR)
or the MapServer logfile if one is set using the LOG parameter in the WEB
object.  Apache users will see timing details for drawing in Apache&#8217;s
error_log file.  Requires MapServer to be built with the DEBUG=MSDEBUG
option (&#8211;with-debug configure option).</p>
</dd>
</dl>
<dl class="docutils" id="index-22">
<dt>DUMP [true|false]</dt>
<dd><p class="first">Since 6.0, <cite>DUMP</cite> is not used anymore.
<cite>LAYER</cite> <cite>METADATA</cite> is used instead.</p>
<p>Switch to allow MapServer to return data in GML format. Useful when
used with WMS GetFeatureInfo operations. &#8220;false&#8221; by default.</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 6.0: </span><cite>LAYER</cite> <cite>METADATA</cite> is used instead.</p>
</div>
<div class="last admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="../ogc/wms_server.html#wms-server"><span>WMS Server</span></a></p>
</div>
</dd>
</dl>
<dl class="docutils" id="index-23">
<dt>EXTENT [minx] [miny] [maxx] [maxy]</dt>
<dd>The spatial extent of the data. In most cases you will not need
to specify this, but it can be used to avoid the speed cost of having
MapServer compute the extents of the data.  An application can also
possibly use this value to override the extents of the map.</dd>
</dl>
<dl class="docutils" id="index-24">
<dt><a class="reference internal" href="feature.html#feature"><span>FEATURE</span></a></dt>
<dd>Signals the start of a <a class="reference internal" href="feature.html#feature"><span>FEATURE</span></a> object.</dd>
</dl>
<p id="filter"><span id="index-25"></span>FILTER [string]</p>
<blockquote>
<div><p>This parameter allows for data specific attribute filtering that
is done at the same time spatial filtering is done, but before any
CLASS expressions are evaluated.  The string is simply a mapserver
regular expression:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">FILTER</span> <span class="p">([</span><span class="nb">type</span><span class="p">]</span><span class="o">=</span><span class="s1">&#39;road&#39;</span> <span class="ow">and</span> <span class="p">[</span><span class="n">size</span><span class="p">]</span><span class="o">&lt;</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>Native filters are supported through the <cite>NATIVE_FILTER</cite>
<cite>PROCESSING</cite> key:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>PROCESSING &#39;NATIVE_FILTER=id=234&#39;
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Until Mapserver 6, native filters could be specified as:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>FILTER &#39;where id=234&#39;.
</pre></div>
</div>
<p class="last">But this is no longer supported.</p>
</div>
</div></blockquote>
<dl class="docutils" id="index-26">
<dt>FILTERITEM [attribute]</dt>
<dd>Item to use with simple <a class="reference internal" href="#filter">FILTER</a> expressions. OGR and shapefiles only.</dd>
</dl>
<dl class="docutils" id="index-27">
<dt>FOOTER [filename]</dt>
<dd>Template to use <em>after</em> a layer&#8217;s set of results have been sent.
Multiresult query modes only.</dd>
</dl>
<dl class="docutils" id="index-28">
<dt>GEOMTRANSFORM [&lt;expression&gt;|&lt;Javascript file&gt;]</dt>
<dd><p class="first">Used to indicate that the current feature will be transformed.
Introduced in version 6.4.</p>
<ul id="index-29">
<li><p class="first"><em>&lt;expression&gt;</em>: Applies the given expression to the geometry.</p>
<p>Supported expressions:</p>
<ul class="simple" id="index-30">
<li><em>(buffer([shape],dist))</em>: Buffer the geometry (<cite>[shape]</cite>)
using <cite>dist</cite> pixels as buffer distance. For polygons, a
negative <cite>dist</cite> will produce a setback.</li>
</ul>
<ul class="simple" id="index-31">
<li><em>(simplify([shape],tolerance))</em>: simplifies a geometry
(<cite>[shape]</cite>) using the standard Douglas-Peucker algorithm.</li>
</ul>
<ul class="simple" id="index-32">
<li><em>(simplifypt([shape], tolerance))</em>: simplifies a geometry
(<cite>[shape]</cite>), ensuring that the result is a valid geometry
having the same dimension and number of components as the
input. <cite>tolerance</cite> must be non-negative.</li>
</ul>
<ul class="simple" id="index-33">
<li><em>(generalize([shape],tolerance))</em>: simplifies a geometry
(<cite>[shape]</cite>) in way comparable to FME&#8217;s ThinNoPoint
algorithm. See <a class="reference external" href="http://trac.osgeo.org/gdal/ticket/966">http://trac.osgeo.org/gdal/ticket/966</a> for more
information.</li>
</ul>
<ul id="index-34">
<li><p class="first"><em>(smoothsia([shape], smoothing_size, smoothing_iteration, preprocessing))</em>:
will smooth a geometry (<cite>[shape]</cite>) using the SIA algorithm</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="geomtransform.html#geomtransform"><span>GEOMTRANSFORM - Geometry Transformations</span></a> and <a class="reference internal" href="../output/shape_smoothing.html#shape-smoothing"><span>Shape Smoothing</span></a></p>
</div>
</li>
</ul>
<p>There is a difference between STYLE and LAYER
GEOMTRANSFORM. LAYER-level will receive ground coordinates
(meters, degress, etc) and STYLE-level will receive pixel
coordinates. The argument to methods such as simplify() must be
in the same units as the coordinates of the shapes at that point
of the rendering workflow, i.e. pixels at the STYLE-level and in
ground units at the LAYER-level.</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">LAYER</span> <span class="k">NAME</span> <span class="s">&quot;my_layer&quot;</span>
    <span class="k">TYPE</span> <span class="nb">LINE</span>
    <span class="k">STATUS</span> <span class="nb">DEFAULT</span>
    <span class="k">DATA</span> <span class="s">&quot;lines.shp&quot;</span>
    <span class="k">GEOMTRANSFORM</span> <span class="p">(</span><span class="err">simplify</span><span class="p">([</span><span class="err">shape</span><span class="p">],</span> <span class="mi">10</span><span class="p">))</span>  <span class="c">## 10 ground units</span>
    <span class="k">CLASS</span>
        <span class="k">STYLE</span>
            <span class="k">GEOMTRANSFORM</span> <span class="p">(</span><span class="k">buffer</span><span class="p">([</span><span class="err">shape</span><span class="p">],</span> <span class="mi">5</span><span class="p">)</span>  <span class="c">## 5 pixels</span>
            <span class="k">WIDTH</span> <span class="mi">2</span>
            <span class="k">COLOR</span> <span class="mi">255</span> <span class="mi">0</span> <span class="mi">0</span>
        <span class="k">END</span>
    <span class="k">END</span>
<span class="k">END</span>
</pre></div>
</div>
<p>The [map_cellsize] variable is available if you need to pass a pixel value
at the LAYER-level.</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">LAYER</span> <span class="k">NAME</span> <span class="s">&quot;my_layer&quot;</span>
    <span class="k">TYPE</span> <span class="nb">LINE</span>
    <span class="k">STATUS</span> <span class="nb">DEFAULT</span>
    <span class="k">DATA</span> <span class="s">&quot;lines.shp&quot;</span>
    <span class="k">UNITS</span> <span class="nb">meters</span>
    <span class="c"># 10 * [map_cellsize] == 10 pixels converted to ground units</span>
    <span class="k">GEOMTRANSFORM</span> <span class="p">(</span><span class="err">simplify</span><span class="p">([</span><span class="err">shape</span><span class="p">],</span> <span class="nx">[map_cellsize]</span><span class="o">*</span><span class="mi">10</span><span class="p">))</span>
<span class="p">...</span>
</pre></div>
</div>
<p>To get this variable working in the math expression parser,
the [map_cellsize] has to be converted into the layer ground unit.
If you choose to use [map_cellsize] in your GEOMTRANSFORM expression,
you must explicitly set the UNITS option in the layer.</p>
</li>
</ul>
<ul class="last" id="index-35">
<li><p class="first"><em>&lt;Javascript file&gt;</em>: A Javascript file that returns a new
geometry.  See <a class="reference internal" href="geomtransform.html#geomtransformjs"><span>Javascript transformation</span></a>.</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">LAYER</span>
  <span class="p">...</span>
  <span class="k">GEOMTRANSFORM</span> <span class="s">&quot;javascript://transform.js&quot;</span> <span class="c"># relative path</span>
<span class="k">END</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">LAYER</span>
  <span class="p">...</span>
  <span class="k">GEOMTRANSFORM</span> <span class="s">&quot;javascript:///home/user/transform.js&quot;</span> <span class="c"># absolute path</span>
<span class="k">END</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 7.0.</span></p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Requires <a class="reference internal" href="../installation/v8.html#v8-support"><span>V8 MapScript Support</span></a>.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="geomtransform.html#geomtransform"><span>GEOMTRANSFORM - Geometry Transformations</span></a></p>
</div>
</li>
</ul>
</dd>
</dl>
<dl class="docutils" id="index-36">
<dt><a class="reference internal" href="grid.html#grid"><span>GRID</span></a></dt>
<dd>Signals the start of a <a class="reference internal" href="grid.html#grid"><span>GRID</span></a> object.</dd>
</dl>
<dl class="docutils" id="index-37">
<dt>GROUP [name]</dt>
<dd><p class="first">Name of a group that this layer belongs to. The group name can then be
reference as a regular layer name in the template files, allowing to do
things like turning on and off a group of layers at once.</p>
<p class="last">If a group name is present in the LAYERS parameter of a CGI
request, all the layers of the group are returned (the <cite>STATUS</cite> of
the <cite>LAYER</cite>s have no effect).</p>
</dd>
</dl>
<dl class="docutils" id="index-38">
<dt>HEADER [filename]</dt>
<dd>Template to use <em>before</em> a layer&#8217;s set of results have been sent.
Multiresult query modes only.</dd>
</dl>
<dl class="docutils" id="index-39">
<dt><a class="reference internal" href="join.html#join"><span>JOIN</span></a></dt>
<dd>Signals the start of a <a class="reference internal" href="join.html#join"><span>JOIN</span></a> object.</dd>
<dt>LABELANGLEITEM [attribute]</dt>
<dd><p class="first">(As of MapServer 5.0 this parameter is no longer available.  Please see
the <a class="reference internal" href="label.html#label"><span>LABEL</span></a> object&#8217;s ANGLE parameter)
For MapServer versions &lt; 5.0, this is the item name in attribute table
to use for class annotation angles. Values should be in degrees.</p>
<div class="last deprecated">
<p><span class="versionmodified">Deprecated since version 5.0.</span></p>
</div>
</dd>
</dl>
<dl class="docutils" id="index-40">
<dt>LABELCACHE [on|off]</dt>
<dd>Specifies whether labels should be drawn as the features for this layer
are drawn, or whether they should be cached and drawn after all layers
have been drawn. Default is on. Label overlap removal, auto placement
etc... are only available when the label cache is active.</dd>
</dl>
<dl class="docutils" id="index-41">
<dt>LABELITEM [attribute]</dt>
<dd>Item name in attribute table to use for class annotation (i.e. labeling).</dd>
</dl>
<dl class="docutils" id="index-42">
<dt>LABELMAXSCALEDENOM [double]</dt>
<dd><p class="first">Minimum scale at which this LAYER is labeled.  Scale is given as the
denominator of the actual scale fraction, for example for a map at a scale
of 1:24,000 use 24000.  Implemented in MapServer 5.0, to replace the
deprecated LABELMAXSCALE parameter.</p>
<div class="last admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="../glossary.html#term-map-scale"><span class="xref std std-term">Map Scale</span></a></p>
</div>
</dd>
</dl>
<dl class="docutils" id="index-43">
<dt>LABELMINSCALEDENOM [double]</dt>
<dd><p class="first">Maximum scale at which this LAYER is labeled.  Scale is given as the
denominator of the actual scale fraction, for example for a map at a scale
of 1:24,000 use 24000.  Implemented in MapServer 5.0, to replace the
deprecated LABELMINSCALE parameter.</p>
<div class="last admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="../glossary.html#term-map-scale"><span class="xref std std-term">Map Scale</span></a></p>
</div>
</dd>
</dl>
<dl class="docutils" id="labelrequires">
<span id="index-44"></span><dt>LABELREQUIRES [expression]</dt>
<dd><p class="first">Sets context for labeling this layer, for example:</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">LABELREQUIRES</span> <span class="s">&quot;![orthoquads]&quot;</span>
</pre></div>
</div>
<p class="last">means that this layer would NOT be labeled if a layer named
&#8220;orthoquads&#8221; is on. The expression consists of a boolean expression based
on the status of other layers, each [layer name] substring is replaced by
a 0 or a 1 depending on that layer&#8217;s <a class="reference internal" href="#status">STATUS</a> and then evaluated as normal.
Logical operators AND and OR can be used.</p>
</dd>
<dt>LABELSIZEITEM [attribute]</dt>
<dd><p class="first">(As of MapServer 5.0 this parameter is no longer available.  Please see
the <a class="reference internal" href="label.html#label"><span>LABEL</span></a> object&#8217;s SIZE parameter)
For MapServer versions &lt; 5.0, this is the item name in attribute table to
use for class annotation sizes. Values should be in pixels.</p>
<div class="last deprecated">
<p><span class="versionmodified">Deprecated since version 5.0.</span></p>
</div>
</dd>
</dl>
<dl class="docutils" id="index-45">
<dt>MASK [layername]</dt>
<dd><p class="first">The data from the current layer will only be rendered where it intersects
features from the [layername] layer. [layername] must reference the NAME of
another <a class="reference internal" href="#layer">LAYER</a> defined in the current mapfile. can be any kind of
mapserver layer, i.e. vector or raster. If the current layer has labelling
configured, then only labels who&#8217;s label-point fall inside the unmasked
area will be added to the labelcache (the actual glyphs for the label
may be rendered ontop of the masked-out area.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Unless you want the features of [layername] to actually appear on the
generated map, [layername] should usually be set to <a class="reference internal" href="#status">STATUS</a> OFF.</p>
</div>
<div class="last admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="../development/rfc/ms-rfc-79.html#rfc79"><span>MS RFC 79: Layer Masking</span></a></p>
</div>
</dd>
</dl>
<dl class="docutils" id="index-46">
<dt>MAXFEATURES [integer]</dt>
<dd>Specifies the number of features that should be drawn for this layer in
the CURRENT window. Has some interesting uses with annotation and with
sorted data (i.e. lakes by area).</dd>
</dl>
<dl class="docutils" id="index-47">
<dt>MAXGEOWIDTH [double]</dt>
<dd><p class="first">Maximum width, in the map&#8217;s geographic units, at which this LAYER
is drawn.  If MAXSCALEDENOM is also specified then MAXSCALEDENOM
will be used instead.</p>
<p>The width of a map in geographic units can be found by calculating the
following from the extents:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">maxx</span><span class="p">]</span> <span class="o">-</span> <span class="p">[</span><span class="n">minx</span><span class="p">]</span>
</pre></div>
</div>
<div class="last versionadded">
<p><span class="versionmodified">New in version 5.4.0.</span></p>
</div>
</dd>
</dl>
<dl class="docutils" id="index-48">
<dt>MAXSCALEDENOM [double]</dt>
<dd><p class="first">Minimum scale at which this LAYER is drawn.  Scale is given as the
denominator of the actual scale fraction, for example for a map at a scale
of 1:24,000 use 24000.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 5.0.0: </span>Replaced MAXSCALE.</p>
</div>
<div class="last admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="../glossary.html#term-map-scale"><span class="xref std std-term">Map Scale</span></a></p>
</div>
</dd>
</dl>
<dl class="docutils" id="index-49">
<dt>METADATA</dt>
<dd><p class="first">This keyword allows for arbitrary data to be stored as name value pairs.
This is used with <a class="reference internal" href="../ogc/wms_server.html#wms-server"><span>OGC WMS</span></a> to define things such as
layer title. It can also allow more flexibility in creating templates, as
anything you put in here will be accessible via template tags.</p>
<p>Example:</p>
<div class="last highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">METADATA</span>
    <span class="s">&quot;title&quot;</span> <span class="s">&quot;My layer title&quot;</span>
    <span class="s">&quot;author&quot;</span> <span class="s">&quot;Me!&quot;</span>
<span class="k">END</span>
</pre></div>
</div>
</dd>
</dl>
<p id="index-50">MINGEOWIDTH [double]</p>
<blockquote>
<div><p>Minimum width, in the map&#8217;s geographic units, at which this LAYER
is drawn.  If MINSCALEDENOM is also specified then MINSCALEDENOM
will be used instead.</p>
<p>The width of a map in geographic units can be found by calculating the
following from the extents:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">maxx</span><span class="p">]</span> <span class="o">-</span> <span class="p">[</span><span class="n">minx</span><span class="p">]</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 5.4.0.</span></p>
</div>
</div></blockquote>
<dl class="docutils" id="index-51">
<dt>MINSCALEDENOM [double]</dt>
<dd><p class="first">Maximum scale at which this LAYER is drawn.  Scale is given as the
denominator of the actual scale fraction, for example for a map at a scale
of 1:24,000 use 24000.  Implemented in MapServer 5.0, to replace the
deprecated MINSCALE parameter.</p>
<div class="last admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="../glossary.html#term-map-scale"><span class="xref std std-term">Map Scale</span></a></p>
</div>
</dd>
</dl>
<dl class="docutils" id="index-52">
<dt>NAME [string]</dt>
<dd>Short name for this layer. This name is the link between the
mapfile and web interfaces that refer to this name. They must be
identical. The name should be unique, unless one layer replaces
another at different scales. Use the GROUP option to associate
layers with each other.  It is recommended that the name not
contain spaces, special characters, or begin with a number (which
could cause problems through interfaces such as OGC services).</dd>
</dl>
<dl class="docutils" id="index-53">
<dt>OFFSITE [r] [g] [b]</dt>
<dd>Sets the color index to treat as transparent for raster layers.</dd>
</dl>
<p id="opacity"><span id="index-54"></span>OPACITY [integer|alpha]</p>
<blockquote>
<div><div class="deprecated">
<p><span class="versionmodified">Deprecated since version 7.0: </span>Use a <a class="reference internal" href="composite.html#composite"><span>COMPOSITE</span></a> block instead.</p>
</div>
</div></blockquote>
<dl class="docutils" id="index-55">
<dt>PLUGIN [filename]</dt>
<dd><p class="first">Additional library to load by MapServer, for this layer.  This is commonly
used to load specific support for SDE and Microsoft SQL Server layers,
such as:</p>
<blockquote class="last">
<div><div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">CONNECTIONTYPE</span> <span class="nb">PLUGIN</span>
<span class="k">CONNECTION</span> <span class="s">&quot;hostname,port:xxx,database,username,password&quot;</span>
<span class="nb">PLUGIN</span> <span class="s">&quot;C:/ms4w/Apache/specialplugins/msplugin_sde_92.dll&quot;</span>
<span class="k">DATA</span> <span class="s">&quot;layername,geometrycolumn,SDE.DEFAULT&quot;</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl class="docutils" id="index-56">
<dt>POSTLABELCACHE [true|false]</dt>
<dd>Tells MapServer to render this layer after all labels in the cache have
been drawn. Useful for adding neatlines and similar elements.
Default is false.</dd>
</dl>
<span class="target" id="index-57"></span><dl class="docutils" id="index-58">
<dt>PROCESSING [string]</dt>
<dd><p class="first">Passes a processing directive to be used with this layer. The supported
processing directives vary by layer type, and the underlying driver that
processes them.</p>
<ul id="index-59">
<li><p class="first"><strong>Attributes Directive</strong> - The ITEMS processing option allows to
specify the name of attributes for inline layers or specify the subset
of the attributes to be used by the layer, such as:</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">PROCESSING</span> <span class="s">&quot;ITEMS=itemname1,itemname2,itemname3&quot;</span>
</pre></div>
</div>
</li>
</ul>
<ul id="index-60">
<li><p class="first"><strong>Connection Pooling Directive</strong> - This is where you can enable
connection pooling for certain layer layer types. Connection pooling
will allow MapServer to share the handle to an open database or layer
connection throughout a single map draw process. Additionally, if you
have FastCGI enabled, the connection handle will stay open indefinitely,
or according to the options specified in the
<a class="reference internal" href="../optimization/fastcgi.html#fastcgi"><span>FastCGI</span></a> configuration. <a class="reference internal" href="../input/vector/oracle.html#oci"><span>Oracle Spatial</span></a>, <a class="reference internal" href="../input/vector/arcsde.html#arcsde"><span>ArcSDE</span></a>,
<a class="reference internal" href="../input/vector/ogr.html#ogr"><span>OGR</span></a> and <a class="reference internal" href="../input/vector/postgis.html#input-postgis"><span>PostGIS/PostgreSQL</span></a> currently support this approach.</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">PROCESSING</span> <span class="s">&quot;CLOSE_CONNECTION=DEFER&quot;</span>
</pre></div>
</div>
</li>
</ul>
<ul id="index-61">
<li><p class="first"><strong>Kernel density radius</strong> - Radius in pixels of the gaussian
filter to apply to the bitmap array once all features have been
accumulated.  Higher values result in increased cpu time needed
to compute the filtered data.</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">PROCESSING</span> <span class="s">&quot;KERNELDENSITY_RADIUS=10&quot;</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 7.0.</span></p>
</div>
</li>
</ul>
<ul id="index-62">
<li><p class="first"><strong>Kernel density compute borders</strong> - A kernel of radius &#8220;r&#8221;
cannot be applied to &#8220;r&#8221; pixels along the borders of the image.
The default is to extend the search rectangle of the input
datasource to include features &#8220;r&#8221; pixels outside of the current
map extent so that the computed heatmap extends to the full
extent of the resulting image.  This can be deactivated when
tiling if the tiling software applies a metabuffer of &#8220;r&#8221; pixels
to its requests, to avoid the performance overhead of computing
this extra information.</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">PROCESSING</span> <span class="s">&quot;KERNELDENSITY_COMPUTE_BORDERS=ON|OFF&quot;</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 7.0.</span></p>
</div>
</li>
</ul>
<ul id="index-63">
<li><p class="first"><strong>Kernel density normalization</strong>- If set to &#8220;AUTO&#8221;, the created
raster band will be scaled such that its intensities range from
0 to 255, in order to fully span the configured color ramp.
Such behavior may not be desirable (typically for tiling) as the
resulting intensity of a pixel at a given location will vary
depending on the extent of the current map request.  If set to a
numeric value, the samples will be multiplied by the given value.
It is up to the user to determine which scaling value to use to
make the resulting pixels span the full 0-255 range; determining
that value is mostly a process of trial and error.  Pixels that
fall outside the 0-255 range will be clipped to 0 or 255.</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">PROCESSING</span> <span class="s">&quot;KERNELDENSITY_NORMALIZATION=AUTO|numeric&quot;</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 7.0.</span></p>
</div>
</li>
</ul>
<ul id="index-64">
<li><p class="first"><strong>Label Directive</strong> - The LABEL_NO_CLIP processing option can be
used to skip clipping of shapes when determining associated
label anchor points. This avoids changes in label position as
extents change between map draws. It also avoids duplicate
labels where features appear in multiple adjacent tiles when
creating tiled maps.</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">PROCESSING</span> <span class="s">&quot;LABEL_NO_CLIP=True&quot;</span>
</pre></div>
</div>
</li>
</ul>
<ul id="index-65">
<li><p class="first"><strong>Line Rendering Directive</strong> - The POLYLINE_NO_CLIP processing
option can be used to skip clipping of shapes when rendering
styled lines (dashed or styled with symbols).  This avoids
changes in the line styling as extents change between map
draws. It also avoids edge effects where features appear in
multiple adjacent tiles when creating tiled maps.</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">PROCESSING</span> <span class="s">&quot;POLYLINE_NO_CLIP=True&quot;</span>
</pre></div>
</div>
</li>
</ul>
<ul id="index-66">
<li><p class="first"><strong>OGR Styles Directive</strong> - This directive can be used for obtaining
label styles through MapScript.  For more information see the
<a class="reference internal" href="../input/vector/ogr.html#styleitemauto-label-styles"><span>MapServer&#8217;s OGR document</span></a>.</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">PROCESSING</span> <span class="s">&quot;GETSHAPE_STYLE_ITEMS=all&quot;</span>
</pre></div>
</div>
</li>
</ul>
<ul id="index-67">
<li><p class="first"><strong>Native filter Directive</strong> - This directive can be used to do
driver specific filtering.  For database connections the string
is a SQL WHERE clause that is valid with respect to the
underlying database.</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">PROCESSING</span> <span class="s">&quot;NATIVE_FILTER=id=234&quot;</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 7.0.</span></p>
</div>
</li>
</ul>
<ul id="index-68">
<li><p class="first"><strong>AGG renderer tweaking</strong> - This directive can be used for setting
the linear gamma to be used when rendering polygon features. The
default value of 0.75 (that can be overridden at the <a class="reference internal" href="outputformat.html#outputformat"><span>OUTPUTFORMAT</span></a>
level) can be set to a lower value to limit/remove the faint outlines
that appear between adjacent polygons. A value of 0.5 is usually good
enough.</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">PROCESSING</span> <span class="s">&quot;GAMMA=0.5&quot;</span>
</pre></div>
</div>
</li>
</ul>
<ul class="last" id="index-69">
<li><p class="first"><strong>Raster Directives</strong> - All raster processing options are described
in <a class="reference internal" href="../input/raster.html#raster"><span>Raster Data</span></a>.  Here we see the SCALE and BANDs directives used to
autoscale raster data and alter the band mapping.</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">PROCESSING</span> <span class="s">&quot;SCALE=AUTO&quot;</span>
<span class="k">PROCESSING</span> <span class="s">&quot;BANDS=3,2,1&quot;</span>
</pre></div>
</div>
</li>
</ul>
</dd>
</dl>
<dl class="docutils" id="index-70">
<dt><a class="reference internal" href="projection.html#projection"><span>PROJECTION</span></a></dt>
<dd>Signals the start of a <a class="reference internal" href="projection.html#projection"><span>PROJECTION</span></a> object.</dd>
</dl>
<dl class="docutils" id="index-71">
<dt>REQUIRES [expression]</dt>
<dd>Sets context for displaying this layer (see <a class="reference internal" href="#labelrequires">LABELREQUIRES</a>).</dd>
</dl>
<span class="target" id="index-72"></span><span class="target" id="index-73"></span><span class="target" id="index-74"></span><span class="target" id="index-75"></span><span class="target" id="index-76"></span><span class="target" id="index-77"></span><span class="target" id="index-78"></span><dl class="docutils" id="index-79">
<dt>SIZEUNITS [feet|inches|kilometers|meters|miles|nauticalmiles|pixels]</dt>
<dd>Sets the unit of <a class="reference internal" href="class.html#class"><span>CLASS</span></a> object SIZE values (default is
pixels).  Useful for simulating buffering. <cite>nauticalmiles</cite> was
added in MapServer 5.6.</dd>
</dl>
<dl class="docutils" id="status">
<span id="index-80"></span><dt>STATUS [on|off|default]</dt>
<dd><p class="first">Sets the current status of the layer. Often modified by MapServer itself.
Default turns the layer on permanently.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In <a class="reference internal" href="../cgi/index.html#cgi"><span>CGI</span></a> mode, layers with STATUS DEFAULT cannot be turned
off using normal mechanisms. It is recommended to set layers to STATUS
DEFAULT while debugging a problem, but set them back to ON/OFF in
normal use.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For <a class="reference internal" href="../ogc/wms_server.html#wms-server"><span>WMS</span></a>, layers in the server mapfile with STATUS
DEFAULT are always sent to the client.</p>
</div>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The STATUS of the individual layers of a GROUP has no effect
when the group name is present in the LAYERS parameter of a CGI
request - all the layers of the group will be returned.</p>
</div>
</dd>
</dl>
<dl class="docutils" id="index-81">
<dt>STYLEITEM [&lt;attribute&gt;|auto|&lt;javascript file&gt;]</dt>
<dd><p class="first">Styling based on attributes or generated with Javascript</p>
<ul id="index-82">
<li><p class="first"><em>&lt;attribute&gt;</em>: Item to use for feature specific styling. The
style information may be represented by a separate attribute
(style string) attached to the feature.  MapServer supports the
following style string representations:</p>
<ul>
<li><p class="first"><strong>MapServer STYLE definition</strong> - The style string can be
represented as a MapServer <a class="reference internal" href="style.html#style"><span>STYLE</span></a> block according to the
following example:</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">STYLE</span> <span class="k">BACKGROUNDCOLOR</span> <span class="mi">128</span> <span class="mi">0</span> <span class="mi">0</span> <span class="k">COLOR</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">208</span> <span class="k">END</span>
</pre></div>
</div>
</li>
<li><p class="first"><strong>MapServer CLASS definition</strong> - By specifying the entire
<a class="reference internal" href="class.html#class"><span>CLASS</span></a> instead of a single style allows to use further
options (like setting expressions, label attributes, multiple
styles) on a per feature basis.</p>
</li>
<li><p class="first"><strong>OGR Style String</strong> - MapServer support rendering the OGR
style string format according to the <a class="reference external" href="http://www.gdal.org/ogr/ogr_feature_style.html">OGR - Feature Style
Specification</a> documentation.  Currently only a few data
sources support storing the styles along with the features
(like MapInfo, AutoCAD DXF, Microstation DGN), however those
styles can easily be transferred to many other data sources as
a separate attribute by using the <a class="reference external" href="http://www.gdal.org/ogr2ogr.html">ogr2ogr</a> command line tool
as follows:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>ogr2ogr -sql <span class="s2">&quot;select *, OGR_STYLE from srclayer&quot;</span> <span class="s2">&quot;dstlayer&quot;</span> <span class="s2">&quot;srclayer&quot;</span>
</pre></div>
</div>
</li>
</ul>
</li>
</ul>
<ul class="simple" id="index-83">
<li><em>AUTO</em>: The value: <cite>AUTO</cite> can be used for automatic styling.<ul>
<li>Automatic styling can be provided by the driver. Currently,
only the OGR driver supports automatic styling.</li>
<li>When used for a <a class="reference internal" href="union.html#union"><span>Union Layer</span></a>, the styles from the source
layers will be used.</li>
</ul>
</li>
</ul>
<ul class="last" id="index-84">
<li><p class="first"><em>&lt;Javascript file&gt;</em>: A Javascript file that returns a new string
containing either a <a class="reference internal" href="style.html#style"><span>STYLE</span></a> definition or a <a class="reference internal" href="class.html#class"><span>CLASS</span></a>
definition with one or multiple styles.  See <a class="reference internal" href="styleitem.html#styleitemjs"><span>STYLEITEM Javascript</span></a>.</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">LAYER</span>
  <span class="p">...</span>
  <span class="k">STYLEITEM</span> <span class="s">&quot;javascript://myscript.js&quot;</span> <span class="c"># relative path</span>
  <span class="k">CLASS</span>
  <span class="k">END</span>
<span class="k">END</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">LAYER</span>
  <span class="p">...</span>
  <span class="k">STYLEITEM</span> <span class="s">&quot;javascript:///home/user/myscript.js&quot;</span> <span class="c"># absolute path</span>
  <span class="k">CLASS</span>
  <span class="k">END</span>
<span class="k">END</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 6.6.</span></p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Requires <a class="reference internal" href="../installation/v8.html#v8-support"><span>V8 MapScript Support</span></a>.</p>
</div>
</li>
</ul>
</dd>
</dl>
<dl class="docutils" id="symbolscaledenom">
<span id="index-85"></span><dt>SYMBOLSCALEDENOM [double]</dt>
<dd><p class="first">The scale at which symbols and/or text appear full size. This
allows for dynamic scaling of objects based on the scale of the
map. If not set then this layer will always appear at the same
size. Scaling only takes place within the limits of MINSIZE and
MAXSIZE as described above.  Scale is given as the denominator of
the actual scale fraction, for example for a map at a scale of
1:24,000 use 24000.  Implemented in MapServer 5.0, to replace the
deprecated SYMBOLSCALE parameter.</p>
<div class="last admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="../glossary.html#term-map-scale"><span class="xref std std-term">Map Scale</span></a></p>
</div>
</dd>
</dl>
<dl class="docutils" id="index-86">
<dt><a class="reference internal" href="template.html#template"><span>TEMPLATE</span></a> [file|url]</dt>
<dd>Used as a global alternative to <a class="reference internal" href="class.html#class"><span>CLASS</span></a> <cite>TEMPLATE</cite>.
See <a class="reference internal" href="template.html#template"><span>Templating</span></a> for more info.</dd>
</dl>
<dl class="docutils" id="tileindex-keyword">
<span id="index-87"></span><dt><a class="reference internal" href="../optimization/tileindex.html#tileindex"><span>TILEINDEX</span></a> [filename|layername]</dt>
<dd><p class="first">Name of the tileindex file or layer.  A tileindex is similar to
an ArcInfo library index.  The tileindex contains polygon features for
each tile. The item that contains the location of the tiled data is given
using the TILEITEM parameter.  When a file is used as the tileindex for
shapefile or raster layers, the tileindex should be a shapefile.  For
CONNECTIONTYPE OGR layers, any OGR supported datasource can be a
tileindex.  Normally the location should contain the path to the tile
file relative to the shapepath, not relative to the tileindex itself.
If the DATA parameter contains a value then it is added to the end of
the location.  When a tileindex layer is used, it works similarly to
directly referring to a file, but any supported feature source can
be used (ie. postgres, oracle).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All files in the tileindex should have the same coordinate system, and
for vector files the same set of attributes in the same order.</p>
</div>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Starting with MapServer 6.4, raster layers can use a tileindex
with tiles of different projections. For that, the
<a class="reference internal" href="#tilesrs"><span>TILESRS</span></a> parameter must be specified.</p>
</div>
</dd>
</dl>
<dl class="docutils" id="tileitem">
<span id="index-88"></span><dt>TILEITEM [attribute]</dt>
<dd>Item that contains the location of an individual tile, default is
&#8220;location&#8221;.</dd>
</dl>
<dl class="docutils" id="tilesrs">
<span id="index-89"></span><dt>TILESRS [attribute]</dt>
<dd><p class="first">Name of the attribute that contains the SRS of an individual tile.
That SRS can be expressed in WKT format, as an EPSG:XXXX code or as a
PROJ.4 string.
If the tileindex contains rasters in different projections, this option
must be specified. If the tileindex has been generated with
gdaltindex (GDAL &gt;= 2.0), the value of TILESRS is the value of the
-src_srs_name option of gdaltindex. See <a class="reference internal" href="../optimization/tileindex.html#tileindex-mixed-srs"><span>Tileindexes with tiles in different projections</span></a></p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This option is currently available only on raster layers.</p>
</div>
</dd>
</dl>
<dl class="docutils" id="tolerance">
<span id="index-90"></span><dt>TOLERANCE [double]</dt>
<dd>Sensitivity for point based queries (i.e. via mouse and/or map
coordinates). Given in TOLERANCEUNITS. If the layer is a POINT or a LINE,
the default is 3. For all other layer types, the default is 0.  To
restrict polygon searches so that the point must occur in the polygon
set the tolerance to zero. This setting does not apply to WFS GetFeature
operations.</dd>
</dl>
<dl class="docutils" id="index-91">
<dt>TOLERANCEUNITS [pixels|feet|inches|kilometers|meters|miles|nauticalmiles|dd]</dt>
<dd>Units of the TOLERANCE value. Default is pixels.
<cite>Nauticalmiles</cite> was added in MapServer 5.6.</dd>
</dl>
<p>TRANSPARENCY [integer|alpha] - deprecated</p>
<blockquote>
<div><div class="deprecated">
<p><span class="versionmodified">Deprecated since version 5.0: </span>Use <a class="reference internal" href="#opacity">OPACITY</a> instead.</p>
</div>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 7.0: </span>Use <a class="reference internal" href="composite.html#composite"><span>COMPOSITE</span></a> instead.</p>
</div>
</div></blockquote>
<dl class="docutils" id="index-92">
<dt>TRANSFORM [true|false ul|uc|ur|lc|cc|lr|ll|lc|lr]</dt>
<dd><p class="first">Tells MapServer whether or not a particular layer needs to be transformed
from some coordinate system to image coordinates. Default is true. This
allows you to create shapefiles in image/graphics coordinates and
therefore have features that will always be displayed in the same location
on every map. Ideal for placing logos or text in maps. Remember that the
graphics coordinate system has an origin in the upper left hand corner of
the image, contrary to most map coordinate systems.</p>
<p class="last">Version 4.10 introduces the ability to define features with coordinates
given in pixels (or percentages, see UNITS), most often inline features,
relative to something other than the UL corner of an image. That is what
&#8216;TRANSFORM FALSE&#8217; means. By setting an alternative origin it allows you
to anchor something like a copyright statement to another portion of the
image in a way that is independent of image size.</p>
</dd>
</dl>
<span class="target" id="index-93"></span><span class="target" id="index-94"></span><span class="target" id="index-95"></span><span class="target" id="index-96"></span><span class="target" id="index-97"></span><span class="target" id="index-98"></span><span class="target" id="index-99"></span><span class="target" id="index-100"></span><dl class="docutils" id="index-101">
<dt>TYPE [chart|circle|line|point|polygon|raster|query]</dt>
<dd><p class="first">Specifies how the data should be drawn. Need not be the same as the
shapefile type. For example, a polygon shapefile may be drawn as a point
layer, but a point shapefile may not be drawn as a polygon layer. Common
sense rules.</p>
<p>In order to differentiate between POLYGONs and POLYLINEs (which do not
exist as a type), simply respectively use or omit the COLOR keyword when
classifying. If you use it, it&#8217;s a polygon with a fill color, otherwise
it&#8217;s a polyline with only an OUTLINECOLOR.</p>
<p>A <cite>circle</cite> must be defined by a a minimum bounding rectangle. That
is, two points that define the smallest square that can contain
it. These two points are the two opposite corners of said box.
The following is an example using inline points to draw a circle:</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">LAYER</span>
  <span class="k">NAME</span> <span class="s">&#39;inline_circles&#39;</span>
  <span class="k">TYPE</span> <span class="nb">CIRCLE</span>
  <span class="k">STATUS</span> <span class="nb">ON</span>
  <span class="k">FEATURE</span>
    <span class="k">POINTS</span>
      <span class="mf">74.01</span> <span class="p">-</span><span class="mf">53.8</span>
      <span class="mf">110.7</span> <span class="p">-</span><span class="mf">22.16</span>
    <span class="k">END</span>
  <span class="k">END</span>
  <span class="k">CLASS</span>
    <span class="k">STYLE</span>
      <span class="k">COLOR</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">255</span>
    <span class="k">END</span>
  <span class="k">END</span>
<span class="k">END</span>
</pre></div>
</div>
<p><cite>TYPE</cite> <cite>query</cite> means the layer can be queried but not drawn.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><cite>TYPE</cite> <cite>annotation</cite> has been deprecated since version 6.2.
Identical functionality can be obtained by adding <a class="reference internal" href="label.html#label"><span>LABEL</span></a>
level <a class="reference internal" href="style.html#style"><span>STYLE</span></a> blocks, and do not require loading the
datasets twice in two different layers as was the case with
layers of <cite>TYPE</cite> <cite>annotation</cite>.</p>
</div>
<div class="last admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">The <a class="reference internal" href="../output/dynamic_charting.html#dynamic-charting"><span>Dynamic Charting</span></a> HowTo for <cite>TYPE</cite>
<cite>chart</cite>.</p>
</div>
</dd>
</dl>
<span class="target" id="index-102"></span><span class="target" id="index-103"></span><span class="target" id="index-104"></span><span class="target" id="index-105"></span><span class="target" id="index-106"></span><span class="target" id="index-107"></span><span class="target" id="index-108"></span><span class="target" id="index-109"></span><span class="target" id="index-110"></span><dl class="docutils" id="index-111">
<dt>UNITS [dd|feet|inches|kilometers|meters|miles|nauticalmiles|percentages|pixels]</dt>
<dd>Units of the layer.  <cite>percentages</cite> (in this case a value between 0
and 1) was added in MapServer 4.10 and is mostly geared for inline
features.  <cite>nauticalmiles</cite> was added in MapServer 5.6.</dd>
</dl>
<dl class="docutils" id="index-112">
<dt>UTFDATA [string]</dt>
<dd><p class="first">A UTFGrid JSON template.  MapServer expression syntax
(expressionObj).  If no <cite>UTFDATA</cite> is provided, no data beyond the
<cite>UTFITEM</cite> values will be exposed.  If <cite>UTFITEM</cite> is set, the
<cite>UTFDATA</cite> expose those so that keys and data can be connected.
See <a class="reference internal" href="../development/rfc/ms-rfc-93.html#rfc93"><span>MS RFC 93: UTF Grid Support</span></a> and <a class="reference internal" href="../output/utfgrid_output.html#utfgrid-output"><span>UTFGrid Output</span></a>.</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">UTFDATA</span> <span class="s">&quot;{</span><span class="se">\&quot;</span><span class="s">id</span><span class="se">\&quot;</span><span class="s">:</span><span class="se">\&quot;</span><span class="s">[fid]</span><span class="se">\&quot;</span><span class="s">, </span><span class="se">\&quot;</span><span class="s">name</span><span class="se">\&quot;</span><span class="s">:</span><span class="se">\&quot;</span><span class="s">[name]</span><span class="se">\&quot;</span><span class="s">, </span><span class="se">\&quot;</span><span class="s">area</span><span class="se">\&quot;</span><span class="s">:</span><span class="se">\&quot;</span><span class="s">[area]</span><span class="se">\&quot;</span><span class="s">}&quot;</span>
</pre></div>
</div>
<div class="last versionadded">
<p><span class="versionmodified">New in version 7.0.</span></p>
</div>
</dd>
</dl>
<dl class="docutils" id="index-113">
<dt>UTFITEM [string]</dt>
<dd><p class="first">The attribute to use as the ID for the UTFGrid.  If a <cite>UTFITEM</cite> is
not set, the sequential id (based on rendering order) is being
used.  If <cite>UTFITEM</cite> is set, the <cite>UTFDATA</cite> expose those so that
keys and data can be connected.  See <a class="reference internal" href="../development/rfc/ms-rfc-93.html#rfc93"><span>MS RFC 93: UTF Grid Support</span></a> and
<a class="reference internal" href="../output/utfgrid_output.html#utfgrid-output"><span>UTFGrid Output</span></a>.</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">UTFITEM</span> <span class="s">&quot;fid&quot;</span>
</pre></div>
</div>
<div class="last versionadded">
<p><span class="versionmodified">New in version 7.0.</span></p>
</div>
</dd>
</dl>
<dl class="docutils" id="index-114">
<dt>VALIDATION</dt>
<dd><p class="first">Signals the start of a <cite>VALIDATION</cite> block.</p>
<p class="last">As of MapServer 5.4.0, <cite>VALIDATION</cite> blocks are the preferred
mechanism for specifying validation patterns for CGI param runtime
substitutions.  See <a class="reference internal" href="../cgi/runsub.html#runsub"><span>Run-time Substitution</span></a>.</p>
</dd>
</dl>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Navigation</h3>
<p>
<a href="../about.html" title="About">About</a><br>
<a href="../products.html" title="Products">Products</a><br>
<a href="../community/index.html" title="Community">Community</a><br>
<a href="../development/index.html" title="Development">Development</a><br>
<a href="../download.html" title="Downloads">Downloads</a><br>
<a href="../documentation.html" title="Documentation">Documentation</a><br>
<a href="../faq.html" title="FAQ">FAQ</a>
</p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Open Source Geospatial Foundation.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.4</a>
      
    </div>

    

    
  </body>
</html>