<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Mapfile &#8212; MapServer 8.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx.css?v=6c7b17ac" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=dd298242" />
    <link rel="stylesheet" type="text/css" href="../_static/ribbon.css?v=ea091bf4" />
    
    <script src="../_static/documentation_options.js?v=521b6f53"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="icon" href="../_static/mapserver.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="Cartographical Symbol Construction with MapServer" href="symbology/construction.html" />
    <link rel="prev" title="V8 MapScript Support" href="../installation/v8.html" /> 
  </head><body>


<!-- for main branch only, do not backport this -->

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../index.html" title="Home"><img src="../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../index.html" title="Home">Home</a> |
      <a href="../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../community/service_providers.html" title="Professional Service Providers">Service Providers</a> |      
      <a href="../faq.html" title="Frequently Asked Questions">FAQ</a> |
      <a href="https://twitter.com/mapserver_osgeo" title="Twitter" target="_blank">Twitter</a> |
      <a href="../download.html" title="Download Source or Binaries">Download </a> |
      <a class="badge" href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=KRJ2X44N3HA6U&source=url" target="_blank">
        <img src="https://img.shields.io/badge/donate-%E2%9D%A4%C2%A0-ff69b4.svg?style=flat" alt="Donate to MapServer">
      </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        <img src="../_static/flagicons/en.png" alt="en" title="en" border="0" width="18px" height="13px"/>
        
          <a href="../ar/mapfile/index.html"><img src="../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
        
        
          <a href="../de/mapfile/index.html"><img src="../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
        
        
          <a href="../el/mapfile/index.html"><img src="../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
        
        
          <a href="../es/mapfile/index.html"><img src="../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
        
        
          <a href="../fr/mapfile/index.html"><img src="../_static/flagicons/fr.png" alt="fr" title="fr" border="0" /></a>
        
        
          <a href="../id/mapfile/index.html"><img src="../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
        
        
          <a href="../it/mapfile/index.html"><img src="../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
        
        
          <a href="../ja/mapfile/index.html"><img src="../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
        
        
          <a href="../nl_NL/mapfile/index.html"><img src="../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
        
        
          <a href="../pl/mapfile/index.html"><img src="../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
        
        
          <a href="../ru/mapfile/index.html"><img src="../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
        
        
          <a href="../sq/mapfile/index.html"><img src="../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
        
        
          <a href="../tr/mapfile/index.html"><img src="../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
        

    </td>
  </tr>
</table>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="symbology/construction.html" title="Cartographical Symbol Construction with MapServer"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../installation/v8.html" title="V8 MapScript Support"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" accesskey="U">MapServer 8.0.1 Documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Mapfile</a></li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="mapfile">
<span id="index-0"></span><span id="id1"></span><h1>Mapfile<a class="headerlink" href="#mapfile" title="Link to this heading">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Author<span class="colon">:</span></dt>
<dd class="field-odd"><p>Steve Lime</p>
</dd>
<dt class="field-even">Contact<span class="colon">:</span></dt>
<dd class="field-even"><p>steve.lime at dnr.state.mn.us</p>
</dd>
<dt class="field-odd">Author<span class="colon">:</span></dt>
<dd class="field-odd"><p>Jeff McKenna</p>
</dd>
<dt class="field-even">Contact<span class="colon">:</span></dt>
<dd class="field-even"><p>jmckenna at gatewaygeomatics.com</p>
</dd>
<dt class="field-odd">Last Updated<span class="colon">:</span></dt>
<dd class="field-odd"><p>2022-08-29</p>
</dd>
</dl>
<p>The Mapfile is the heart of MapServer.  It defines the relationships
between objects, points MapServer to where data are located and
defines how things are to be drawn.</p>
<p>The Mapfile consists of a <a class="reference internal" href="map.html#map"><span class="std std-ref">MAP</span></a> object, which has to start with
the word <cite>MAP</cite>.</p>
<p>There are some important concepts that you must understand before you
can reliably use mapfiles to configure MapServer.  First is the
concept of a <a class="reference internal" href="layer.html#layer"><span class="std std-ref">LAYER</span></a>.  A layer is the combination of data plus
styling.  Data, in the form of attributes plus geometry, are given
styling using <a class="reference internal" href="class.html#class"><span class="std std-ref">CLASS</span></a> and <a class="reference internal" href="style.html#style"><span class="std std-ref">STYLE</span></a> directives.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../introduction.html#introduction"><span class="std std-ref">An Introduction to MapServer</span></a> for “An Introduction to the Mapfile”</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As you setup your server and mapfiles, it is strongly recommended to
review the security steps for the <em>MAP=</em>
call to the MapServer executable, by setting <em>MS_MAP_PATTERN</em> or
<em>MS_MAP_NO_PATH</em> or hiding the <em>MAP=</em> parameter on public servers,
as recommended in the document <a class="reference internal" href="../optimization/limit_mapfile_access.html#limit-mapfile-access"><span class="std std-ref">Limit Mapfile Access</span></a>.  All possible
environment variables to secure your server are listed in <a class="reference internal" href="../optimization/environment_variables.html#environment-variables"><span class="std std-ref">Environment Variables</span></a>.</p>
</div>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="symbology/construction.html">Cartographical Symbol Construction with MapServer</a></li>
<li class="toctree-l1"><a class="reference internal" href="class.html">CLASS</a></li>
<li class="toctree-l1"><a class="reference internal" href="cluster.html">CLUSTER</a></li>
<li class="toctree-l1"><a class="reference internal" href="composite.html">COMPOSITE</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">CONFIG</a></li>
<li class="toctree-l1"><a class="reference internal" href="encoding.html">Display of International Characters in MapServer</a></li>
<li class="toctree-l1"><a class="reference internal" href="expressions.html">Expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="feature.html">FEATURE</a></li>
<li class="toctree-l1"><a class="reference internal" href="fontset.html">FONTSET</a></li>
<li class="toctree-l1"><a class="reference internal" href="geomtransform.html">GEOMTRANSFORM - Geometry Transformations</a></li>
<li class="toctree-l1"><a class="reference internal" href="grid.html">GRID</a></li>
<li class="toctree-l1"><a class="reference internal" href="include.html">INCLUDE</a></li>
<li class="toctree-l1"><a class="reference internal" href="join.html">JOIN</a></li>
<li class="toctree-l1"><a class="reference internal" href="label.html">LABEL</a></li>
<li class="toctree-l1"><a class="reference internal" href="layer.html">LAYER</a></li>
<li class="toctree-l1"><a class="reference internal" href="leader.html">LEADER</a></li>
<li class="toctree-l1"><a class="reference internal" href="legend.html">LEGEND</a></li>
<li class="toctree-l1"><a class="reference internal" href="map.html">MAP</a></li>
<li class="toctree-l1"><a class="reference internal" href="outputformat.html">OUTPUTFORMAT</a></li>
<li class="toctree-l1"><a class="reference internal" href="projection.html">PROJECTION</a></li>
<li class="toctree-l1"><a class="reference internal" href="querymap.html">QUERYMAP</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">REFERENCE</a></li>
<li class="toctree-l1"><a class="reference internal" href="scalebar.html">SCALEBAR</a></li>
<li class="toctree-l1"><a class="reference internal" href="style.html">STYLE</a></li>
<li class="toctree-l1"><a class="reference internal" href="styleitem.html">STYLEITEM Javascript</a></li>
<li class="toctree-l1"><a class="reference internal" href="symbol.html">SYMBOL</a></li>
<li class="toctree-l1"><a class="reference internal" href="symbology/examples.html">Symbology Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="template.html">Templating</a></li>
<li class="toctree-l1"><a class="reference internal" href="validation.html">VALIDATION</a></li>
<li class="toctree-l1"><a class="reference internal" href="union.html">Union Layer</a></li>
<li class="toctree-l1"><a class="reference internal" href="web.html">WEB</a></li>
<li class="toctree-l1"><a class="reference internal" href="xml_mapfile.html">XML Mapfile support</a></li>
</ul>
</div>
<section id="notes">
<h2>Notes<a class="headerlink" href="#notes" title="Link to this heading">¶</a></h2>
<ul>
<li><p>The Mapfile is NOT case-sensitive.</p></li>
<li><p>The <strong>Mapfile is read from top to bottom by MapServer</strong>; this means
that LAYERs near the top of your Mapfile will be drawn before those
near the bottom.  Therefore users commonly place background imagery
and other background layer types near the top of their mapfile, and
lines and points near the bottom of their mapfile.</p></li>
<li><p>Strings containing non-alphanumeric characters or a MapServer
keyword MUST be quoted. It is recommended to put ALL strings in
double-quotes.</p></li>
<li><p>As of MapServer 7.0, Mapfiles are expected to be <strong>UTF-8 encoded</strong>.
Non UTF-8 encoded mapfiles will need to be iconv’ed to UTF-8.</p></li>
<li><p>For MapServer versions &lt; 5, there was a default maximum of 200
layers per mapfile (there is no layer limit with MapServer &gt;= 5).
This can be changed by editing the map.h file to change the value of
MS_MAXLAYERS to the desired number and recompiling.  Here are other
important default limits when using a MapServer version &lt; 5:</p>
<ul class="simple" id="index-1">
<li><p>MAXCLASSES 250 (set in map.h)</p></li>
</ul>
<ul class="simple" id="index-2">
<li><p>MAXSTYLES 5 (set in map.h)</p></li>
</ul>
<ul class="simple" id="index-3">
<li><p>MAXSYMBOLS 64 (set in mapsymbol.h)</p></li>
</ul>
<p>MapServer versions &gt;= 5 have no limits for classes, styles, symbols,
or layers.</p>
</li>
</ul>
<ul class="simple" id="index-4">
<li><p>File paths may be given as absolute paths, or as paths relative to
the location of the mapfile. In addition, data files may be
specified relative to the SHAPEPATH.</p></li>
<li><p>The mapfile has a hierarchical structure, with the MAP object being
the “root”. All other objects fall under this one.</p></li>
</ul>
<ul id="index-5">
<li><p>Comments are designated with a <strong>#</strong>.  Since version 7.2 MapServer also
supports single or multi-line C-style comments, as <strong>/* … */</strong></p></li>
<li><p>Attributes are named using the following syntax: [ATTRIBUTENAME].</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>that the name of the attribute included between the square
brackets <em>IS CASE SENSITIVE</em>. Generally Esri shapefiles
have their attributes (.dbf column names) all in upper-case
for instance, and for PostGIS, <em>ALWAYS</em> use lower-case.</p>
</div>
</li>
</ul>
<ul class="simple" id="index-6">
<li><p>MapServer Regular Expressions are used through the operating
system’s C Library.  For information on how to use and write Regular
Expressions on your system, you should read the documentation
provided with your C Library.  On Linux, this is GLibC, and you can
read “man 7 regex” … This man page is also available on most
UNIX’s. Since these RegEx’s are POSIX compliant, they should be the
same on Windows as well, so windows users can try searching the web
for “man 7 regex” since man pages are available all over the web.</p></li>
<li><p>Syntax coloring for .map files should be available for your favorite
text editor (for example: <a class="reference external" href="https://ms4w.com/trac/wiki/Notepad%2B%2BMapServerStyle">Notepad++ steps</a>)</p></li>
</ul>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p>
<a href="../about.html" title="About">About</a><br>
<a href="../products.html" title="Products">Products</a><br>
<a href="../community/index.html" title="Community">Community</a><br>
<a href="../development/index.html" title="Development">Development</a><br>
<a href="../download.html" title="Downloads">Downloads</a><br>
<a href="../documentation.html" title="Documentation">Documentation</a><br>
<a href="../faq.html" title="FAQ">FAQ</a><br>
<a href="../psc.html" title="PSC">PSC</a><br>
<a href="https://twitter.com/mapserver_osgeo" title="Twitter">Twitter</a>
</p>
  <h3>Current Table Of Contents</h3>
  <ul>
<li><a class="reference internal" href="#">Mapfile</a><ul>
<li><a class="reference internal" href="#notes">Notes</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="symbology/construction.html" title="Cartographical Symbol Construction with MapServer"
             >next</a> |</li>
        <li class="right" >
          <a href="../installation/v8.html" title="V8 MapScript Support"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >MapServer 8.0.1 Documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Mapfile</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; <a href="../copyright.html">Copyright</a> 2023, Open Source Geospatial Foundation.
      Last updated on 2023-12-22.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.5.
    </div>
  </body>
</html>