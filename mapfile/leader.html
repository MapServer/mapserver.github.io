<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>LEADER &#8212; MapServer 8.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx.css?v=6c7b17ac" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=dd298242" />
    <link rel="stylesheet" type="text/css" href="../_static/ribbon.css?v=ea091bf4" />
    
    <script src="../_static/documentation_options.js?v=521b6f53"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="icon" href="../_static/mapserver.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="LEGEND" href="legend.html" />
    <link rel="prev" title="LAYER" href="layer.html" /> 
  </head><body>


<!-- for main branch only, do not backport this -->

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../index.html" title="Home"><img src="../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../index.html" title="Home">Home</a> |
      <a href="../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../community/service_providers.html" title="Professional Service Providers">Service Providers</a> |      
      <a href="../faq.html" title="Frequently Asked Questions">FAQ</a> |
      <a href="https://twitter.com/mapserver_osgeo" title="Twitter" target="_blank">Twitter</a> |
      <a href="../download.html" title="Download Source or Binaries">Download </a> |
      <a class="badge" href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=KRJ2X44N3HA6U&source=url" target="_blank">
        <img src="https://img.shields.io/badge/donate-%E2%9D%A4%C2%A0-ff69b4.svg?style=flat" alt="Donate to MapServer">
      </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        <img src="../_static/flagicons/en.png" alt="en" title="en" border="0" width="18px" height="13px"/>
        
          <a href="../ar/mapfile/leader.html"><img src="../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
        
        
          <a href="../de/mapfile/leader.html"><img src="../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
        
        
          <a href="../el/mapfile/leader.html"><img src="../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
        
        
          <a href="../es/mapfile/leader.html"><img src="../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
        
        
          <a href="../fr/mapfile/leader.html"><img src="../_static/flagicons/fr.png" alt="fr" title="fr" border="0" /></a>
        
        
          <a href="../id/mapfile/leader.html"><img src="../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
        
        
          <a href="../it/mapfile/leader.html"><img src="../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
        
        
          <a href="../ja/mapfile/leader.html"><img src="../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
        
        
          <a href="../nl_NL/mapfile/leader.html"><img src="../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
        
        
          <a href="../pl/mapfile/leader.html"><img src="../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
        
        
          <a href="../ru/mapfile/leader.html"><img src="../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
        
        
          <a href="../sq/mapfile/leader.html"><img src="../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
        
        
          <a href="../tr/mapfile/leader.html"><img src="../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
        

    </td>
  </tr>
</table>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="legend.html" title="LEGEND"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="layer.html" title="LAYER"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >MapServer 8.0.1 Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Mapfile</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">LEADER</a></li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="leader">
<span id="index-0"></span><span id="id1"></span><h1><a class="toc-backref" href="#table-of-contents" role="doc-backlink">LEADER</a><a class="headerlink" href="#leader" title="Link to this heading">¶</a></h1>
<nav class="contents" id="table-of-contents">
<span id="index-1"></span><p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#leader" id="id3">LEADER</a></p>
<ul>
<li><p><a class="reference internal" href="#description" id="id4">Description</a></p></li>
<li><p><a class="reference internal" href="#supported-layer-types" id="id5">Supported Layer Types</a></p></li>
<li><p><a class="reference internal" href="#mapfile-parameters" id="id6">Mapfile Parameters</a></p></li>
<li><p><a class="reference internal" href="#mapfile-snippet" id="id7">Mapfile Snippet</a></p></li>
<li><p><a class="reference internal" href="#example-world-countries-labels" id="id8">Example: World Countries Labels</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="description">
<h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Link to this heading">¶</a></h2>
<p>Since version 6.2, MapServer has the ability to draw label lines to features
where space is an issue for the label (often when the label text is larger
than the polygon being labelled).  This feature was added through <a class="reference internal" href="../development/rfc/ms-rfc-81.html#rfc81"><span class="std std-ref">MS RFC 81: Offset Labels with Leader Lines</span></a>.</p>
</section>
<section id="supported-layer-types">
<h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Supported Layer Types</a><a class="headerlink" href="#supported-layer-types" title="Link to this heading">¶</a></h2>
<p>POINT, LINE, POLYGON</p>
</section>
<section id="mapfile-parameters">
<h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Mapfile Parameters</a><a class="headerlink" href="#mapfile-parameters" title="Link to this heading">¶</a></h2>
<dl class="simple" id="mapfile-leader-gridstep">
<dt>GRIDSTEP [integer]</dt><dd><p>Specifies the number of pixels between positions that are tested for
a label line.  You might start with a value of 5, and increase depending
on performance (see example below). Must be greater than 0.</p>
</dd>
</dl>
<dl class="simple" id="mapfile-leader-maxdistance">
<dt>MAXDISTANCE [integer]</dt><dd><p>Specifies the maximum distance in pixels from the normal label location that
a leader line can be drawn.  You might start with a value of 30, and increase
depending on the resulting placement (see example below). Must be greater than 0.</p>
</dd>
<dt><a class="reference internal" href="style.html#style"><span class="std std-ref">STYLE</span></a></dt><dd><p>Signals the start of a <a class="reference internal" href="style.html#style"><span class="std std-ref">STYLE</span></a> object.  Use this to style the leader
line.</p>
</dd>
</dl>
</section>
<section id="mapfile-snippet">
<h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Mapfile Snippet</a><a class="headerlink" href="#mapfile-snippet" title="Link to this heading">¶</a></h2>
<div class="highlight-mapfile notranslate"><div class="highlight"><pre><span></span><span class="k">LAYER</span>
  <span class="k">NAME</span> <span class="s">&quot;my-labels&quot;</span>
  <span class="k">TYPE</span> <span class="nb">POLYGON</span>
  <span class="p">...</span>
  <span class="k">CLASS</span>
    <span class="p">...</span>
    <span class="k">LABEL</span>
     <span class="p">...</span>
    <span class="k">END</span>
    <span class="k">LEADER</span>
      <span class="k">GRIDSTEP</span> <span class="mi">5</span> <span class="c"># number of pixels between positions that are tested</span>
      <span class="k">MAXDISTANCE</span> <span class="mi">30</span> <span class="c"># distance in pixels that leader text can be drawn</span>
      <span class="k">STYLE</span> <span class="c"># normal line styles are supported</span>
        <span class="k">COLOR</span> <span class="mi">255</span> <span class="mi">0</span> <span class="mi">0</span>
        <span class="k">WIDTH</span> <span class="mi">1</span>
      <span class="k">END</span>
    <span class="k">END</span>
  <span class="k">END</span>
<span class="k">END</span>
</pre></div>
</div>
</section>
<section id="example-world-countries-labels">
<span id="index-2"></span><h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Example: World Countries Labels</a><a class="headerlink" href="#example-world-countries-labels" title="Link to this heading">¶</a></h2>
<p>The following example uses a polygon layer to display country labels.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The data and mapfile for this example are available for download at:
<a class="reference external" href="https://download.osgeo.org/mapserver/tickets/label-leader.zip">https://download.osgeo.org/mapserver/tickets/label-leader.zip</a> (11MB).</p>
</div>
<section id="mapfile-example-1">
<h3>Mapfile Example #1<a class="headerlink" href="#mapfile-example-1" title="Link to this heading">¶</a></h3>
<div class="highlight-mapfile notranslate"><div class="highlight"><pre><span></span><span class="k">MAP</span>

<span class="k">NAME</span> <span class="s">&quot;leader-test&quot;</span>
<span class="k">STATUS</span> <span class="nb">ON</span>
<span class="k">SIZE</span> <span class="mi">800</span> <span class="mi">600</span>
<span class="k">SYMBOLSET</span> <span class="s">&quot;../etc/symbols.txt&quot;</span>
<span class="k">EXTENT</span> <span class="p">-</span><span class="mi">43</span> <span class="mi">10</span> <span class="mi">83</span> <span class="mi">83</span>
<span class="k">UNITS</span> <span class="nb">DD</span>
<span class="k">SHAPEPATH</span> <span class="s">&quot;../data&quot;</span>
<span class="k">IMAGECOLOR</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span>
<span class="k">FONTSET</span> <span class="s">&quot;../etc/fonts.txt&quot;</span>

<span class="k">WEB</span>
  <span class="k">IMAGEPATH</span> <span class="s">&quot;/ms4w/tmp/ms_tmp/&quot;</span>
  <span class="k">IMAGEURL</span> <span class="s">&quot;/ms_tmp/&quot;</span>
<span class="k">END</span>


<span class="c">#</span>
<span class="c"># Start of layer definitions</span>
<span class="c">#</span>

<span class="k">LAYER</span>
  <span class="k">NAME</span> <span class="s">&quot;continents&quot;</span>
  <span class="k">TYPE</span> <span class="nb">POLYGON</span>
  <span class="k">STATUS</span> <span class="nb">ON</span>
  <span class="k">DATA</span> <span class="s">&quot;world_countries-dissolve.shp&quot;</span>
  <span class="k">LABELITEM</span> <span class="s">&quot;NA2DESC&quot;</span>
  <span class="k">CLASS</span>
    <span class="k">NAME</span> <span class="s">&quot;World Countries&quot;</span>
    <span class="k">STYLE</span>
      <span class="k">COLOR</span> <span class="mi">200</span> <span class="mi">200</span> <span class="mi">200</span>
      <span class="k">OUTLINECOLOR</span> <span class="mi">120</span> <span class="mi">120</span> <span class="mi">120</span>
    <span class="k">END</span>
    <span class="k">LABEL</span>
     <span class="k">COLOR</span>  <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>
     <span class="k">FONT</span> <span class="err">sans</span>
     <span class="k">TYPE</span> <span class="nb">truetype</span>
     <span class="k">SIZE</span> <span class="mi">8</span>
     <span class="k">POSITION</span> <span class="nb">AUTO</span>
     <span class="k">PARTIALS</span> <span class="nb">FALSE</span>
     <span class="k">OUTLINECOLOR</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span>
     <span class="k">MINFEATURESIZE</span> <span class="mi">2</span>
     <span class="k">MINDISTANCE</span> <span class="mi">1000</span>
     <span class="k">BUFFER</span> <span class="mi">5</span>
    <span class="k">END</span>
    <span class="c">################################</span>
    <span class="c"># Leader Object</span>
    <span class="c">################################</span>
    <span class="k">LEADER</span>
      <span class="k">GRIDSTEP</span> <span class="mi">40</span>
      <span class="k">MAXDISTANCE</span> <span class="mi">1000</span>
      <span class="k">STYLE</span>
        <span class="k">COLOR</span> <span class="mi">200</span> <span class="mi">100</span> <span class="mi">100</span>
        <span class="k">WIDTH</span> <span class="mi">2</span>
      <span class="k">END</span>
    <span class="k">END</span>
  <span class="k">END</span>
<span class="k">END</span>


<span class="k">END</span> <span class="c"># Map File</span>
</pre></div>
</div>
</section>
<section id="map-image">
<h3>Map Image<a class="headerlink" href="#map-image" title="Link to this heading">¶</a></h3>
<img alt="../_images/leader1.png" src="../_images/leader1.png" />
</section>
<section id="mapfile-example-2">
<h3>Mapfile Example #2<a class="headerlink" href="#mapfile-example-2" title="Link to this heading">¶</a></h3>
<p>This time use a shorter maximum leader line (MAXDISTANCE) and increase the number of tests
(GRIDSTEP).</p>
<div class="highlight-mapfile notranslate"><div class="highlight"><pre><span></span><span class="k">MAP</span>

<span class="k">LAYER</span>
  <span class="p">...</span>
  <span class="k">CLASS</span>
    <span class="p">...</span>
    <span class="k">LABEL</span>
     <span class="p">...</span>
    <span class="k">END</span>
    <span class="c">################################</span>
    <span class="c"># Leader Object</span>
    <span class="c">################################</span>
    <span class="k">LEADER</span>
      <span class="k">GRIDSTEP</span> <span class="mi">10</span>
      <span class="k">MAXDISTANCE</span> <span class="mi">100</span>
      <span class="k">STYLE</span>
        <span class="k">COLOR</span> <span class="mi">200</span> <span class="mi">100</span> <span class="mi">100</span>
        <span class="k">WIDTH</span> <span class="mi">2</span>
      <span class="k">END</span>
    <span class="k">END</span>
  <span class="k">END</span>
<span class="k">END</span>


<span class="k">END</span> <span class="c"># Map File</span>
</pre></div>
</div>
</section>
<section id="id2">
<h3>Map Image<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h3>
<img alt="../_images/leader2.png" src="../_images/leader2.png" />
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p>
<a href="../about.html" title="About">About</a><br>
<a href="../products.html" title="Products">Products</a><br>
<a href="../community/index.html" title="Community">Community</a><br>
<a href="../development/index.html" title="Development">Development</a><br>
<a href="../download.html" title="Downloads">Downloads</a><br>
<a href="../documentation.html" title="Documentation">Documentation</a><br>
<a href="../faq.html" title="FAQ">FAQ</a><br>
<a href="../psc.html" title="PSC">PSC</a><br>
<a href="https://twitter.com/mapserver_osgeo" title="Twitter">Twitter</a>
</p>
  <h3>Current Table Of Contents</h3>
  <ul>
<li><a class="reference internal" href="#">LEADER</a><ul>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#supported-layer-types">Supported Layer Types</a></li>
<li><a class="reference internal" href="#mapfile-parameters">Mapfile Parameters</a></li>
<li><a class="reference internal" href="#mapfile-snippet">Mapfile Snippet</a></li>
<li><a class="reference internal" href="#example-world-countries-labels">Example: World Countries Labels</a><ul>
<li><a class="reference internal" href="#mapfile-example-1">Mapfile Example #1</a></li>
<li><a class="reference internal" href="#map-image">Map Image</a></li>
<li><a class="reference internal" href="#mapfile-example-2">Mapfile Example #2</a></li>
<li><a class="reference internal" href="#id2">Map Image</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="legend.html" title="LEGEND"
             >next</a> |</li>
        <li class="right" >
          <a href="layer.html" title="LAYER"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >MapServer 8.0.1 Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >Mapfile</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">LEADER</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; <a href="../copyright.html">Copyright</a> 2023, Open Source Geospatial Foundation.
      Last updated on 2023-12-22.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.5.
    </div>
  </body>
</html>