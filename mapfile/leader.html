<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>LEADER &mdash; MapServer 7.0.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '7.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/mapserver.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="MapServer 7.0.0 documentation" href="../index.html" />
    <link rel="up" title="Mapfile" href="index.html" />
    <link rel="next" title="LEGEND" href="legend.html" />
    <link rel="prev" title="LAYER" href="layer.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../index.html" title="Home"><img src="../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../index.html" title="Home">Home</a> |
      <a href="../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../faq.html" title="FAQ">FAQ</a> |
      <a href="../download.html" title="Download">Download </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        <img src="../_static/flagicons/en.png" alt="en" title="en" border="0" width="18px" height="13px"/>
        
          <a href="../ar/mapfile/leader.html"><img src="../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
        
        
          <a href="../de/mapfile/leader.html"><img src="../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
        
        
          <a href="../el/mapfile/leader.html"><img src="../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
        
        
          <a href="../es/mapfile/leader.html"><img src="../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
        
        
          <a href="../fr/mapfile/leader.html"><img src="../_static/flagicons/fr.png" alt="fr" title="fr" border="0" /></a>
        
        
          <a href="../id/mapfile/leader.html"><img src="../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
        
        
          <a href="../it/mapfile/leader.html"><img src="../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
        
        
          <a href="../ja/mapfile/leader.html"><img src="../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
        
        
          <a href="../nl_NL/mapfile/leader.html"><img src="../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
        
        
          <a href="../pl/mapfile/leader.html"><img src="../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
        
        
          <a href="../ru/mapfile/leader.html"><img src="../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
        
        
          <a href="../sq/mapfile/leader.html"><img src="../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
        
        
          <a href="../tr/mapfile/leader.html"><img src="../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
        
        
          <a href="../uk/mapfile/leader.html"><img src="../_static/flagicons/uk.png" alt="uk" title="uk" border="0" /></a>
        

    </td>
  </tr>
</table>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="legend.html" title="LEGEND"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="layer.html" title="LAYER"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >MapServer 7.0.0 Documentation</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Mapfile</a> &raquo;</li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="leader">
<span id="index-0"></span><span id="id1"></span><h1><a class="toc-backref" href="#table-of-contents">LEADER</a><a class="headerlink" href="#leader" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="table-of-contents">
<span id="index-1"></span><p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#leader" id="id3">LEADER</a><ul>
<li><a class="reference internal" href="#description" id="id4">Description</a></li>
<li><a class="reference internal" href="#supported-layer-types" id="id5">Supported Layer Types</a></li>
<li><a class="reference internal" href="#mapfile-parameters" id="id6">Mapfile Parameters</a></li>
<li><a class="reference internal" href="#mapfile-snippet" id="id7">Mapfile Snippet</a></li>
<li><a class="reference internal" href="#example-world-countries-labels" id="id8">Example: World Countries Labels</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#table-of-contents">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Since version 6.2, MapServer has the ability to draw label lines to features
where space is an issue for the label (often when the label text is larger
than the polygon being labelled).  This feature was added through <a class="reference internal" href="../development/rfc/ms-rfc-81.html#rfc81"><span>MS RFC 81: Offset Labels with Leader Lines</span></a>.</p>
</div>
<div class="section" id="supported-layer-types">
<h2><a class="toc-backref" href="#table-of-contents">Supported Layer Types</a><a class="headerlink" href="#supported-layer-types" title="Permalink to this headline">¶</a></h2>
<p>POLYGON</p>
</div>
<div class="section" id="mapfile-parameters">
<h2><a class="toc-backref" href="#table-of-contents">Mapfile Parameters</a><a class="headerlink" href="#mapfile-parameters" title="Permalink to this headline">¶</a></h2>
<dl class="docutils" id="index-2">
<dt>GRIDSTEP [integer]</dt>
<dd>Specifies the number of pixels between positions that are tested for
a label line.  You might start with a value of 5, and increase depending
on performance (see example below).</dd>
</dl>
<dl class="docutils" id="index-3">
<dt>MAXDISTANCE [integer]</dt>
<dd>Specifies the maximum distance in pixels from the normal label location that
a leader line can be drawn.  You might start with a value of 30, and increase
depending on the resulting placement (see example below).</dd>
<dt><a class="reference internal" href="style.html#style"><span>STYLE</span></a></dt>
<dd>Signals the start of a <a class="reference internal" href="style.html#style"><span>STYLE</span></a> object.  Use this to style the leader
line.</dd>
</dl>
</div>
<div class="section" id="mapfile-snippet">
<h2><a class="toc-backref" href="#table-of-contents">Mapfile Snippet</a><a class="headerlink" href="#mapfile-snippet" title="Permalink to this headline">¶</a></h2>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">LAYER</span>
  <span class="k">NAME</span> <span class="s">&quot;my-labels&quot;</span>
  <span class="k">TYPE</span> <span class="nb">POLYGON</span>
  <span class="p">...</span>
  <span class="k">CLASS</span>
    <span class="p">...</span>
    <span class="k">LABEL</span>
     <span class="p">...</span>
    <span class="k">END</span>
    <span class="k">LEADER</span>
      <span class="k">GRIDSTEP</span> <span class="mi">5</span> <span class="c"># number of pixels between positions that are tested</span>
      <span class="k">MAXDISTANCE</span> <span class="mi">30</span> <span class="c"># distance in pixels that leader text can be drawn</span>
      <span class="k">STYLE</span> <span class="c"># normal line styles are supported</span>
        <span class="k">COLOR</span> <span class="mi">255</span> <span class="mi">0</span> <span class="mi">0</span>
        <span class="k">WIDTH</span> <span class="mi">1</span>
      <span class="k">END</span>
    <span class="k">END</span>
  <span class="k">END</span>
<span class="k">END</span>
</pre></div>
</div>
</div>
<div class="section" id="example-world-countries-labels">
<span id="index-4"></span><h2><a class="toc-backref" href="#table-of-contents">Example: World Countries Labels</a><a class="headerlink" href="#example-world-countries-labels" title="Permalink to this headline">¶</a></h2>
<p>The following example uses a polygon layer to display country labels.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The data and mapfile for this example are available for download at:
<a class="reference external" href="http://download.osgeo.org/mapserver/tickets/label-leader.zip">http://download.osgeo.org/mapserver/tickets/label-leader.zip</a> (11MB).</p>
</div>
<div class="section" id="mapfile-example-1">
<h3>Mapfile Example #1<a class="headerlink" href="#mapfile-example-1" title="Permalink to this headline">¶</a></h3>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">MAP</span>

<span class="k">NAME</span> <span class="s">&quot;leader-test&quot;</span>
<span class="k">STATUS</span> <span class="nb">ON</span>
<span class="k">SIZE</span> <span class="mi">800</span> <span class="mi">600</span>
<span class="k">SYMBOLSET</span> <span class="s">&quot;../etc/symbols.txt&quot;</span>
<span class="k">EXTENT</span> <span class="p">-</span><span class="mi">43</span> <span class="mi">10</span> <span class="mi">83</span> <span class="mi">83</span>
<span class="k">UNITS</span> <span class="nb">DD</span>
<span class="k">SHAPEPATH</span> <span class="s">&quot;../data&quot;</span>
<span class="k">IMAGECOLOR</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span>
<span class="k">FONTSET</span> <span class="s">&quot;../etc/fonts.txt&quot;</span>

<span class="k">WEB</span>
  <span class="k">IMAGEPATH</span> <span class="s">&quot;/ms4w/tmp/ms_tmp/&quot;</span>
  <span class="k">IMAGEURL</span> <span class="s">&quot;/ms_tmp/&quot;</span>
<span class="k">END</span>


<span class="c">#</span>
<span class="c"># Start of layer definitions</span>
<span class="c">#</span>

<span class="k">LAYER</span>
  <span class="k">NAME</span> <span class="s">&quot;continents&quot;</span>
  <span class="k">TYPE</span> <span class="nb">POLYGON</span>
  <span class="k">STATUS</span> <span class="nb">ON</span>
  <span class="k">DATA</span> <span class="s">&quot;world_countries-dissolve&quot;</span>
  <span class="k">LABELITEM</span> <span class="s">&quot;NA2DESC&quot;</span>
  <span class="k">CLASS</span>
    <span class="k">NAME</span> <span class="s">&quot;World Countries&quot;</span>
    <span class="k">STYLE</span>
      <span class="k">COLOR</span> <span class="mi">200</span> <span class="mi">200</span> <span class="mi">200</span>
      <span class="k">OUTLINECOLOR</span> <span class="mi">120</span> <span class="mi">120</span> <span class="mi">120</span>
    <span class="k">END</span>
    <span class="k">LABEL</span>
     <span class="k">COLOR</span>  <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>
     <span class="k">FONT</span> <span class="err">sans</span>
     <span class="k">TYPE</span> <span class="nb">truetype</span>
     <span class="k">SIZE</span> <span class="mi">8</span>
     <span class="k">POSITION</span> <span class="nb">AUTO</span>
     <span class="k">PARTIALS</span> <span class="nb">FALSE</span>
     <span class="k">OUTLINECOLOR</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span>
     <span class="k">MINFEATURESIZE</span> <span class="mi">2</span>
     <span class="k">MINDISTANCE</span> <span class="mi">1000</span>
     <span class="k">BUFFER</span> <span class="mi">5</span>
    <span class="k">END</span>
    <span class="c">################################</span>
    <span class="c"># Leader Object</span>
    <span class="c">################################</span>
    <span class="k">LEADER</span>
      <span class="k">GRIDSTEP</span> <span class="mi">40</span>
      <span class="k">MAXDISTANCE</span> <span class="mi">1000</span>
      <span class="k">STYLE</span>
        <span class="k">COLOR</span> <span class="mi">200</span> <span class="mi">100</span> <span class="mi">100</span>
        <span class="k">WIDTH</span> <span class="mi">2</span>
      <span class="k">END</span>
    <span class="k">END</span>
  <span class="k">END</span>
<span class="k">END</span>


<span class="k">END</span> <span class="c"># Map File</span>
</pre></div>
</div>
</div>
<div class="section" id="map-image">
<h3>Map Image<a class="headerlink" href="#map-image" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/leader1.png" src="../_images/leader1.png" />
</div>
<div class="section" id="mapfile-example-2">
<h3>Mapfile Example #2<a class="headerlink" href="#mapfile-example-2" title="Permalink to this headline">¶</a></h3>
<p>This time use a shorter maximum leader line (MAXDISTANCE) and increase the number of tests
(GRIDSTEP).</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">MAP</span>

<span class="k">LAYER</span>
  <span class="p">...</span>
  <span class="k">CLASS</span>
    <span class="p">...</span>
    <span class="k">LABEL</span>
     <span class="p">...</span>
    <span class="k">END</span>
    <span class="c">################################</span>
    <span class="c"># Leader Object</span>
    <span class="c">################################</span>
    <span class="k">LEADER</span>
      <span class="k">GRIDSTEP</span> <span class="mi">10</span>
      <span class="k">MAXDISTANCE</span> <span class="mi">100</span>
      <span class="k">STYLE</span>
        <span class="k">COLOR</span> <span class="mi">200</span> <span class="mi">100</span> <span class="mi">100</span>
        <span class="k">WIDTH</span> <span class="mi">2</span>
      <span class="k">END</span>
    <span class="k">END</span>
  <span class="k">END</span>
<span class="k">END</span>


<span class="k">END</span> <span class="c"># Map File</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h3>Map Image<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/leader2.png" src="../_images/leader2.png" />
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Navigation</h3>
<p>
<a href="../about.html" title="About">About</a><br>
<a href="../products.html" title="Products">Products</a><br>
<a href="../community/index.html" title="Community">Community</a><br>
<a href="../development/index.html" title="Development">Development</a><br>
<a href="../download.html" title="Downloads">Downloads</a><br>
<a href="../documentation.html" title="Documentation">Documentation</a><br>
<a href="../faq.html" title="FAQ">FAQ</a>
</p>
  <h3>Current Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">LEADER</a><ul>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#supported-layer-types">Supported Layer Types</a></li>
<li><a class="reference internal" href="#mapfile-parameters">Mapfile Parameters</a></li>
<li><a class="reference internal" href="#mapfile-snippet">Mapfile Snippet</a></li>
<li><a class="reference internal" href="#example-world-countries-labels">Example: World Countries Labels</a><ul>
<li><a class="reference internal" href="#mapfile-example-1">Mapfile Example #1</a></li>
<li><a class="reference internal" href="#map-image">Map Image</a></li>
<li><a class="reference internal" href="#mapfile-example-2">Mapfile Example #2</a></li>
<li><a class="reference internal" href="#id2">Map Image</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Open Source Geospatial Foundation.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.4</a>
      
    </div>

    

    
  </body>
</html>