<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>CLUSTER &#8212; MapServer 8.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx.css?v=6c7b17ac" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=dd298242" />
    <link rel="stylesheet" type="text/css" href="../_static/ribbon.css?v=ea091bf4" />
    
    <script src="../_static/documentation_options.js?v=521b6f53"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="icon" href="../_static/mapserver.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="COMPOSITE" href="composite.html" />
    <link rel="prev" title="CLASS" href="class.html" /> 
  </head><body>


<!-- for main branch only, do not backport this -->

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../index.html" title="Home"><img src="../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../index.html" title="Home">Home</a> |
      <a href="../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../community/service_providers.html" title="Professional Service Providers">Service Providers</a> |      
      <a href="../faq.html" title="Frequently Asked Questions">FAQ</a> |
      <a href="https://twitter.com/mapserver_osgeo" title="Twitter" target="_blank">Twitter</a> |
      <a href="../download.html" title="Download Source or Binaries">Download </a> |
      <a class="badge" href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=KRJ2X44N3HA6U&source=url" target="_blank">
        <img src="https://img.shields.io/badge/donate-%E2%9D%A4%C2%A0-ff69b4.svg?style=flat" alt="Donate to MapServer">
      </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        <img src="../_static/flagicons/en.png" alt="en" title="en" border="0" width="18px" height="13px"/>
        
          <a href="../ar/mapfile/cluster.html"><img src="../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
        
        
          <a href="../de/mapfile/cluster.html"><img src="../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
        
        
          <a href="../el/mapfile/cluster.html"><img src="../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
        
        
          <a href="../es/mapfile/cluster.html"><img src="../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
        
        
          <a href="../fr/mapfile/cluster.html"><img src="../_static/flagicons/fr.png" alt="fr" title="fr" border="0" /></a>
        
        
          <a href="../id/mapfile/cluster.html"><img src="../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
        
        
          <a href="../it/mapfile/cluster.html"><img src="../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
        
        
          <a href="../ja/mapfile/cluster.html"><img src="../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
        
        
          <a href="../nl_NL/mapfile/cluster.html"><img src="../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
        
        
          <a href="../pl/mapfile/cluster.html"><img src="../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
        
        
          <a href="../ru/mapfile/cluster.html"><img src="../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
        
        
          <a href="../sq/mapfile/cluster.html"><img src="../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
        
        
          <a href="../tr/mapfile/cluster.html"><img src="../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
        

    </td>
  </tr>
</table>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="composite.html" title="COMPOSITE"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="class.html" title="CLASS"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >MapServer 8.0.1 Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Mapfile</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">CLUSTER</a></li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="cluster">
<span id="index-0"></span><span id="id1"></span><h1><a class="toc-backref" href="#table-of-contents" role="doc-backlink">CLUSTER</a><a class="headerlink" href="#cluster" title="Link to this heading">¶</a></h1>
<nav class="contents" id="table-of-contents">
<span id="index-1"></span><p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#cluster" id="id3">CLUSTER</a></p>
<ul>
<li><p><a class="reference internal" href="#description" id="id4">Description</a></p></li>
<li><p><a class="reference internal" href="#supported-layer-types" id="id5">Supported Layer Types</a></p></li>
<li><p><a class="reference internal" href="#mapfile-parameters" id="id6">Mapfile Parameters</a></p></li>
<li><p><a class="reference internal" href="#supported-processing-options" id="id7">Supported Processing Options</a></p></li>
<li><p><a class="reference internal" href="#mapfile-snippet" id="id8">Mapfile Snippet</a></p></li>
<li><p><a class="reference internal" href="#feature-attributes" id="id9">Feature attributes</a></p></li>
<li><p><a class="reference internal" href="#handling-getfeatureinfo" id="id10">Handling GetFeatureInfo</a></p></li>
<li><p><a class="reference internal" href="#php-mapscript-usage" id="id11">PHP MapScript Usage</a></p></li>
<li><p><a class="reference internal" href="#example-clustering-railway-stations" id="id12">Example: Clustering Railway Stations</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="description">
<h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Description</a><a class="headerlink" href="#description" title="Link to this heading">¶</a></h2>
<p>Since version 6.0, MapServer has the ability to combine multiple
features from a point layer into single (aggregated) features based on
their relative positions.
Only <em>POINT</em> layers are supported.
This feature was added through <a class="reference internal" href="../development/rfc/ms-rfc-69.html#rfc69"><span class="std std-ref">MS RFC 69: Support for clustering of features in point layers</span></a>.</p>
</section>
<section id="supported-layer-types">
<h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Supported Layer Types</a><a class="headerlink" href="#supported-layer-types" title="Link to this heading">¶</a></h2>
<p>Only layers of <cite>TYPE POINT</cite> are supported.</p>
</section>
<section id="mapfile-parameters">
<h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Mapfile Parameters</a><a class="headerlink" href="#mapfile-parameters" title="Link to this heading">¶</a></h2>
<dl class="simple" id="mapfile-cluster-maxdistance">
<dt>MAXDISTANCE [double]</dt><dd><p>Specifies the distance of the search region (rectangle or ellipse)
in pixel positions. Must be greater than 0.</p>
</dd>
</dl>
<dl class="simple" id="mapfile-cluster-region">
<dt>REGION [string]</dt><dd><p>Defines the search region around a feature in which the
neighbouring features are negotiated.
Can be ‘rectangle’ or ‘ellipse’.</p>
</dd>
</dl>
<dl class="simple" id="mapfile-cluster-buffer">
<dt>BUFFER [double]</dt><dd><p>Defines a buffer region around the map extent in pixels. Default is 0.
Using a buffer allows that the neighbouring shapes around the map
are also considered during the cluster creation.</p>
</dd>
</dl>
<dl class="simple" id="mapfile-cluster-group">
<dt><a class="reference internal" href="expressions.html#expressions"><span class="std std-ref">GROUP</span></a> [string]</dt><dd><p>This expression evaluates to a string and only the features that
have the same group value are negotiated. This parameter can be
omitted. The evaluated group value is available in the
‘Cluster_Group’ feature attribute.</p>
</dd>
</dl>
<dl class="simple" id="mapfile-cluster-filter">
<dt><a class="reference internal" href="expressions.html#expressions"><span class="std std-ref">FILTER</span></a> [string]</dt><dd><p>We can define the FILTER expression filter some of the features
from the final output.  This expression evaluates to a boolean
value and if this value is false the corresponding shape is
filtered out.  This expression is evaluated after the the feature
negotiation is completed, therefore the ‘Cluster_FeatureCount’
parameter can also be used, which provides the option to filter
the shapes having too many or to few neighbors within the search
region.</p>
</dd>
</dl>
</section>
<section id="supported-processing-options">
<h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Supported Processing Options</a><a class="headerlink" href="#supported-processing-options" title="Link to this heading">¶</a></h2>
<p>The following processing options can be used with the cluster layers:</p>
<dl class="simple" id="index-2">
<dt>CLUSTER_GET_ALL_SHAPES=ON</dt><dd><p>Return all shapes contained by a cluster instead of a single shape.
This setting affects both the drawing and the query processing (especially
useful for GetFeatureInfo requests).  Example
usage: <cite>PROCESSING “CLUSTER_GET_ALL_SHAPES=ON”</cite></p>
</dd>
</dl>
<dl class="simple" id="index-3">
<dt>CLUSTER_KEEP_LOCATIONS=ON</dt><dd><p>Set whether the location of the cluster shape should be preserved (setting
this will show all points in the cluster). Example
usage: <cite>PROCESSING “CLUSTER_KEEP_LOCATIONS=ON”</cite></p>
</dd>
<dt>CLUSTER_ALGORITHM=SIMPLE</dt><dd><p>From MapServer 6.2 we can choose a more simplified clustering algorithm
which performs better that the original (more accurate) approach.
usage: <cite>PROCESSING “CLUSTER_ALGORITHM=SIMPLE”</cite>
For more information see:</p>
</dd>
</dl>
<p>Bug <a class="reference external" href="https://github.com/MapServer/MapServer/issues/5503">5503</a></p>
<dl class="simple" id="index-4">
<dt>CLUSTER_USE_MAP_UNITS=ON</dt><dd><p>Provide scale independent clustering (maxdistance and the buffer parameters are
specified in map units). Example usage: <cite>PROCESSING “CLUSTER_USE_MAP_UNITS=ON”</cite></p>
</dd>
</dl>
<dl class="simple" id="index-5">
<dt>ITEMS</dt><dd><p>Specify the feature attributes in the cluster to expose during a query, separated
by a comma. Example usage: <cite>PROCESSING “ITEMS=attribute_x,attribute_y,attribute_z”</cite></p>
</dd>
</dl>
</section>
<section id="mapfile-snippet">
<h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Mapfile Snippet</a><a class="headerlink" href="#mapfile-snippet" title="Link to this heading">¶</a></h2>
<div class="highlight-mapfile notranslate"><div class="highlight"><pre><span></span><span class="k">LAYER</span>
  <span class="k">NAME</span> <span class="s">&quot;my-cluster&quot;</span>
  <span class="k">TYPE</span> <span class="nb">POINT</span>
  <span class="p">...</span>
  <span class="k">CLUSTER</span>
     <span class="k">MAXDISTANCE</span> <span class="mi">20</span>  <span class="c"># in pixels</span>
     <span class="k">REGION</span> <span class="s">&quot;ellipse&quot;</span>  <span class="c"># can be rectangle or ellipse</span>
     <span class="k">GROUP</span> <span class="p">(</span><span class="k">expression</span><span class="p">)</span>  <span class="c"># an expression to create separate groups for each value</span>
     <span class="k">FILTER</span> <span class="p">(</span><span class="k">expression</span><span class="p">)</span> <span class="c"># a logical expression to specify the grouping condition</span>
  <span class="k">END</span>
  <span class="k">LABELITEM</span> <span class="s">&quot;Cluster_FeatureCount&quot;</span>
  <span class="k">CLASS</span>
    <span class="p">...</span>
    <span class="k">LABEL</span>
     <span class="p">...</span>
    <span class="k">END</span>
  <span class="k">END</span>
  <span class="p">...</span>
<span class="k">END</span>
</pre></div>
</div>
</section>
<section id="feature-attributes">
<span id="index-6"></span><h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Feature attributes</a><a class="headerlink" href="#feature-attributes" title="Link to this heading">¶</a></h2>
<p>The clustered layer itself provides the following aggregated attributes:</p>
<span id="index-7"></span><ol class="arabic simple" id="index-8">
<li><p>Cluster_FeatureCount - count of the features in the clustered shape</p></li>
<li><p>Cluster_Group - The group value of the cluster (to which the group
expression is evaluated)</p></li>
</ol>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are using MapServer version 6.x these attributes contain a “:”
in their names instead, such as <cite>Cluster:FeatureCount</cite> &amp; <cite>Cluster:Group</cite>.
The “_” was changed in MapServer 7.</p>
</div>
</div></blockquote>
<p>These attributes (in addition to the attributes provided by the
original data source) can be used to configure the labels of the
features and can also be used in expressions.  The ITEMS processing
option can be used to specify a subset of the attributes from the
original layer in the query operations according to the user’s
preference.</p>
<p id="index-9">We can use simple aggregate functions (Min, Max, Sum, Count) to
specify how the clustered attribute should be calculated from the
original attributes. The aggregate function should be specified as a
prefix separated by ‘:’ in the attribute definition, like:
[Max:itemname]. If we don’t specify aggregate functions for the source
layer attributes, then the actual value of the cluster attribute will
be non-deterministic if the cluster contains multiple shapes with
different values. The Count aggregate function in fact provides the
same value as Cluster_FeatureCount.</p>
</section>
<section id="handling-getfeatureinfo">
<h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Handling GetFeatureInfo</a><a class="headerlink" href="#handling-getfeatureinfo" title="Link to this heading">¶</a></h2>
<p>If you want to allow WMS GetFeatureInfo on all features inside a cluster,
you must 1) set the “wms_include_items” metadata as usual, and 2) set the following
PROCESSING parameters in the layer:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROCESSING</span> <span class="s2">&quot;CLUSTER_GET_ALL_SHAPES=ON&quot;</span>
<span class="n">PROCESSING</span> <span class="s2">&quot;ITEMS=attribute_x,attribute_y,attribute_z&quot;</span>
</pre></div>
</div>
<p>So your layer might look like the following:</p>
<div class="highlight-mapfile notranslate"><div class="highlight"><pre><span></span><span class="k">LAYER</span>
  <span class="k">NAME</span> <span class="s">&quot;my-cluster&quot;</span>
  <span class="k">TYPE</span> <span class="nb">POINT</span>
  <span class="k">METADATA</span>
    <span class="s">&quot;wms_title&quot;</span>    <span class="s">&quot;myttitle&quot;</span>
    <span class="s">&quot;wms_include_items&quot;</span> <span class="s">&quot;all&quot;</span>
  <span class="k">END</span>
  <span class="p">...</span>
  <span class="k">CLUSTER</span>
     <span class="p">...</span>
  <span class="k">END</span>
  <span class="k">LABELITEM</span> <span class="s">&quot;Cluster_FeatureCount&quot;</span>
  <span class="k">CLASS</span>
    <span class="p">...</span>
    <span class="k">LABEL</span>
     <span class="p">...</span>
    <span class="k">END</span>
  <span class="k">END</span>
  <span class="p">...</span>
  <span class="k">PROCESSING</span> <span class="s">&quot;CLUSTER_GET_ALL_SHAPES=ON&quot;</span>
  <span class="k">PROCESSING</span> <span class="s">&quot;ITEMS=name,description&quot;</span>
<span class="k">END</span>
</pre></div>
</div>
</section>
<section id="php-mapscript-usage">
<h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">PHP MapScript Usage</a><a class="headerlink" href="#php-mapscript-usage" title="Link to this heading">¶</a></h2>
<p>The <a class="reference internal" href="../mapscript/php/phpmapscript.html#phpclusterobj"><span class="std std-ref">CLUSTER object</span></a> is exposed through PHP
MapScript.  An example follows:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="x">$map = ms_newMapobj(&quot;/var/www/vhosts/mysite/httpdocs/test.map&quot;);</span>
<span class="x">$layer1=$map-&gt;getLayerByName(&quot;test1&quot;);</span>
<span class="x">$layer1-&gt;cluster;</span>
</pre></div>
</div>
</section>
<section id="example-clustering-railway-stations">
<h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Example: Clustering Railway Stations</a><a class="headerlink" href="#example-clustering-railway-stations" title="Link to this heading">¶</a></h2>
<p>The following example uses a point datasource, in this case in KML
format, to display clusters of railway stations.  Two classes are
used: one to style and label the cluster, and one to style and label
the single railway station.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Since we can’t declare 2 labelitems, for the single railway class
we use the <em>TEXT</em> parameter to label the station.</p>
</div>
<section id="mapfile-layer">
<h3>Mapfile Layer<a class="headerlink" href="#mapfile-layer" title="Link to this heading">¶</a></h3>
<div class="highlight-mapfile notranslate"><div class="highlight"><pre><span></span><span class="c">####################</span>
<span class="c"># Lightrail Stations</span>
<span class="c">####################</span>
<span class="k">SYMBOL</span>
  <span class="k">NAME</span> <span class="s">&quot;lightrail&quot;</span>
  <span class="k">TYPE</span> <span class="nb">PIXMAP</span>
  <span class="k">IMAGE</span> <span class="s">&quot;../etc/lightrail.png&quot;</span>
<span class="k">END</span>
<span class="k">LAYER</span>
    <span class="k">NAME</span> <span class="s">&quot;lightrail&quot;</span>
    <span class="k">GROUP</span> <span class="s">&quot;default&quot;</span>
    <span class="k">STATUS</span> <span class="nb">DEFAULT</span>
    <span class="k">TYPE</span> <span class="nb">POINT</span>
    <span class="k">CONNECTIONTYPE</span> <span class="nb">OGR</span>
    <span class="k">CONNECTION</span> <span class="s">&quot;lightrail-stations.kml&quot;</span>
    <span class="k">DATA</span> <span class="s">&quot;lightrail-stations&quot;</span>
    <span class="k">LABELITEM</span> <span class="s">&quot;Cluster_FeatureCount&quot;</span>
    <span class="k">CLASSITEM</span> <span class="s">&quot;Cluster_FeatureCount&quot;</span>
    <span class="c">###########################</span>
    <span class="c"># Define the cluster object</span>
    <span class="c">###########################</span>
    <span class="k">CLUSTER</span>
      <span class="k">MAXDISTANCE</span> <span class="mi">50</span>
      <span class="k">REGION</span> <span class="s">&quot;ellipse&quot;</span>
    <span class="k">END</span>
    <span class="c">################################</span>
    <span class="c"># Class1: For the cluster symbol</span>
    <span class="c">################################</span>
    <span class="k">CLASS</span>
      <span class="k">NAME</span> <span class="s">&quot;Clustered Lightrail Stations&quot;</span>
      <span class="k">EXPRESSION</span> <span class="p">(</span><span class="s">&quot;[Cluster_FeatureCount]&quot;</span> <span class="o">!=</span> <span class="s">&quot;1&quot;</span><span class="p">)</span>
      <span class="k">STYLE</span>
        <span class="k">SIZE</span> <span class="mi">30</span>
        <span class="k">SYMBOL</span> <span class="s">&quot;citycircle&quot;</span>
        <span class="k">COLOR</span> <span class="mi">255</span> <span class="mi">0</span> <span class="mi">0</span>
      <span class="k">END</span>
      <span class="k">LABEL</span>
        <span class="k">FONT</span> <span class="err">scb</span>
        <span class="k">TYPE</span> <span class="nb">TRUETYPE</span>
        <span class="k">SIZE</span> <span class="mi">8</span>
        <span class="k">COLOR</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span>
        <span class="k">ALIGN</span> <span class="nb">CENTER</span>
        <span class="k">PRIORITY</span> <span class="mi">10</span>
        <span class="k">BUFFER</span> <span class="mi">1</span>
        <span class="k">PARTIALS</span> <span class="nb">TRUE</span>
        <span class="k">POSITION</span> <span class="nb">cc</span>
      <span class="k">END</span>
    <span class="k">END</span>
    <span class="c">################################</span>
    <span class="c"># Class2: For the single station</span>
    <span class="c">################################</span>
    <span class="k">CLASS</span>
      <span class="k">NAME</span> <span class="s">&quot;Lightrail Stations&quot;</span>
      <span class="k">EXPRESSION</span> <span class="s">&quot;1&quot;</span>
      <span class="k">STYLE</span>
        <span class="k">SIZE</span> <span class="mi">30</span>
        <span class="k">SYMBOL</span> <span class="s">&quot;lightrail&quot;</span>
      <span class="k">END</span>
      <span class="k">TEXT</span> <span class="s">&quot;[Name]&quot;</span>
      <span class="k">LABEL</span>
        <span class="k">FONT</span> <span class="err">scb</span>
        <span class="k">TYPE</span> <span class="nb">TRUETYPE</span>
        <span class="k">SIZE</span> <span class="mi">8</span>
        <span class="k">COLOR</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>
        <span class="k">OUTLINECOLOR</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span>
        <span class="k">ALIGN</span> <span class="nb">CENTER</span>
        <span class="k">PRIORITY</span> <span class="mi">9</span>
        <span class="k">BUFFER</span> <span class="mi">1</span>
        <span class="k">PARTIALS</span> <span class="nb">FALSE</span>
        <span class="k">POSITION</span> <span class="nb">ur</span>
      <span class="k">END</span>
    <span class="k">END</span>
    <span class="c"># the following is used for a query</span>
    <span class="k">TOLERANCE</span> <span class="mi">50</span>
    <span class="k">UNITS</span> <span class="nb">PIXELS</span>
    <span class="k">HEADER</span> <span class="s">&quot;../htdocs/templates/cluster_header.html&quot;</span>
    <span class="k">FOOTER</span> <span class="s">&quot;../htdocs/templates/cluster_footer.html&quot;</span>
    <span class="k">TEMPLATE</span> <span class="s">&quot;../htdocs/templates/cluster_query.html&quot;</span>
<span class="k">END</span>
</pre></div>
</div>
</section>
<section id="map-image">
<h3>Map Image<a class="headerlink" href="#map-image" title="Link to this heading">¶</a></h3>
<img alt="../_images/cluster.png" src="../_images/cluster.png" />
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p>
<a href="../about.html" title="About">About</a><br>
<a href="../products.html" title="Products">Products</a><br>
<a href="../community/index.html" title="Community">Community</a><br>
<a href="../development/index.html" title="Development">Development</a><br>
<a href="../download.html" title="Downloads">Downloads</a><br>
<a href="../documentation.html" title="Documentation">Documentation</a><br>
<a href="../faq.html" title="FAQ">FAQ</a><br>
<a href="../psc.html" title="PSC">PSC</a><br>
<a href="https://twitter.com/mapserver_osgeo" title="Twitter">Twitter</a>
</p>
  <h3>Current Table Of Contents</h3>
  <ul>
<li><a class="reference internal" href="#">CLUSTER</a><ul>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#supported-layer-types">Supported Layer Types</a></li>
<li><a class="reference internal" href="#mapfile-parameters">Mapfile Parameters</a></li>
<li><a class="reference internal" href="#supported-processing-options">Supported Processing Options</a></li>
<li><a class="reference internal" href="#mapfile-snippet">Mapfile Snippet</a></li>
<li><a class="reference internal" href="#feature-attributes">Feature attributes</a></li>
<li><a class="reference internal" href="#handling-getfeatureinfo">Handling GetFeatureInfo</a></li>
<li><a class="reference internal" href="#php-mapscript-usage">PHP MapScript Usage</a></li>
<li><a class="reference internal" href="#example-clustering-railway-stations">Example: Clustering Railway Stations</a><ul>
<li><a class="reference internal" href="#mapfile-layer">Mapfile Layer</a></li>
<li><a class="reference internal" href="#map-image">Map Image</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="composite.html" title="COMPOSITE"
             >next</a> |</li>
        <li class="right" >
          <a href="class.html" title="CLASS"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >MapServer 8.0.1 Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >Mapfile</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">CLUSTER</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; <a href="../copyright.html">Copyright</a> 2023, Open Source Geospatial Foundation.
      Last updated on 2023-12-22.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.5.
    </div>
  </body>
</html>