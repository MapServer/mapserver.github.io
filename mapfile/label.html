<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>LABEL &#8212; MapServer 8.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx.css?v=6c7b17ac" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=dd298242" />
    <link rel="stylesheet" type="text/css" href="../_static/ribbon.css?v=ea091bf4" />
    
    <script src="../_static/documentation_options.js?v=521b6f53"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="icon" href="../_static/mapserver.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="LAYER" href="layer.html" />
    <link rel="prev" title="JOIN" href="join.html" /> 
  </head><body>


<!-- for main branch only, do not backport this -->

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../index.html" title="Home"><img src="../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../index.html" title="Home">Home</a> |
      <a href="../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../community/service_providers.html" title="Professional Service Providers">Service Providers</a> |      
      <a href="../faq.html" title="Frequently Asked Questions">FAQ</a> |
      <a href="https://twitter.com/mapserver_osgeo" title="Twitter" target="_blank">Twitter</a> |
      <a href="../download.html" title="Download Source or Binaries">Download </a> |
      <a class="badge" href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=KRJ2X44N3HA6U&source=url" target="_blank">
        <img src="https://img.shields.io/badge/donate-%E2%9D%A4%C2%A0-ff69b4.svg?style=flat" alt="Donate to MapServer">
      </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        <img src="../_static/flagicons/en.png" alt="en" title="en" border="0" width="18px" height="13px"/>
        
          <a href="../ar/mapfile/label.html"><img src="../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
        
        
          <a href="../de/mapfile/label.html"><img src="../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
        
        
          <a href="../el/mapfile/label.html"><img src="../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
        
        
          <a href="../es/mapfile/label.html"><img src="../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
        
        
          <a href="../fr/mapfile/label.html"><img src="../_static/flagicons/fr.png" alt="fr" title="fr" border="0" /></a>
        
        
          <a href="../id/mapfile/label.html"><img src="../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
        
        
          <a href="../it/mapfile/label.html"><img src="../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
        
        
          <a href="../ja/mapfile/label.html"><img src="../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
        
        
          <a href="../nl_NL/mapfile/label.html"><img src="../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
        
        
          <a href="../pl/mapfile/label.html"><img src="../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
        
        
          <a href="../ru/mapfile/label.html"><img src="../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
        
        
          <a href="../sq/mapfile/label.html"><img src="../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
        
        
          <a href="../tr/mapfile/label.html"><img src="../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
        

    </td>
  </tr>
</table>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="layer.html" title="LAYER"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="join.html" title="JOIN"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >MapServer 8.0.1 Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Mapfile</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">LABEL</a></li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="label">
<span id="index-0"></span><span id="id1"></span><h1>LABEL<a class="headerlink" href="#label" title="Link to this heading">¶</a></h1>
<dl id="mapfile-label-align">
<dt>ALIGN [left|center|right|attribute]</dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 5.4.</span></p>
</div>
<p>Specifies text alignment for multiline labels (see <a class="reference internal" href="#wrap">WRAP</a>) Note
that the alignment algorithm is far from precise, so don’t expect
fabulous results (especially for <em>right</em> alignment) if you’re not
using a fixed width font.</p>
<p>[attribute] was added in version 7.6. If an attribute is used,
it is expected to be:</p>
<ul class="simple">
<li><p>of type <em>string</em> and should be one of the following: <em>left</em>, <em>center</em>, <em>right</em>.</p></li>
<li><p>of type <em>integer</em> and should be [1,2,3] which means:</p>
<ul>
<li><p>1 = “left”</p></li>
<li><p>2 = “center”</p></li>
<li><p>3 = “right”</p></li>
</ul>
</li>
</ul>
<p>if the [attribute] is of type <em>integer</em> as described above, the label
generation will be much faster, since string comparison is avoided.</p>
</dd>
</dl>
<dl id="mapfile-label-angle">
<dt>ANGLE [double|auto|auto2|follow|attribute]</dt><dd><ul>
<li><p>Angle, counterclockwise, given in degrees, to draw the label.
Default is 0, and must be in the range -360 to 360.</p></li>
<li><p>AUTO allows MapServer to compute the angle. Valid for LINE
layers only.</p></li>
<li><p>AUTO2 same as AUTO, except no logic is applied to try to keep
the text from being rendered in reading orientation (i.e. the
text may be rendered upside down). Useful when adding text
arrows indicating the line direction.</p></li>
<li><p>FOLLOW was introduced in version 4.10 and tells MapServer to
compute a curved label for appropriate linear features (see
<a class="reference internal" href="../development/rfc/ms-rfc-11.html#rfc11"><span class="std std-ref">MS RFC 11: Support for Curved Labels</span></a> for specifics).  See also <cite>MAXOVERLAPANGLE</cite>.</p></li>
<li><p>[<em>Attribute</em>] was introduced in version 5.0, to specify the item
name in the attribute table to use for angle values.  The hard
brackets [] are required.  For example, if your shapefile’s DBF
has a field named “MYANGLE” that holds angle values for each
record, your LABEL object might contain:</p>
<div class="highlight-mapfile notranslate"><div class="highlight"><pre><span></span><span class="k">LABEL</span>
  <span class="k">COLOR</span>  <span class="mi">150</span> <span class="mi">150</span> <span class="mi">150</span>
  <span class="k">OUTLINECOLOR</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span>
  <span class="k">FONT</span> <span class="s">&quot;sans&quot;</span>
  <span class="k">TYPE</span> <span class="nb">truetype</span>
  <span class="k">SIZE</span> <span class="mi">6</span>
  <span class="k">ANGLE</span> <span class="nx">[MYANGLE]</span>
  <span class="k">POSITION</span> <span class="nb">AUTO</span>
  <span class="k">PARTIALS</span> <span class="nb">FALSE</span>
<span class="k">END</span>
</pre></div>
</div>
<p>The associated RFC document for this feature is <a class="reference internal" href="../development/rfc/ms-rfc-19.html#rfc19"><span class="std std-ref">MS RFC 19: Style &amp; Label attribute binding</span></a>.</p>
</li>
</ul>
</dd>
</dl>
<p id="mapfile-label-antialias">ANTIALIAS [true|false]</p>
<blockquote>
<div><div class="versionremoved">
<p><span class="versionmodified removed">Removed in version 7.0: </span>GD support was removed in 7.0</p>
</div>
<p>Should text be antialiased? Note that this requires more available
colors, decreases drawing performance, and results in slightly
larger output images.  Only useful for GD (gif) rendering.
Default is false.  Has no effect for the other renderers (where
anti-aliasing can not be turned off).</p>
</div></blockquote>
<dl>
<dt>BACKGROUNDCOLOR [r] [g] [b] | [hexadecimal string]</dt><dd><div class="versionremoved">
<p><span class="versionmodified removed">Removed in version 6.0: </span>Use a <a class="reference internal" href="#label-style">LABEL STYLE</a> object with`GEOMTRANSFORM labelpoly` and <cite>COLOR</cite>
instead.</p>
</div>
<p>Color to draw a background rectangle (i.e. billboard). Off by default.</p>
</dd>
<dt>BACKGROUNDSHADOWCOLOR [r] [g] [b] | [hexadecimal string]</dt><dd><div class="versionremoved">
<p><span class="versionmodified removed">Removed in version 6.0: </span>Use a <a class="reference internal" href="#label-style">LABEL STYLE</a> object with <cite>GEOMTRANSFORM labelpoly</cite>,
<cite>COLOR</cite> and <cite>OFFSET</cite> instead.</p>
</div>
<p>Color to draw a background rectangle (i.e. billboard) shadow. Off by
default.</p>
</dd>
<dt>BACKGROUNDSHADOWSIZE [x][y]</dt><dd><div class="versionremoved">
<p><span class="versionmodified removed">Removed in version 6.0: </span>Use a <a class="reference internal" href="#label-style">LABEL STYLE</a> object with <cite>GEOMTRANSFORM labelpoly</cite>,
<cite>COLOR</cite> and <cite>OFFSET</cite> instead.</p>
</div>
<p>How far should the background rectangle be offset? Default is 1.</p>
</dd>
</dl>
<dl class="simple" id="mapfile-label-buffer">
<dt>BUFFER [integer]</dt><dd><p>Padding, in pixels, around labels. Useful for maintaining spacing around
text to enhance readability. Available only for cached labels.
Default is 0.</p>
</dd>
</dl>
<dl id="mapfile-label-color">
<dt>COLOR [r] [g] [b] | [hexadecimal string] | [attribute]</dt><dd><ul>
<li><p>Color to draw text with.</p></li>
<li><p><cite>r</cite>, <cite>g</cite> and <cite>b</cite> shall be integers [0..255].  To specify green,
the following is used:</p>
<blockquote>
<div><div class="highlight-mapfile notranslate"><div class="highlight"><pre><span></span><span class="k">COLOR</span> <span class="mi">0</span> <span class="mi">255</span> <span class="mi">0</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p><cite>hexadecimal string</cite> can be</p>
<ul>
<li><p>RGB value: “#rrggbb”.  To specify magenta, the following is
used:</p>
<div class="highlight-mapfile notranslate"><div class="highlight"><pre><span></span><span class="k">COLOR</span> <span class="s">&quot;#FF00FF&quot;</span>
</pre></div>
</div>
</li>
<li><p>RGBA value (adding translucence): “#rrggbbaa”.  To specify a
semi-translucent magenta, the following is used:</p>
<div class="highlight-mapfile notranslate"><div class="highlight"><pre><span></span><span class="k">COLOR</span> <span class="s">&quot;#FF00FFCC&quot;</span>
</pre></div>
</div>
</li>
</ul>
</li>
<li><p>[<em>Attribute</em>] was introduced in version 5.0, to specify the item
name in the attribute table to use for color values.  The hard
brackets [] are required.  For example, if your shapefile’s DBF
has a field named “MYCOLOR” that holds color values for each
record, your LABEL object might contain:</p>
<div class="highlight-mapfile notranslate"><div class="highlight"><pre><span></span><span class="k">LABEL</span>
  <span class="k">COLOR</span>  <span class="nx">[MYCOLOR]</span>
  <span class="k">OUTLINECOLOR</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span>
  <span class="k">FONT</span> <span class="s">&quot;sans&quot;</span>
  <span class="k">TYPE</span> <span class="nb">truetype</span>
  <span class="k">SIZE</span> <span class="mi">6</span>
  <span class="k">POSITION</span> <span class="nb">AUTO</span>
  <span class="k">PARTIALS</span> <span class="nb">FALSE</span>
<span class="k">END</span>
</pre></div>
</div>
<p>The associated RFC document for this feature is <a class="reference internal" href="../development/rfc/ms-rfc-19.html#rfc19"><span class="std std-ref">MS RFC 19: Style &amp; Label attribute binding</span></a>.</p>
</li>
</ul>
</dd>
</dl>
<dl id="mapfile-label-encoding">
<dt>ENCODING [string]</dt><dd><div class="versionremoved">
<p><span class="versionmodified removed">Removed in version 7.0: </span>UTF-8 is now the encoding used by MapServer, and
dataset encodings are handled using <a class="reference internal" href="layer.html#layer"><span class="std std-ref">LAYER</span></a> <cite>ENCODING</cite>
instead.</p>
</div>
<p>Supported encoding format to be used for labels.  If the format is
not supported, the label will not be drawn.  Requires the iconv
library (present on most systems).  The library is always detected
if present on the system, but if not, the label will not be drawn.</p>
<p>Required for displaying international characters in MapServer.
More information can be found in the <a class="reference internal" href="encoding.html#encoding"><span class="std std-ref">Label Encoding document</span></a>.</p>
</dd>
</dl>
<dl id="mapfile-label-expression">
<dt>EXPRESSION [string]</dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 6.2.</span></p>
</div>
<p>Expression that determines when the <cite>LABEL</cite> is to be applied.
See <cite>EXPRESSION</cite> in <a class="reference internal" href="class.html#class"><span class="std std-ref">CLASS</span></a>.</p>
</dd>
</dl>
<dl class="simple" id="mapfile-label-font">
<dt>FONT [name|attribute]</dt><dd><ul class="simple">
<li><p>Font alias (as defined in the FONTSET) to use for labeling.</p></li>
<li><p>[<em>Attribute</em>] was introduced in version 5.6 to specify the font
alias.</p></li>
<li><p>May contain a comma-separated list of up to MS_MAX_LABEL_FONTS
(usually 5) font aliases used as fallback fonts in renderers
supporting it, if a glyph is not available in a font. If specified
directly, be sure to enclose the list with quotes. See <a class="reference internal" href="../development/rfc/ms-rfc-80.html#rfc80"><span class="std std-ref">MS RFC 80: Font Fallback Support</span></a>.</p></li>
<li><p>Since version 7, MapServer supports language specific fonts.
See <a class="reference internal" href="../development/rfc/ms-rfc-98.html#rfc98"><span class="std std-ref">MS RFC 98: Label/Text Rendering Overhaul</span></a>.</p></li>
</ul>
</dd>
</dl>
<span id="mapfile-label-force"></span><dl id="force">
<dt>FORCE [true|false|group]</dt><dd><p>Forces labels for a particular class on, regardless of collisions.
Available only for cached labels.  Default is false.  If <cite>FORCE</cite>
is true and <cite>PARTIALS</cite> is false, <cite>FORCE</cite> takes precedence, and
partial labels are drawn.</p>
<p>The GROUP parameter, added in version 6.2, determines if the label
is allowed to intersect other labels from the same feature. Multiple STYLE blocks
can be used to render graphic symbols instead of
or alongside text. See <a class="reference internal" href="../development/announce/6-2.html#announce-6-2-force-group"><span class="std std-ref">Complex Multi Label/Symbol Symbology</span></a>.</p>
</dd>
</dl>
<span id="mapfile-label-maxlength"></span><dl id="maxlength">
<dt>MAXLENGTH [integer]</dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 5.4.</span></p>
</div>
<p>This keyword interacts with the <a class="reference internal" href="#wrap">WRAP</a> keyword so that line breaks
only occur after the defined number of characters.</p>
<table class="docutils align-default" id="id2">
<caption><span class="caption-text">Interaction with <a class="reference internal" href="#wrap">WRAP</a> keyword</span><a class="headerlink" href="#id2" title="Link to this table">¶</a></caption>
<tbody>
<tr class="row-odd"><td></td>
<td><p><strong>maxlength = 0</strong></p></td>
<td><p><strong>maxlength &gt; 0</strong></p></td>
</tr>
<tr class="row-even"><td><p><strong>wrap = ‘char’</strong></p></td>
<td><p>always wrap at the <a class="reference internal" href="#wrap">WRAP</a> character</p></td>
<td><p>newline at the first <a class="reference internal" href="#wrap">WRAP</a> character after <a class="reference internal" href="#maxlength">MAXLENGTH</a> characters</p></td>
</tr>
<tr class="row-odd"><td><p><strong>no wrap</strong></p></td>
<td><p>no processing</p></td>
<td><p>skip label if it contains more than <a class="reference internal" href="#maxlength">MAXLENGTH</a> characters</p></td>
</tr>
</tbody>
</table>
<p>The associated RFC document for this feature is <a class="reference internal" href="../development/rfc/ms-rfc-40.html#rfc40"><span class="std std-ref">MS RFC 40: Support Label Text Transformations</span></a>.</p>
<p>Support for negative MAXLENGTH that implied forced linebreaks is not
supported since version 7, a workaround implies pre-processing such labels
to include linebreaks or wrap characters. Must be greater than 0.</p>
</dd>
</dl>
<dl id="mapfile-label-maxoverlapangle">
<dt>MAXOVERLAPANGLE [double]</dt><dd><p>Angle threshold to use in filtering out ANGLE FOLLOW labels in
which characters overlap (floating point value in degrees). This
filtering will be enabled by default starting with MapServer
6.0. The default MAXOVERLAPANGLE value will be 22.5 degrees, which
also matches the default in GeoServer. Users will be free to tune
the value up or down depending on the type of data they are
dealing with and their tolerance to bad overlap in labels.
As per RFC 60, if MAXOVERLAPANGLE is set to 0, then we fall back
on pre-6.0 behavior which was to use maxoverlapangle = 0.4*MS_PI
(40% of 180 degrees = 72degree). Must be between 0 to 360.</p>
<p>The associated RFC document for this feature is <a class="reference internal" href="../development/rfc/ms-rfc-60.html#rfc60"><span class="std std-ref">MS RFC 60: Labeling enhancement: ability to skip ANGLE FOLLOW labels with too much character overlap</span></a>.</p>
</dd>
</dl>
<dl id="mapfile-label-maxscaledenom">
<dt>MAXSCALEDENOM [double]</dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 5.4.</span></p>
</div>
<p>Minimum scale at which this <a class="reference internal" href="#label"><span class="std std-ref">LABEL</span></a> is drawn. Scale is given
as the denominator of the actual scale fraction, for example for a
map at a scale of 1:24,000 use 24000. Must be greater or equal to 0.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../glossary.html#term-Map-Scale"><span class="xref std std-term">Map Scale</span></a></p>
</div>
</dd>
</dl>
<dl class="simple" id="mapfile-label-maxsize">
<dt>MAXSIZE [double]</dt><dd><p>Maximum font size to use when scaling text (pixels). Default is 256.
Starting from version 5.4, the value can also be a fractional value
(and not only an integer). Must be greater than 0.
See <a class="reference internal" href="layer.html#layer"><span class="std std-ref">LAYER</span></a> <a class="reference internal" href="layer.html#symbolscaledenom"><span class="std std-ref">SYMBOLSCALEDENOM</span></a>.</p>
</dd>
</dl>
<dl class="simple" id="mapfile-label-mindistance">
<dt>MINDISTANCE [integer]</dt><dd><p>Minimum distance between duplicate labels. Given in pixels.
Starting from version 7.2, the distance is calculated from the
label boundary. Prior versions used the label center. Must be greater than 0.</p>
</dd>
</dl>
<dl class="simple" id="mapfile-label-minfeaturesize">
<dt>MINFEATURESIZE [integer|auto]</dt><dd><p>Minimum size a feature must be to be labeled. Given in pixels. For
line data the overall length of the displayed line is used, for
polygons features the smallest dimension of the bounding box is
used. “Auto” keyword tells MapServer to only label features that
are larger than their corresponding label. Available for cached
labels only. Must be greater than 0.</p>
</dd>
</dl>
<dl id="mapfile-label-minscaledenom">
<dt>MINSCALEDENOM [double]</dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 5.4.</span></p>
</div>
<p>Maximum scale at which this <a class="reference internal" href="#label"><span class="std std-ref">LABEL</span></a> is drawn. Scale is given
as the denominator of the actual scale fraction, for example for a
map at a scale of 1:24,000 use 24000. Must be greater or equal to 0.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../glossary.html#term-Map-Scale"><span class="xref std std-term">Map Scale</span></a></p>
</div>
</dd>
</dl>
<dl class="simple" id="mapfile-label-minsize">
<dt>MINSIZE [double]</dt><dd><p>Minimum font size to use when scaling text (pixels). Default is 4.
Starting from version 5.4, the value can also be a fractional value
(and not only integer). Must be greater than 0.
See <a class="reference internal" href="layer.html#layer"><span class="std std-ref">LAYER</span></a> <a class="reference internal" href="layer.html#symbolscaledenom"><span class="std std-ref">SYMBOLSCALEDENOM</span></a>.</p>
</dd>
</dl>
<dl id="mapfile-label-offset">
<dt>OFFSET [x|attribute_x][y|attribute_y]</dt><dd><p>Offset values for labels, relative to the lower left hand corner of the
label and the label point. Given in pixels. In the case of rotated text
specify the values as if all labels are horizontal and any rotation will
be compensated for.</p>
<p>[attribute_x] and [attribute_y] were added in version 7.6. If an attribute
is used, it must be of type <em>integer</em>.</p>
<p>When used with FOLLOW angle, two additional options are available to
render the label parallel to the original feature:</p>
<ul class="simple">
<li><p>OFFSET x -99 : will render the label to the left or to the right of the
feature, depending on the sign of {x}.</p></li>
<li><p>OFFSET x 99 : will render the label above or below the feature,
depending on the sign of {x}.</p></li>
</ul>
<p>See <a class="reference internal" href="layer.html#layer"><span class="std std-ref">LAYER</span></a> <a class="reference internal" href="layer.html#symbolscaledenom"><span class="std std-ref">SYMBOLSCALEDENOM</span></a>.</p>
</dd>
</dl>
<span id="mapfile-label-outlinecolor"></span><dl id="outlinecolor">
<dt>OUTLINECOLOR [r] [g] [b] | [hexadecimal string] | [attribute]</dt><dd><ul>
<li><p>Color to draw a one pixel outline around the characters in the text.</p></li>
<li><p><cite>r</cite>, <cite>g</cite> and <cite>b</cite> shall be integers [0..255].  To specify green,
the following is used:</p>
<blockquote>
<div><div class="highlight-mapfile notranslate"><div class="highlight"><pre><span></span><span class="k">OUTLINECOLOR</span> <span class="mi">0</span> <span class="mi">255</span> <span class="mi">0</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p><cite>hexadecimal string</cite> can be</p>
<ul>
<li><p>RGB value: “#rrggbb”.  To specify magenta, the following is
used:</p>
<div class="highlight-mapfile notranslate"><div class="highlight"><pre><span></span><span class="k">OUTLINECOLOR</span> <span class="s">&quot;#FF00FF&quot;</span>
</pre></div>
</div>
</li>
<li><p>RGBA value (adding translucence): “#rrggbbaa”.  To specify a
semi-translucent magenta, the following is used:</p>
<div class="highlight-mapfile notranslate"><div class="highlight"><pre><span></span><span class="k">OUTLINECOLOR</span> <span class="s">&quot;#FF00FFCC&quot;</span>
</pre></div>
</div>
</li>
</ul>
</li>
<li><p>[<em>attribute</em>] was introduced in version 5.0, to specify the item
name in the attribute table to use for color values.  The hard
brackets [] are required.  For example, if your shapefile’s DBF
has a field named “MYOUTCOLOR” that holds color values for each
record, your LABEL object might contain:</p>
<div class="highlight-mapfile notranslate"><div class="highlight"><pre><span></span><span class="k">LABEL</span>
  <span class="k">COLOR</span>  <span class="mi">150</span> <span class="mi">150</span> <span class="mi">150</span>
  <span class="k">OUTLINECOLOR</span> <span class="nx">[MYOUTCOLOR]</span>
  <span class="k">FONT</span> <span class="s">&quot;sans&quot;</span>
  <span class="k">TYPE</span> <span class="nb">truetype</span>
  <span class="k">SIZE</span> <span class="mi">6</span>
  <span class="k">POSITION</span> <span class="nb">AUTO</span>
  <span class="k">PARTIALS</span> <span class="nb">FALSE</span>
<span class="k">END</span>
</pre></div>
</div>
<p>The associated RFC document for this feature is <a class="reference internal" href="../development/rfc/ms-rfc-19.html#rfc19"><span class="std std-ref">MS RFC 19: Style &amp; Label attribute binding</span></a>.</p>
</li>
</ul>
</dd>
</dl>
<span id="mapfile-label-outlinewidth"></span><dl class="simple" id="outlinewidth">
<dt>OUTLINEWIDTH [integer]</dt><dd><p>Width of the outline if <a class="reference internal" href="#outlinecolor">OUTLINECOLOR</a> has been set. Defaults to 1.
Currently only the AGG renderer supports values greater than 1, and
renders these as a ‘halo’ effect: recommended values are 3 or 5. If the
renderer supports it and the text size is variable, the outline will be
scaled proportionally to the text and the value specified as
OUTLINEWIDTH is therefore the width at the same scale at which the
<a class="reference internal" href="#size">SIZE</a> is specified. Must be greater than 0.</p>
</dd>
</dl>
<dl id="mapfile-label-partials">
<dt>PARTIALS [true|false]</dt><dd><p>Can text run off the edge of the map? Default is false.  If <cite>FORCE</cite>
is true and <cite>PARTIALS</cite> is false, <cite>FORCE</cite> takes precedence, and
partial labels are drawn.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The default changed from true to false, since the MapServer 7.2
release.</p>
</div>
</dd>
</dl>
<dl id="mapfile-label-position">
<dt>POSITION [ul|uc|ur|cl|cc|cr|ll|lc|lr|auto|attribute]</dt><dd><p>Position of the label relative to the labeling point (layers
only). First letter is “Y” position, second letter is “X”
position. “Auto” tells MapServer to calculate a label position
that will not interfere with other labels. With points, MapServer
selects from the 8 outer positions (i.e. excluding cc). With
polygons, MapServer selects from cc (added in MapServer 5.4), uc,
lc, cl and cr as possible positions.  With lines, it only uses lc
or uc, until it finds a position that doesn’t collide with labels
that have already been drawn. If all positions cause a conflict,
then the label is not drawn (Unless the label’s <a class="reference internal" href="#force">FORCE</a> a parameter
is set to “true”). “Auto” placement is only available with cached
labels.</p>
<p>When used with attribute, it must be of type <em>string</em> and use one
of the following: <em>ul|uc|ur|cl|cc|cr|ll|lc|lr|auto</em>.</p>
</dd>
</dl>
<dl id="mapfile-label-priority">
<dt>PRIORITY [integer]|[item_name]|[attribute]</dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 5.0.</span></p>
</div>
<p>The priority parameter takes an integer value between 1 (lowest)
and 10 (highest). The default value is 1. It is also possible to
bind the priority to an attribute (item_name) using square
brackets around the [item_name]. e.g. “PRIORITY [someattribute]”</p>
<p>Labels are stored in the label cache and rendered in order of
priority, with the highest priority levels rendered first.
Specifying an out of range PRIORITY value inside a map file will
result in a parsing error. An out of range value set via
MapScript or coming from a shape attribute will be clamped to the
min/max values at rendering time.  There is no expected impact on
performance for using label priorities.</p>
<p>[<em>Attribute</em>] was introduced in version 5.6.</p>
</dd>
</dl>
<dl id="mapfile-label-repeatdistance">
<dt>REPEATDISTANCE [integer]</dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 5.6.</span></p>
</div>
<p>The label will be repeated on every line of a multiline shape and
will be repeated multiple times along a given line at an interval
of REPEATDISTANCE pixels. Must be greater than 0.</p>
<p>The associated RFC document for this feature is <a class="reference internal" href="../development/rfc/ms-rfc-57.html#rfc57"><span class="std std-ref">MS RFC 57: Labeling enhancements: ability to repeat labels along a line/multiline</span></a>.</p>
</dd>
</dl>
<dl id="mapfile-label-shadowcolor">
<dt>SHADOWCOLOR [r] [g] [b] | [hexadecimal string]</dt><dd><p>Color of drop shadow. A label with the same text will be rendered
in this color before the main label is drawn, resulting in a
shadow effect on the the label characters. The offset of the
renderered shadow is set with SHADOWSIZE.</p>
<ul>
<li><p><cite>r</cite>, <cite>g</cite> and <cite>b</cite> shall be integers [0..255].  To specify green,
the following is used:</p>
<blockquote>
<div><div class="highlight-mapfile notranslate"><div class="highlight"><pre><span></span><span class="k">SHADOWCOLOR</span> <span class="mi">0</span> <span class="mi">255</span> <span class="mi">0</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p><cite>hexadecimal string</cite> can be</p>
<ul>
<li><p>RGB value: “#rrggbb”.  To specify magenta, the following is
used:</p>
<div class="highlight-mapfile notranslate"><div class="highlight"><pre><span></span><span class="k">SHADOWCOLOR</span> <span class="s">&quot;#FF00FF&quot;</span>
</pre></div>
</div>
</li>
<li><p>RGBA value (adding translucence): “#rrggbbaa”.  To specify a
semi-translucent magenta, the following is used:</p>
<div class="highlight-mapfile notranslate"><div class="highlight"><pre><span></span><span class="k">SHADOWCOLOR</span> <span class="s">&quot;#FF00FFCC&quot;</span>
</pre></div>
</div>
</li>
</ul>
</li>
</ul>
</dd>
</dl>
<dl id="mapfile-label-shadowsize">
<dt>SHADOWSIZE [x][y]|[attribute][attribute]|[x][attribute]|[attribute][y]</dt><dd><p>Shadow offset in pixels, see SHADOWCOLOR.</p>
<p>[<em>Attribute</em>] was introduced in version 6.0, and can be used like:</p>
<div class="highlight-mapfile notranslate"><div class="highlight"><pre><span></span><span class="k">SHADOWSIZE</span> <span class="mi">2</span> <span class="mi">2</span>
<span class="k">SHADOWSIZE</span> <span class="nx">[shadowsizeX]</span> <span class="mi">2</span>
<span class="k">SHADOWSIZE</span> <span class="mi">2</span> <span class="nx">[shadowsizeY]</span>
<span class="k">SHADOWSIZE</span> <span class="nx">[shadowsize]</span> <span class="nx">[shadowsize]</span>
</pre></div>
</div>
</dd>
</dl>
<span id="mapfile-label-size"></span><dl id="size">
<dt>SIZE [integer]|[tiny|small|medium|large|giant]|[attribute]|[expression]</dt><dd><ul>
<li><p>Text size. Use a number to give the size in pixels of your
TrueType font based label, or any of the other 5 listed keywords
for bitmap fonts.</p>
<p>When scaling is in effect (<a class="reference internal" href="layer.html#symbolscaledenom"><span class="std std-ref">SYMBOLSCALEDENOM</span></a> is specified for the <a class="reference internal" href="layer.html#layer"><span class="std std-ref">LAYER</span></a>), <cite>SIZE</cite>
gives the size of the font to be used at the map scale
1:<cite>SYMBOLSCALEDENOM</cite>.</p>
</li>
<li><p>[<em>Attribute</em>] was introduced in version 5.0, to specify the item
name in the attribute table to use for size values.  The hard
brackets [] are required.  For example, if your shapefile’s DBF
has a field named “MYSIZE” that holds size values for each
record, your LABEL object might contain:</p>
<div class="highlight-mapfile notranslate"><div class="highlight"><pre><span></span><span class="k">LABEL</span>
  <span class="k">COLOR</span>  <span class="mi">150</span> <span class="mi">150</span> <span class="mi">150</span>
  <span class="k">OUTLINECOLOR</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span>
  <span class="k">FONT</span> <span class="s">&quot;sans&quot;</span>
  <span class="k">TYPE</span> <span class="nb">truetype</span>
  <span class="k">SIZE</span> <span class="nx">[MYSIZE]</span>
  <span class="k">POSITION</span> <span class="nb">AUTO</span>
  <span class="k">PARTIALS</span> <span class="nb">FALSE</span>
<span class="k">END</span>
</pre></div>
</div>
<p>The associated RFC document for this feature is <a class="reference internal" href="../development/rfc/ms-rfc-19.html#rfc19"><span class="std std-ref">MS RFC 19: Style &amp; Label attribute binding</span></a>.</p>
</li>
<li><p>[expression] was added in version 7.6 to allow arithmetic expressions
returning an integer value as part of <a class="reference internal" href="../development/rfc/ms-rfc-124.html#rfc124"><span class="std std-ref">MS RFC 124: Improving SLD Support in MapServer</span></a>. Attributes can be used
as part of this expression:</p>
<div class="highlight-mapfile notranslate"><div class="highlight"><pre><span></span><span class="k">LABEL</span>
  <span class="k">TEXT</span> <span class="s">&quot;[name]&quot;</span>
  <span class="k">COLOR</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span>
  <span class="k">TYPE</span> <span class="nb">TRUETYPE</span>
  <span class="k">FONT</span> <span class="err">vera</span><span class="p">-</span><span class="err">bold</span>
  <span class="k">SIZE</span> <span class="p">((</span> <span class="nx">[s12]</span> <span class="o">*</span> <span class="nx">[s12]</span> <span class="p">)</span> <span class="p">-</span> <span class="mi">132</span> <span class="p">)</span>
<span class="k">END</span>
</pre></div>
</div>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The SIZE value can only be an integer (not a fractional
value), because the renderer Freetype only accepts integers. Must be greater than 0.</p>
</div>
</dd>
</dl>
<span id="mapfile-label-style"></span><dl id="label-style">
<dt><a class="reference internal" href="style.html#style"><span class="std std-ref">STYLE</span></a></dt><dd><p>The start of a <a class="reference internal" href="style.html#style"><span class="std std-ref">STYLE</span></a> object.</p>
<p>Label specific mechanisms of the <a class="reference internal" href="style.html#style"><span class="std std-ref">STYLE</span></a> object are the
GEOMTRANSFORM options:</p>
<dl>
<dt>GEOMTRANSFORM [labelcenter|labelpnt|labelpoly]</dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 6.0.</span></p>
</div>
<p>Creates a geometry that can be used for styling the label. Does not
apply to ANGLE FOLLOW labels.</p>
<ul class="simple">
<li><p>labelcenter places the text in the center of the feature.</p></li>
<li><p>labelpnt draws a marker on the geographic position the label is
attached to. This corresponds to the center of the label text
only if the label is in position CC.</p></li>
<li><p>labelpoly generates the bounding rectangle for the text, with
1 pixel of padding added in all directions.</p></li>
</ul>
<p>The resulting geometries can be styled using the mechanisms
available in the <cite>STYLE</cite> object.</p>
<blockquote>
<div><p>Example - draw a red background rectangle for the labels
with a “shadow” (i.e. billboard) in gray text, centered in
the polygon feature:</p>
<div class="highlight-mapfile notranslate"><div class="highlight"><pre><span></span><span class="k">STYLE</span>
  <span class="k">GEOMTRANSFORM</span> <span class="s">&#39;labelcenter&#39;</span>
  <span class="k">COLOR</span> <span class="mi">153</span> <span class="mi">153</span> <span class="mi">153</span>
<span class="k">END</span> <span class="c"># STYLE</span>
<span class="k">STYLE</span>
  <span class="k">GEOMTRANSFORM</span> <span class="s">&#39;labelpoly&#39;</span>
  <span class="k">COLOR</span> <span class="mi">255</span> <span class="mi">0</span> <span class="mi">0</span>
<span class="k">END</span> <span class="c"># STYLE</span>
</pre></div>
</div>
<img alt="../_images/label-style-center-poly.png" class="no-scaled-link" src="../_images/label-style-center-poly.png" style="width: 600px; height: 400px;" />
</div></blockquote>
</dd>
</dl>
</dd>
</dl>
<dl id="mapfile-label-text">
<dt>TEXT [string|expression]</dt><dd><blockquote>
<div><div class="versionadded">
<p><span class="versionmodified added">New in version 6.2.</span></p>
</div>
</div></blockquote>
<p>Text to label features with (useful when multiple labels are used).
Overrides values obtained from the <a class="reference internal" href="layer.html#layer"><span class="std std-ref">LAYER</span></a> <cite>LABELITEM</cite> and the
<a class="reference internal" href="class.html#class"><span class="std std-ref">CLASS</span></a> <cite>TEXT</cite>.  See <cite>TEXT</cite> in <a class="reference internal" href="class.html#class"><span class="std std-ref">CLASS</span></a>.</p>
</dd>
</dl>
<span id="index-1"></span><span id="mapfile-label-type"></span><dl id="index-2">
<dt>TYPE [bitmap|truetype]</dt><dd><p>Type of font to use. Generally bitmap fonts are faster to draw
then TrueType fonts. However, TrueType fonts are scalable and
available in a variety of faces. Be sure to set the FONT parameter
if you select TrueType.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Bitmap fonts are only supported with the AGG and GD
renderers.</p>
</div>
</dd>
</dl>
<span id="mapfile-label-wrap"></span><dl id="wrap">
<dt>WRAP [character]</dt><dd><p>Character that represents an end-of-line condition in label text,
thus resulting in a multi-line label. Interacts with <a class="reference internal" href="#maxlength">MAXLENGTH</a>
for conditional line wrapping after a given number of characters.</p>
<p>Labels are also wrapped at Zero Width Space Unicode characters (0x200b) when <a class="reference internal" href="#wrap">WRAP</a> is enabled. For example, allow wrapping after hyphens without removing the hyphen character at the wrap. You can insert this character in your PostGIS query with <cite>replace(field, ‘-’, E’-u200b’)</cite>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 7.2.1: </span>Wrapping at Zero Width Space</p>
</div>
</dd>
</dl>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p>
<a href="../about.html" title="About">About</a><br>
<a href="../products.html" title="Products">Products</a><br>
<a href="../community/index.html" title="Community">Community</a><br>
<a href="../development/index.html" title="Development">Development</a><br>
<a href="../download.html" title="Downloads">Downloads</a><br>
<a href="../documentation.html" title="Documentation">Documentation</a><br>
<a href="../faq.html" title="FAQ">FAQ</a><br>
<a href="../psc.html" title="PSC">PSC</a><br>
<a href="https://twitter.com/mapserver_osgeo" title="Twitter">Twitter</a>
</p>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="layer.html" title="LAYER"
             >next</a> |</li>
        <li class="right" >
          <a href="join.html" title="JOIN"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >MapServer 8.0.1 Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >Mapfile</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">LABEL</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; <a href="../copyright.html">Copyright</a> 2023, Open Source Geospatial Foundation.
      Last updated on 2023-12-22.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.5.
    </div>
  </body>
</html>