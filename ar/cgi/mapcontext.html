
<!DOCTYPE html>

<html lang="ar">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Map Context Files &#8212; MapServer 7.6.3 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx.css" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/translations.js"></script>
    
    <link rel="shortcut icon" href="../_static/_static/mapserver.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="بحث" href="../search.html" />
    <link rel="copyright" title="الحقوق" href="../copyright.html" />
    <link rel="next" title="MapServer CGI Controls" href="controls.html" />
    <link rel="prev" title="mapserv" href="mapserv.html" /> 
  </head><body>

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../index.html" title="Home"><img src="../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../index.html" title="Home">Home</a> |
      <a href="../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../community/service_providers.html" title="Professional Service Providers">Service Providers</a> |      
      <a href="../faq.html" title="Frequently Asked Questions">FAQ</a> |
      <a href="https://twitter.com/mapserver_osgeo" title="Twitter" target="_blank">Twitter</a> |
      <a href="../download.html" title="Download Source or Binaries">Download </a> |
      <a class="badge" href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=KRJ2X44N3HA6U&source=url" target="_blank">
        <img src="https://img.shields.io/badge/donate-%E2%9D%A4%C2%A0-ff69b4.svg?style=flat" alt="Donate to MapServer">
      </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        
          
            <a href="../../cgi/mapcontext.html"><img src="../_static/flagicons/en.png" alt="en" title="en" border="0" /></a>
          
        
        <img src="../_static/flagicons/ar.png" alt="ar" title="ar" border="0" width="18px" height="13px"/>
        
          
            <a href="../../de/cgi/mapcontext.html"><img src="../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
          
        
        
          
            <a href="../../el/cgi/mapcontext.html"><img src="../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
          
        
        
          
            <a href="../../es/cgi/mapcontext.html"><img src="../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
          
        
        
          
            <a href="../../fr/cgi/mapcontext.html"><img src="../_static/flagicons/fr.png" alt="fr" title="fr" border="0" /></a>
          
        
        
          
            <a href="../../id/cgi/mapcontext.html"><img src="../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
          
        
        
          
            <a href="../../it/cgi/mapcontext.html"><img src="../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
          
        
        
          
            <a href="../../ja/cgi/mapcontext.html"><img src="../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
          
        
        
          
            <a href="../../nl_NL/cgi/mapcontext.html"><img src="../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
          
        
        
          
            <a href="../../pl/cgi/mapcontext.html"><img src="../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
          
        
        
          
            <a href="../../ru/cgi/mapcontext.html"><img src="../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
          
        
        
          
            <a href="../../sq/cgi/mapcontext.html"><img src="../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
          
        
        
          
            <a href="../../tr/cgi/mapcontext.html"><img src="../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
          
        

    </td>
  </tr>
</table>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="الفهرس العام"
             accesskey="I">الفهرس</a></li>
        <li class="right" >
          <a href="controls.html" title="MapServer CGI Controls"
             accesskey="N">التالي</a> |</li>
        <li class="right" >
          <a href="mapserv.html" title="mapserv"
             accesskey="P">السابق</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >MapServer 7.6.3 Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">CGI</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Map Context Files</a></li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="map-context-files">
<span id="mapcontext-cgi"></span><h1>Map Context Files<a class="headerlink" href="#map-context-files" title="Permalink to this headline">¶</a></h1>
<section id="support-for-local-map-context-files">
<h2>Support for Local Map Context Files<a class="headerlink" href="#support-for-local-map-context-files" title="Permalink to this headline">¶</a></h2>
<p>There is a CGI parameter called CONTEXT that is used to specify a local
context file. The user can then use MapServer to request a map using the
following syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>http://localhost/mapserver.cgi?MODE=map&amp;MAP=/path/to/mapfile.map&amp;CONTEXT=
                     /path/to/contextfile.xml&amp;LAYERS=layer_name1 layers_name2
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">ملاحظة</p>
<p>All layers created from a context file have their status set to ON. To be
able to display layers, the user needs to add the LAYERS argument in the
URL.</p>
</div>
</section>
<section id="support-for-context-files-accessed-through-a-url">
<h2>Support for Context Files Accessed Through a URL<a class="headerlink" href="#support-for-context-files-accessed-through-a-url" title="Permalink to this headline">¶</a></h2>
<p>The syntax of using a web accessible context file would be similar to
accessing a local context file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>http://localhost/mapserver.cgi?MODE=map&amp;MAP=/path/to/mapfile.map&amp;CONTEXT=
            http://URL/path/to/contextfile.xml&amp;LAYERS=layers_name1 layer_name2
</pre></div>
</div>
<p>Due to security concerns loading a file from a URL is disabled by default. To
enable this functionality, the user needs to set a CONFIG parameter called
CGI_CONTEXT_URL in the default map file that will allow this functionality.
Here is an example of a map file with the CONFIG parameter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Start of map file</span>
<span class="n">NAME</span> <span class="n">DEMO</span>
<span class="n">STATUS</span> <span class="n">ON</span>
<span class="n">SIZE</span> <span class="mi">400</span> <span class="mi">300</span>
<span class="n">EXTENT</span> <span class="o">-</span><span class="mi">2200000</span> <span class="o">-</span><span class="mi">712631</span> <span class="mi">3072800</span> <span class="mi">3840000</span>
<span class="n">UNITS</span> <span class="n">METERS</span>
<span class="n">IMAGECOLOR</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span>
<span class="n">IMAGETYPE</span> <span class="n">png</span>
<span class="n">CONFIG</span> <span class="s2">&quot;CGI_CONTEXT_URL&quot;</span> <span class="s2">&quot;1&quot;</span>
<span class="o">...</span>
</pre></div>
</div>
</section>
<section id="default-map-file">
<h2>Default Map File<a class="headerlink" href="#default-map-file" title="Permalink to this headline">¶</a></h2>
<p>To smoothly run a MapServer CGI application with a Map Context, the
application administrator needs to provide a default map file with at least
the basic required parameters that will be used with the Context file. This
default map file can contain as little information as the imagepath and
imageurl or contain a list of layers. Information coming from the context
(e.g.: layers, width, height, â€¦) would either be appended or will replace
values found in the map file.</p>
<p>Here is an example of a default map file containing the minimum
required parameters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">NAME</span> <span class="n">CGI</span><span class="o">-</span><span class="n">CONTEXT</span><span class="o">-</span><span class="n">DEMO</span>
<span class="n">STATUS</span> <span class="n">ON</span>
<span class="n">SIZE</span> <span class="mi">400</span> <span class="mi">300</span>
<span class="n">EXTENT</span> <span class="o">-</span><span class="mi">2200000</span> <span class="o">-</span><span class="mi">712631</span> <span class="mi">3072800</span> <span class="mi">3840000</span>
<span class="n">UNITS</span> <span class="n">METERS</span>
<span class="n">IMAGECOLOR</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span>
<span class="n">IMAGETYPE</span> <span class="n">png</span>
<span class="c1">#</span>
<span class="c1"># Start of web interface definition</span>
<span class="c1">#</span>
<span class="n">WEB</span>
  <span class="n">MINSCALE</span> <span class="mi">2000000</span>
  <span class="n">MAXSCALE</span> <span class="mi">50000000</span>
<span class="c1">#</span>
<span class="c1"># On Windows systems, /tmp and /tmp/ms_tmp/ should be created at the root</span>
<span class="c1"># of the drive where the .MAP file resides.</span>
<span class="c1">#</span>
  <span class="n">IMAGEPATH</span> <span class="s2">&quot;/ms4w/tmp/ms_tmp/&quot;</span>
  <span class="n">IMAGEURL</span> <span class="s2">&quot;/ms_tmp/&quot;</span>
<span class="n">END</span>
<span class="n">END</span> <span class="c1"># Map File</span>
</pre></div>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">البحث السريع</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script><h3>Navigation</h3>
<p>
<a href="../about.html" title="About">About</a><br>
<a href="../products.html" title="Products">Products</a><br>
<a href="../community/index.html" title="Community">Community</a><br>
<a href="../development/index.html" title="Development">Development</a><br>
<a href="../download.html" title="Downloads">Downloads</a><br>
<a href="../documentation.html" title="Documentation">Documentation</a><br>
<a href="../faq.html" title="FAQ">FAQ</a><br>
<a href="../psc.html" title="PSC">PSC</a><br>
<a href="https://twitter.com/mapserver_osgeo" title="Twitter">Twitter</a>
</p>
  <h3>Current Table Of Contents</h3>
  <ul>
<li><a class="reference internal" href="#">Map Context Files</a><ul>
<li><a class="reference internal" href="#support-for-local-map-context-files">Support for Local Map Context Files</a></li>
<li><a class="reference internal" href="#support-for-context-files-accessed-through-a-url">Support for Context Files Accessed Through a URL</a></li>
<li><a class="reference internal" href="#default-map-file">Default Map File</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="الفهرس العام"
             >الفهرس</a></li>
        <li class="right" >
          <a href="controls.html" title="MapServer CGI Controls"
             >التالي</a> |</li>
        <li class="right" >
          <a href="mapserv.html" title="mapserv"
             >السابق</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >MapServer 7.6.3 Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >CGI</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Map Context Files</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; <a href="../copyright.html"> حقوق النشر </a> 2021, Open Source Geospatial Foundation
      Last updated on 2021-07-12.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.1.0.
    </div>
  </body>
</html>