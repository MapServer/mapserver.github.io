<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>PHP MapScript &#8212; MapServer 8.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx.css?v=6c7b17ac" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=dd298242" />
    <link rel="stylesheet" type="text/css" href="../../_static/ribbon.css?v=ea091bf4" />
    
    <script src="../../_static/documentation_options.js?v=521b6f53"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="icon" href="../../_static/mapserver.ico"/>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="PHP MapScript API" href="phpmapscript.html" />
    <link rel="prev" title="PHP MapScript" href="index.html" /> 
  </head><body>


<!-- for main branch only, do not backport this -->

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../../index.html" title="Home"><img src="../../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../../index.html" title="Home">Home</a> |
      <a href="../../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../../community/service_providers.html" title="Professional Service Providers">Service Providers</a> |      
      <a href="../../faq.html" title="Frequently Asked Questions">FAQ</a> |
      <a href="https://twitter.com/mapserver_osgeo" title="Twitter" target="_blank">Twitter</a> |
      <a href="../../download.html" title="Download Source or Binaries">Download </a> |
      <a class="badge" href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=KRJ2X44N3HA6U&source=url" target="_blank">
        <img src="https://img.shields.io/badge/donate-%E2%9D%A4%C2%A0-ff69b4.svg?style=flat" alt="Donate to MapServer">
      </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        <img src="../../_static/flagicons/en.png" alt="en" title="en" border="0" width="18px" height="13px"/>
        
          <a href="../../ar/mapscript/php/php_intro.html"><img src="../../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
        
        
          <a href="../../de/mapscript/php/php_intro.html"><img src="../../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
        
        
          <a href="../../el/mapscript/php/php_intro.html"><img src="../../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
        
        
          <a href="../../es/mapscript/php/php_intro.html"><img src="../../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
        
        
          <a href="../../fr/mapscript/php/php_intro.html"><img src="../../_static/flagicons/fr.png" alt="fr" title="fr" border="0" /></a>
        
        
          <a href="../../id/mapscript/php/php_intro.html"><img src="../../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
        
        
          <a href="../../it/mapscript/php/php_intro.html"><img src="../../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
        
        
          <a href="../../ja/mapscript/php/php_intro.html"><img src="../../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
        
        
          <a href="../../nl_NL/mapscript/php/php_intro.html"><img src="../../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
        
        
          <a href="../../pl/mapscript/php/php_intro.html"><img src="../../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
        
        
          <a href="../../ru/mapscript/php/php_intro.html"><img src="../../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
        
        
          <a href="../../sq/mapscript/php/php_intro.html"><img src="../../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
        
        
          <a href="../../tr/mapscript/php/php_intro.html"><img src="../../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
        

    </td>
  </tr>
</table>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="phpmapscript.html" title="PHP MapScript API"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="PHP MapScript"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../documentation.html" >MapServer 8.0.1 Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../index.html" >MapScript</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="index.html" accesskey="U">PHP MapScript</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">PHP MapScript</a></li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="php-mapscript">
<span id="php-mapscriptintro"></span><h1>PHP MapScript<a class="headerlink" href="#php-mapscript" title="Link to this heading">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Author<span class="colon">:</span></dt>
<dd class="field-odd"><p>Jeff McKenna</p>
</dd>
<dt class="field-even">Contact<span class="colon">:</span></dt>
<dd class="field-even"><p>jmckenna at gatewaygeomatics.com</p>
</dd>
<dt class="field-odd">Last updated<span class="colon">:</span></dt>
<dd class="field-odd"><p>2019-05-25</p>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>As of the MapServer 8.0.0 release PHP support is only available through
MapServer’s <a class="reference internal" href="../mapscript-api/index.html#swig"><span class="std std-ref">SWIG API</span></a>.  The unmaintained <cite>native</cite> PHP MapScript
support was removed.</p>
</div>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Link to this heading">¶</a></h2>
<p>This is a <a class="reference external" href="http://www.php.net/">PHP</a> module that makes MapServer’s
MapScript functionalities available in a PHP Dynamically Loadable
Library. In simple terms, this module will allow you to use the
powerful PHP scripting language to dynamically create and modify map
images in MapServer.</p>
<section id="versions-supported">
<h3>Versions Supported<a class="headerlink" href="#versions-supported" title="Link to this heading">¶</a></h3>
<p>PHP 5.2.0 or more recent is required; As of MapServer 7.4.0, PHP 7
is available through the <a class="reference internal" href="../mapscript-api/index.html#swig"><span class="std std-ref">SWIG API</span></a>, and all existing MapServer
users are encouraged to update their scripts for the new SWIG syntax;
see the <a class="reference internal" href="../../MIGRATION_GUIDE.html#migration"><span class="std std-ref">MapServer Migration Guide</span></a> for example syntax.</p>
<p>Support for PHP 4, PHP 5.0 and PHP 5.1 was dropped as of MapServer 6.0.
PHP MapScript was originally developed for PHP 3.0.14, and after
MapServer 3.5 support for PHP 3 was dropped.</p>
<p>The module has been tested and used on Linux, Solaris, *BSD, and Windows.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are using MapServer 5.6 and older, please refer
to the <a class="reference internal" href="index-5.6.html#php5-6"><span class="std std-ref">PHP MapScript 5.6 documentation</span></a> instead.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are migrating your existing application that is
based on MapServer 5.6 or older, to MapServer 7.4 or beyond,
please read the <a class="reference internal" href="migration_guide.html#php-migration-guide"><span class="std std-ref">PHP MapScript Migration Guide</span></a> for important changes.</p>
</div>
</div></blockquote>
</section>
<section id="windows-binaries">
<h3>Windows Binaries<a class="headerlink" href="#windows-binaries" title="Link to this heading">¶</a></h3>
<p>PHP 7+ mapscript is included in <a class="reference external" href="https://ms4w.com/">MS4W</a>, the popular
installer maintained by Gateway Geomatics.  You can also
see user-contributed PHP 7 scripts through the SWIG API, on the
<a class="reference external" href="https://ms4w.com/trac/">MS4W wiki</a>.</p>
</section>
<section id="how-to-get-more-information-on-php-mapscript">
<h3>How to Get More Information on PHP MapScript<a class="headerlink" href="#how-to-get-more-information-on-php-mapscript" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>For installation questions regarding the PHP MapScript module, see
<a class="reference internal" href="../../installation/php.html#php-install"><span class="std std-ref">PHP MapScript Installation</span></a>.</p></li>
<li><p>The <a class="reference external" href="http://trac.osgeo.org/mapserver/wiki/PHPMapScript">MapServer Wiki</a> has information on this module, that was
contributed by users.</p></li>
<li><p>New PHP MapScript users should read the <a class="reference internal" href="by_example.html#php-example"><span class="std std-ref">By Example</span></a> document.</p></li>
<li><p>The project’s home is the <a class="reference external" href="http://www.maptools.org/php_mapscript/">PHP/MapScript page</a> on MapTools.org.</p></li>
<li><p>Also, see the <a class="reference internal" href="../index.html#mapscript"><span class="std std-ref">MapScript</span></a>, and the <a class="reference internal" href="../../mapfile/index.html#mapfile"><span class="std std-ref">Mapfile</span></a> sections of
this site.</p></li>
<li><p>Refer to the main <a class="reference external" href="http://www.php.net">PHP site</a> for their official documentation.</p></li>
</ul>
</section>
<section id="memory-management">
<h3>Memory Management<a class="headerlink" href="#memory-management" title="Link to this heading">¶</a></h3>
<p>Normally, you should not have to worry about the memory management
because php has a garbage collector and will free resources for
you. If you write only small scripts that don’t do a lot of
processing, it’s not worth to care about that. Everything will be
freed at the end of the script.</p>
<p>However, it may be useful to free resources during the execution if
the script executes many tasks. To do so, you’ll have to call the
<strong>free()</strong> method of the mapscript objects and unset the php
variables. The purpose of the free methods is to break the circular
references between an object and its properties to allow the zend
engine to free the resources.</p>
<p>Here’s an example of a script (using the legacy syntax, not the
<a class="reference internal" href="../mapscript-api/index.html#swig"><span class="std std-ref">SWIG API</span></a> syntax) that doesn’t free things
during the execution:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="x">$map = new mapObj(&quot;mapfile.map&quot;);</span>
<span class="x">$of = $map-&gt;outputformat;</span>
<span class="x">echo $map-&gt;extent-&gt;minx.&quot; - &quot;.$map-&gt;extent-&gt;miny.&quot; - &quot;.</span>
<span class="x">                 $map-&gt;extent-&gt;maxx.&quot; - &quot;.$map-&gt;extent-&gt;maxy.&quot;\n&quot;;</span>
<span class="x">echo &quot;Outputformat name: $of-&gt;name\n&quot;;</span>
<span class="x">unset($of);</span>
<span class="x">unset($map); // Even if we unset the php variables, resources</span>
<span class="x">             // won&#39;t be freed.  Resources will be only freed</span>
<span class="x">             // at the end of the script</span>
</pre></div>
</div>
<p>and the same script that frees resources as soon as it can</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="x">$map = new mapObj(&quot;mapfile.map&quot;);</span>
<span class="x">$of = $map-&gt;outputformat;</span>
<span class="x">echo $map-&gt;extent-&gt;minx.&quot; - &quot;.$map-&gt;extent-&gt;miny.&quot; - &quot;.</span>
<span class="x">                 $map-&gt;extent-&gt;maxx.&quot; - &quot;.$map-&gt;extent-&gt;maxy.&quot;\n&quot;;</span>
<span class="x">echo &quot;Outputformat name: $of-&gt;name\n&quot;;</span>
<span class="x">unset($of);</span>
<span class="x">$map-&gt;free(); // break the circular references</span>
<span class="x">// at this place, the outputformat ($of) and the rect object</span>
<span class="x">// ($map-&gt;extent) resources are freed</span>
<span class="x">unset($map);</span>
<span class="x">// the map object is immediately freed after the unset (before the</span>
<span class="x">// end of the script)</span>
</pre></div>
</div>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p>
<a href="../../about.html" title="About">About</a><br>
<a href="../../products.html" title="Products">Products</a><br>
<a href="../../community/index.html" title="Community">Community</a><br>
<a href="../../development/index.html" title="Development">Development</a><br>
<a href="../../download.html" title="Downloads">Downloads</a><br>
<a href="../../documentation.html" title="Documentation">Documentation</a><br>
<a href="../../faq.html" title="FAQ">FAQ</a><br>
<a href="../../psc.html" title="PSC">PSC</a><br>
<a href="https://twitter.com/mapserver_osgeo" title="Twitter">Twitter</a>
</p>
  <h3>Current Table Of Contents</h3>
  <ul>
<li><a class="reference internal" href="#">PHP MapScript</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a><ul>
<li><a class="reference internal" href="#versions-supported">Versions Supported</a></li>
<li><a class="reference internal" href="#windows-binaries">Windows Binaries</a></li>
<li><a class="reference internal" href="#how-to-get-more-information-on-php-mapscript">How to Get More Information on PHP MapScript</a></li>
<li><a class="reference internal" href="#memory-management">Memory Management</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="phpmapscript.html" title="PHP MapScript API"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="PHP MapScript"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../documentation.html" >MapServer 8.0.1 Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../index.html" >MapScript</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="index.html" >PHP MapScript</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">PHP MapScript</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; <a href="../../copyright.html">Copyright</a> 2023, Open Source Geospatial Foundation.
      Last updated on 2023-12-22.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.5.
    </div>
  </body>
</html>