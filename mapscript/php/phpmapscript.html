<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>PHP MapScript API &mdash; MapServer 7.0.0 documentation</title>
    
    <link rel="stylesheet" href="../../_static/sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '7.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/mapserver.ico"/>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="top" title="MapServer 7.0.0 documentation" href="../../index.html" />
    <link rel="up" title="PHP MapScript" href="index.html" />
    <link rel="next" title="PHP MapScript Migration Guide" href="migration_guide.html" />
    <link rel="prev" title="Introduction" href="php_intro.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../../index.html" title="Home"><img src="../../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../../index.html" title="Home">Home</a> |
      <a href="../../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../../faq.html" title="FAQ">FAQ</a> |
      <a href="../../download.html" title="Download">Download </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        <img src="../../_static/flagicons/en.png" alt="en" title="en" border="0" width="18px" height="13px"/>
        
          <a href="../../ar/mapscript/php/phpmapscript.html"><img src="../../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
        
        
          <a href="../../de/mapscript/php/phpmapscript.html"><img src="../../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
        
        
          <a href="../../el/mapscript/php/phpmapscript.html"><img src="../../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
        
        
          <a href="../../es/mapscript/php/phpmapscript.html"><img src="../../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
        
        
          <a href="../../fr/mapscript/php/phpmapscript.html"><img src="../../_static/flagicons/fr.png" alt="fr" title="fr" border="0" /></a>
        
        
          <a href="../../id/mapscript/php/phpmapscript.html"><img src="../../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
        
        
          <a href="../../it/mapscript/php/phpmapscript.html"><img src="../../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
        
        
          <a href="../../ja/mapscript/php/phpmapscript.html"><img src="../../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
        
        
          <a href="../../nl_NL/mapscript/php/phpmapscript.html"><img src="../../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
        
        
          <a href="../../pl/mapscript/php/phpmapscript.html"><img src="../../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
        
        
          <a href="../../ru/mapscript/php/phpmapscript.html"><img src="../../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
        
        
          <a href="../../sq/mapscript/php/phpmapscript.html"><img src="../../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
        
        
          <a href="../../tr/mapscript/php/phpmapscript.html"><img src="../../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
        
        
          <a href="../../uk/mapscript/php/phpmapscript.html"><img src="../../_static/flagicons/uk.png" alt="uk" title="uk" border="0" /></a>
        

    </td>
  </tr>
</table>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="migration_guide.html" title="PHP MapScript Migration Guide"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="php_intro.html" title="Introduction"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../../documentation.html" >MapServer 7.0.0 Documentation</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="../index.html" >MapScript</a> &raquo;</li>
          <li class="nav-item nav-item-3"><a href="index.html" accesskey="U">PHP MapScript</a> &raquo;</li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="php-mapscript-api">
<span id="phpmapscriptapi"></span><h1><a class="toc-backref" href="#contents">PHP MapScript API</a><a class="headerlink" href="#php-mapscript-api" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body"><p class="first">Daniel Morissette</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Contact:</th><td class="field-body"><p class="first">dmorissette at mapgears.com</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body"><p class="first">Yewondwossen Assefa</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Contact:</th><td class="field-body"><p class="first">yassefa at dmsolutions.ca</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body"><p class="first">Alan Boudreault</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Contact:</th><td class="field-body"><p class="first">aboudreault at mapgears.com</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Revision:</th><td class="field-body"><p class="first">$Revision$</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Date:</th><td class="field-body"><p class="first">$Date$</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you are using MapServer 5.6 and older, please refer
to the <a class="reference internal" href="index-5.6.html#php5-6"><span>PHP MapScript 5.6 documentation</span></a> instead.</p>
</div>
</td>
</tr>
</tbody>
</table>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#php-mapscript-api" id="id76">PHP MapScript API</a><ul>
<li><a class="reference internal" href="#important-note" id="id77">Important Note</a></li>
<li><a class="reference internal" href="#constants" id="id78">Constants</a></li>
<li><a class="reference internal" href="#functions" id="id79">Functions</a></li>
<li><a class="reference internal" href="#classes" id="id80">Classes</a><ul>
<li><a class="reference internal" href="#classobj" id="id81">classObj</a></li>
<li><a class="reference internal" href="#clusterobj" id="id82">clusterObj</a></li>
<li><a class="reference internal" href="#colorobj" id="id83">colorObj</a></li>
<li><a class="reference internal" href="#errorobj" id="id84">errorObj</a></li>
<li><a class="reference internal" href="#gridobj" id="id85">gridObj</a></li>
<li><a class="reference internal" href="#hashtableobj" id="id86">hashTableObj</a></li>
<li><a class="reference internal" href="#imageobj" id="id87">imageObj</a></li>
<li><a class="reference internal" href="#labelcachememberobj" id="id88">labelcacheMemberObj</a></li>
<li><a class="reference internal" href="#labelcacheobj" id="id89">labelcacheObj</a></li>
<li><a class="reference internal" href="#labelobj" id="id90">labelObj</a></li>
<li><a class="reference internal" href="#layerobj" id="id91">layerObj</a></li>
<li><a class="reference internal" href="#legendobj" id="id92">legendObj</a></li>
<li><a class="reference internal" href="#lineobj" id="id93">lineObj</a></li>
<li><a class="reference internal" href="#mapobj" id="id94">mapObj</a></li>
<li><a class="reference internal" href="#outputformatobj" id="id95">outputformatObj</a></li>
<li><a class="reference internal" href="#owsrequestobj" id="id96">OwsrequestObj</a></li>
<li><a class="reference internal" href="#pointobj" id="id97">pointObj</a></li>
<li><a class="reference internal" href="#projectionobj" id="id98">projectionObj</a></li>
<li><a class="reference internal" href="#querymapobj" id="id99">querymapObj</a></li>
<li><a class="reference internal" href="#rectobj" id="id100">rectObj</a></li>
<li><a class="reference internal" href="#referencemapobj" id="id101">referenceMapObj</a></li>
<li><a class="reference internal" href="#resultobj" id="id102">resultObj</a></li>
<li><a class="reference internal" href="#scalebarobj" id="id103">scalebarObj</a></li>
<li><a class="reference internal" href="#shapefileobj" id="id104">shapefileObj</a></li>
<li><a class="reference internal" href="#shapeobj" id="id105">shapeObj</a></li>
<li><a class="reference internal" href="#styleobj" id="id106">styleObj</a></li>
<li><a class="reference internal" href="#symbolobj" id="id107">symbolObj</a></li>
<li><a class="reference internal" href="#webobj" id="id108">webObj</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="important-note">
<h2><a class="toc-backref" href="#contents">Important Note</a><a class="headerlink" href="#important-note" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Constant names and class member variable names are case-sensitive in
PHP.</li>
</ul>
</div>
<div class="section" id="constants">
<span id="index-0"></span><h2><a class="toc-backref" href="#contents">Constants</a><a class="headerlink" href="#constants" title="Permalink to this headline">¶</a></h2>
<p>The following MapServer constants are available:</p>
<dl class="docutils">
<dt>Boolean values</dt>
<dd>MS_TRUE, MS_FALSE, MS_ON, MS_OFF, MS_YES, MS_NO</dd>
<dt>Map units</dt>
<dd>MS_INCHES, MS_FEET, MS_MILES, MS_METERS,
MS_KILOMETERS, MS_DD, MS_PIXELS, MS_NAUTICALMILES</dd>
<dt>Layer types</dt>
<dd>MS_LAYER_POINT, MS_LAYER_LINE, MS_LAYER_POLYGON, MS_LAYER_RASTER,
MS_LAYER_ANNOTATION (deprecated since 6.2), MS_LAYER_QUERY,
MS_LAYER_CIRCLE, MS_LAYER_TILEINDEX, MS_LAYER_CHART</dd>
<dt>Layer/Legend/Scalebar/Class Status</dt>
<dd>MS_ON, MS_OFF, MS_DEFAULT, MS_EMBED, MS_DELETE</dd>
<dt>Layer alpha transparency</dt>
<dd>allows alpha transparent pixmaps to be used with RGB map images
MS_GD_ALPHA</dd>
<dt>Label positions</dt>
<dd>MS_UL, MS_LR, MS_UR, MS_LL, MS_CR, MS_CL, MS_UC, MS_LC,
MS_CC, MS_XY, MS_AUTO, MS_AUTO2, MS_FOLLOW, MS_NONE</dd>
<dt>Bitmap font styles</dt>
<dd>MS_TINY , MS_SMALL, MS_MEDIUM, MS_LARGE, MS_GIANT</dd>
<dt>Shape types</dt>
<dd>MS_SHAPE_POINT, MS_SHAPE_LINE, MS_SHAPE_POLYGON, MS_SHAPE_NULL</dd>
<dt>Shapefile types</dt>
<dd>MS_SHP_POINT, MS_SHP_ARC, MS_SHP_POLYGON, MS_SHP_MULTIPOINT</dd>
<dt>Query/join types</dt>
<dd>MS_SINGLE, MS_MULTIPLE</dd>
<dt>Querymap styles</dt>
<dd>MS_NORMAL, MS_HILITE, MS_SELECTED</dd>
<dt>Connection Types</dt>
<dd>MS_INLINE, MS_SHAPEFILE, MS_TILED_SHAPEFILE, MS_SDE, MS_OGR,
MS_TILED_OGR, MS_POSTGIS, MS_WMS, MS_ORACLESPATIAL, MS_WFS,
MS_GRATICULE, MS_RASTER, MS_PLUGIN, MS_UNION</dd>
<dt>Error codes</dt>
<dd>MS_NOERR, MS_IOERR, MS_MEMERR, MS_TYPEERR, MS_SYMERR,
MS_REGEXERR, MS_TTFERR, MS_DBFERR, MS_GDERR, MS_IDENTERR,
MS_EOFERR, MS_PROJERR, MS_MISCERR, MS_CGIERR, MS_WEBERR,
MS_IMGERR, MS_HASHERR, MS_JOINERR, MS_NOTFOUND, MS_SHPERR,
MS_PARSEERR, MS_SDEERR, MS_OGRERR, MS_QUERYERR, MS_WMSERR,
MS_WMSCONNERR, MS_ORACLESPATIALERR, MS_WFSERR, MS_WFSCONNERR,
MS_MAPCONTEXTERR, MS_HTTPERR, MS_WCSERR</dd>
<dt>Symbol types</dt>
<dd>MS_SYMBOL_SIMPLE,  MS_SYMBOL_VECTOR, MS_SYMBOL_ELLIPSE,
MS_SYMBOL_PIXMAP, MS_SYMBOL_TRUETYPE</dd>
<dt>Image Mode types (<a class="reference internal" href="../../mapfile/outputformat.html#outputformat"><span>outputFormatObj</span></a>)</dt>
<dd>MS_IMAGEMODE_PC256, MS_IMAGEMODE_RGB, MS_IMAGEMODE_RGBA,
MS_IMAGEMODE_INT16, MS_IMAGEMODE_FLOAT32, MS_IMAGEMODE_BYTE,
MS_IMAGEMODE_FEATURE, MS_IMAGEMODE_NULL</dd>
<dt>Style/Attribue binding</dt>
<dd>MS_STYLE_BINDING_SIZE, MS_STYLE_BINDING_ANGLE,
MS_STYLE_BINDING_COLOR, MS_STYLE_BINDING_OUTLINECOLOR,
MS_STYLE_BINDING_SYMBOL, MS_STYLE_BINDING_WIDTH</dd>
<dt>Label/Attribute binding</dt>
<dd>MS_LABEL_BINDING_SIZE, MS_LABEL_BINDING_ANGLE,
MS_LABEL_BINDING_COLOR, MS_LABEL_BINDING_OUTLINECOLOR,
MS_LABEL_BINDING_FONT, MS_LABEL_BINDING_PRIORITY,
MS_LABEL_BINDING_POSITION, MS_LABEL_BINDING_SHADOWSIZEX,
MS_LABEL_BINDING_SHADOWSIZEY</dd>
<dt>Alignment</dt>
<dd>MS_ALIGN_LEFT, MS_ALIGN_CENTER, MS_ALIGN_RIGHT</dd>
<dt>OwsRequest</dt>
<dd>MS_GET_REQUEST, MS_POST_REQUEST</dd>
</dl>
</div>
<div class="section" id="functions">
<span id="index-1"></span><h2><a class="toc-backref" href="#contents">Functions</a><a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>string ms_GetVersion()</dt>
<dd>Returns the MapServer version and options in a string.  This
string can be parsed to find out which modules were compiled in,
etc.</dd>
<dt>int ms_GetVersionInt()</dt>
<dd>Returns the MapServer version number (x.y.z) as an integer
(x*10000 + y*100 + z). (New in v5.0) e.g. V5.4.3 would return
50403.</dd>
<dt>int ms_iogetStdoutBufferBytes()</dt>
<dd>Writes the current buffer to stdout.  The PHP header() function
should be used to set the documents&#8217;s content-type prior to
calling the function.  Returns the number of bytes written if
output is sent to stdout.  See <a class="reference internal" href="../../ogc/mapscript.html#mapscript-ows"><span>MapScript Wrappers for WxS Services</span></a> for more info.</dd>
<dt>void ms_iogetstdoutbufferstring()</dt>
<dd>Fetch the current stdout buffer contents as a string.  This method
does not clear the buffer.</dd>
<dt>void ms_ioinstallstdinfrombuffer()</dt>
<dd>Installs a mapserver IO handler directing future stdin reading
(ie. post request capture) to come from a buffer.</dd>
<dt>void ms_ioinstallstdouttobuffer()</dt>
<dd>Installs a mapserver IO handler directing future stdout output
to a memory buffer.</dd>
<dt>void ms_ioresethandlers()</dt>
<dd>Resets the default stdin and stdout handlers in place of &#8220;buffer&#8221;
based handlers.</dd>
<dt>string ms_iostripstdoutbuffercontenttype()</dt>
<dd>Strip the Content-type header off the stdout buffer if it has one,
and if a content type is found it is return. Otherwise return
false.</dd>
<dt>void ms_iostripstdoutbuffercontentheaders()</dt>
<dd>Strip all the Content-* headers off the stdout buffer if it has
some.</dd>
<dt>array ms_TokenizeMap(string map_file_name)</dt>
<dd>Preparses a mapfile through the MapServer parser and return an
array with one item for each token from the mapfile.  Strings,
logical expressions, regex expressions and comments are returned
as individual tokens.</dd>
</dl>
</div>
<div class="section" id="classes">
<span id="index-2"></span><h2><a class="toc-backref" href="#contents">Classes</a><a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h2>
<p>The following class objects are available through PHP MapScript.</p>
<div class="section" id="classobj">
<span id="index-3"></span><h3><a class="toc-backref" href="#contents">classObj</a><a class="headerlink" href="#classobj" title="Permalink to this headline">¶</a></h3>
<div class="section" id="constructor">
<h4>Constructor<a class="headerlink" href="#constructor" title="Permalink to this headline">¶</a></h4>
<p>Class Objects can be returned by the <a class="reference internal" href="#layerobj">layerObj</a> class, or can be
created using:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">new classObj(layerObj layer [, classObj class])</span>
</pre></div>
</div>
<p>or using the old constructor</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">classObj ms_newClassObj(layerObj layer [, classObj class])</span>
</pre></div>
</div>
<p>The second argument class is optional. If given, the new class
created will be a copy of this class.</p>
</div>
<div class="section" id="members">
<h4>Members<a class="headerlink" href="#members" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="21%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Name</th>
<th class="head">Note</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>string</td>
<td>group</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>keyimage</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>labelObj</td>
<td>label</td>
<td>Removed (6.2) - use addLabel, getLabel, ...</td>
</tr>
<tr class="row-odd"><td>double</td>
<td>maxscaledenom</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>hashTableObj</td>
<td>metadata</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>double</td>
<td>minscaledenom</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>string</td>
<td>name</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>numlabels</td>
<td>read-only (since 6.2)</td>
</tr>
<tr class="row-even"><td>int</td>
<td>numstyles</td>
<td>read-only</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>status</td>
<td>MS_ON, MS_OFF or MS_DELETE</td>
</tr>
<tr class="row-even"><td>string</td>
<td>template</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>title</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>int</td>
<td>type</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="methods">
<h4>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>int addLabel( labelObj label)</dt>
<dd><p class="first">Add a labelObj to the classObj and return its index in the labels
array.</p>
<div class="last versionadded">
<p><span class="versionmodified">New in version 6.2.</span></p>
</div>
</dd>
<dt>string convertToString()</dt>
<dd>Saves the object to a string.  Provides the inverse option for
updateFromString.</dd>
<dt>imageObj createLegendIcon(int width, int height)</dt>
<dd>Draw the legend icon and return a new imageObj.</dd>
<dt>int deletestyle(int index)</dt>
<dd>Delete the style specified by the style index. If there are any
style that follow the deleted style, their index will decrease by 1.</dd>
<dt>int drawLegendIcon(int width, int height, imageObj im, int dstX, int dstY)</dt>
<dd>Draw the legend icon on im object at dstX, dstY.
Returns MS_SUCCESS/MS_FAILURE.</dd>
<dt>void free()</dt>
<dd>Free the object properties and break the internal references.
Note that you have to unset the php variable to free totally the
resources.</dd>
<dt>string getExpressionString()</dt>
<dd>Returns the <a class="reference internal" href="../../mapfile/expressions.html#expressions"><span>expression</span></a> string for the class
object.</dd>
<dt>labelObj getLabel(int index)</dt>
<dd><p class="first">Return a reference to the labelObj at <em>index</em> in the labels array.</p>
<p>See the <a class="reference internal" href="#labelobj">labelObj</a> section for more details on multiple class
labels.</p>
<div class="last versionadded">
<p><span class="versionmodified">New in version 6.2.</span></p>
</div>
</dd>
<dt>int getMetaData(string name)</dt>
<dd><p class="first">Fetch class metadata entry by name.  Returns &#8220;&#8221; if no entry
matches the name.  Note that the search is case sensitive.</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">getMetaData&#8217;s query is case sensitive.</p>
</div>
</dd>
<dt>styleObj getStyle(int index)</dt>
<dd>Return the style object using an index. index &gt;= 0 &amp;&amp;
index &lt; class-&gt;numstyles.</dd>
<dt>string getTextString()</dt>
<dd>Returns the text string for the class object.</dd>
<dt>int movestyledown(int index)</dt>
<dd>The style specified by the style index will be moved down into
the array of classes. Returns MS_SUCCESS or MS_FAILURE.
ex class-&gt;movestyledown(0) will have the effect of moving style 0
up to position 1, and the style at position 1 will be moved
to position 0.</dd>
<dt>int movestyleup(int index)</dt>
<dd>The style specified by the style index will be moved up into
the array of classes. Returns MS_SUCCESS or MS_FAILURE.
ex class-&gt;movestyleup(1) will have the effect of moving style 1
up to position 0, and the style at position 0 will be moved
to position 1.</dd>
<dt>labelObj removeLabel(int index)</dt>
<dd><p class="first">Remove the labelObj at <em>index</em> from the labels array and return a
reference to the labelObj.  numlabels is decremented, and the
array is updated.</p>
<div class="last versionadded">
<p><span class="versionmodified">New in version 6.2.</span></p>
</div>
</dd>
<dt>int removeMetaData(string name)</dt>
<dd>Remove a metadata entry for the class.  Returns MS_SUCCESS/MS_FAILURE.</dd>
<dt>int set(string property_name, new_value)</dt>
<dd>Set object property to a new value.</dd>
<dt>int setExpression(string expression)</dt>
<dd>Set the <a class="reference internal" href="../../mapfile/expressions.html#expressions"><span>expression</span></a> string for the class
object.</dd>
<dt>int setMetaData(string name, string value)</dt>
<dd>Set a metadata entry for the class.  Returns MS_SUCCESS/MS_FAILURE.</dd>
<dt>int settext(string text)</dt>
<dd>Set the text string for the class object.</dd>
<dt>int updateFromString(string snippet)</dt>
<dd><p class="first">Update a class from a string snippet. Returns MS_SUCCESS/MS_FAILURE.</p>
<div class="last highlight-php"><div class="highlight"><pre><span></span><span class="x">/*set the color */</span>
<span class="x">$oClass-&gt;updateFromString(&#39;CLASS STYLE COLOR 255 0 255 END END&#39;);</span>
</pre></div>
</div>
</dd>
</dl>
</div>
</div>
<div class="section" id="clusterobj">
<span id="index-4"></span><h3><a class="toc-backref" href="#contents">clusterObj</a><a class="headerlink" href="#clusterobj" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id1">
<h4>Constructor<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<p>Instance of clusterObj is always embedded inside the <a class="reference internal" href="#layerobj">layerObj</a>.</p>
</div>
<div class="section" id="id2">
<h4>Members<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="81%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Name</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>double</td>
<td>buffer</td>
</tr>
<tr class="row-odd"><td>double</td>
<td>maxdistance</td>
</tr>
<tr class="row-even"><td>string</td>
<td>region</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id3">
<h4>Methods<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>string convertToString()</dt>
<dd>Saves the object to a string.  Provides the inverse option for
updateFromString.</dd>
<dt>string getFilterString()</dt>
<dd>Returns the <a class="reference internal" href="../../mapfile/expressions.html#expressions"><span>expression</span></a> for this cluster
filter or NULL on error.</dd>
<dt>string getGroupString()</dt>
<dd>Returns the <a class="reference internal" href="../../mapfile/expressions.html#expressions"><span>expression</span></a> for this cluster group
or NULL on error.</dd>
<dt>int setFilter(string expression)</dt>
<dd>Set layer filter <a class="reference internal" href="../../mapfile/expressions.html#expressions"><span>expression</span></a>.</dd>
<dt>int setGroup(string expression)</dt>
<dd>Set layer group <a class="reference internal" href="../../mapfile/expressions.html#expressions"><span>expression</span></a>.</dd>
</dl>
</div>
</div>
<div class="section" id="colorobj">
<span id="index-5"></span><h3><a class="toc-backref" href="#contents">colorObj</a><a class="headerlink" href="#colorobj" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id4">
<h4>Constructor<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<p>Instances of colorObj are always embedded inside other classes.</p>
</div>
<div class="section" id="id5">
<h4>Members<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="81%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Name</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>int</td>
<td>red</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>green</td>
</tr>
<tr class="row-even"><td>int</td>
<td>blue</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>alpha</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id6">
<h4>Methods<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>int setRGB(int red, int green, int blue, int alpha = 255)</dt>
<dd>Set red, green, blue and alpha values. Returns MS_SUCCESS.</dd>
<dt>string toHex()</dt>
<dd>Get the color as a hex string &#8220;#rrggbb&#8221; or (if alpha is not 255)
&#8220;#rrggbbaa&#8221;.</dd>
<dt>int setHex(string hex)</dt>
<dd>Set red, green, blue and alpha values. The hex string should have the form
&#8220;#rrggbb&#8221; (alpha will be set to 255) or &#8220;#rrggbbaa&#8221;. Returns MS_SUCCESS.</dd>
</dl>
</div>
</div>
<div class="section" id="errorobj">
<span id="index-6"></span><h3><a class="toc-backref" href="#contents">errorObj</a><a class="headerlink" href="#errorobj" title="Permalink to this headline">¶</a></h3>
<p>Instances of errorObj are created internally by MapServer as errors
happen.  Errors are managed as a chained list with the first item being
the most recent error.  The head of the list can be fetched using
ms_GetErrorObj(), and the list can be cleared using ms_ResetErrorList()</p>
<div class="section" id="id7">
<h4>Functions<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>errorObj ms_GetErrorObj()</dt>
<dd>Returns a reference to the head of the list of errorObj.</dd>
<dt>void ms_ResetErrorList()</dt>
<dd>Clear the current error list.
Note that clearing the list invalidates any errorObj handles obtained
via the $error-&gt;next() method.</dd>
</dl>
</div>
<div class="section" id="id8">
<h4>Members<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="81%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Name</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>int</td>
<td>code      //See error code constants above</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>message</td>
</tr>
<tr class="row-even"><td>string</td>
<td>routine</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="method">
<h4>Method<a class="headerlink" href="#method" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>errorObj next()</dt>
<dd>Returns the next errorObj in the list, or NULL if we reached the end
of the list.</dd>
</dl>
</div>
<div class="section" id="example">
<h4>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h4>
<p>This example draws a map and reports all errors generated during
the draw() call, errors can potentially come from multiple layers.</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">ms_ResetErrorList();</span>
<span class="x">$img = $map-&gt;draw();</span>
<span class="x">$error = ms_GetErrorObj();</span>
<span class="x">while($error &amp;&amp; $error-&gt;code != MS_NOERR)</span>
<span class="x">{</span>
<span class="x">  printf(&quot;Error in %s: %s&lt;br&gt;\n&quot;, $error-&gt;routine, $error-&gt;message);</span>
<span class="x">  $error = $error-&gt;next();</span>
<span class="x">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="gridobj">
<span id="index-7"></span><h3><a class="toc-backref" href="#contents">gridObj</a><a class="headerlink" href="#gridobj" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id9">
<h4>Constructor<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h4>
<p>The grid is always embedded inside a layer object defined as
a grid (layer-&gt;connectiontype = MS_GRATICULE)
(for more docs : <a class="reference external" href="https://github.com/mapserver/mapserver/wiki/MapServerGrid">https://github.com/mapserver/mapserver/wiki/MapServerGrid</a>)</p>
<p>A layer can become a grid layer by adding a grid object to it using :
ms_newGridObj(layerObj layer)</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">$oLayer = ms_newlayerobj($oMap);</span>
<span class="x">$oLayer-&gt;set(&quot;name&quot;, &quot;GRID&quot;);</span>
<span class="x">ms_newgridobj($oLayer);</span>
<span class="x">$oLayer-&gt;grid-&gt;set(&quot;labelformat&quot;, &quot;DDMMSS&quot;);</span>
</pre></div>
</div>
</div>
<div class="section" id="id10">
<h4>Members<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="81%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Name</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>string</td>
<td>labelformat</td>
</tr>
<tr class="row-odd"><td>double</td>
<td>maxacrs</td>
</tr>
<tr class="row-even"><td>double</td>
<td>maxinterval</td>
</tr>
<tr class="row-odd"><td>double</td>
<td>maxsubdivide</td>
</tr>
<tr class="row-even"><td>double</td>
<td>minarcs</td>
</tr>
<tr class="row-odd"><td>double</td>
<td>mininterval</td>
</tr>
<tr class="row-even"><td>double</td>
<td>minsubdivide</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id11">
<h4>Methods<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>int set(string property_name, new_value)</dt>
<dd>Set object property to a new value.</dd>
</dl>
</div>
</div>
<div class="section" id="hashtableobj">
<span id="index-8"></span><h3><a class="toc-backref" href="#contents">hashTableObj</a><a class="headerlink" href="#hashtableobj" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id12">
<h4>Constructor<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h4>
<p>Instance of hashTableObj is always embedded inside the <a class="reference internal" href="#classobj">classObj</a>,
<a class="reference internal" href="#layerobj">layerObj</a>, <a class="reference internal" href="#mapobj">mapObj</a> and <a class="reference internal" href="#webobj">webObj</a>. It is uses a read only.</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">$hashTable = $oLayer-&gt;metadata;</span>
<span class="x">$key = null;</span>
<span class="x">while ($key = $hashTable-&gt;nextkey($key))</span>
<span class="x">  echo &quot;Key: &quot;.$key.&quot; value: &quot;.$hashTable-&gt;get($key).&quot;&lt;br/&gt;&quot;;</span>
</pre></div>
</div>
</div>
<div class="section" id="id13">
<h4>Methods<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>void clear()</dt>
<dd>Clear all items in the hashTable (To NULL).</dd>
<dt>string get(string key)</dt>
<dd>Fetch class metadata entry by name.  Returns &#8220;&#8221; if no entry
matches the name.  Note that the search is case sensitive.</dd>
<dt>string nextkey(string previousKey)</dt>
<dd>Return the next key or first key if previousKey = NULL.
Return NULL if no item is in the hashTable or end of hashTable is
reached</dd>
<dt>int remove(string key)</dt>
<dd>Remove a metadata entry in the hashTable.  Returns MS_SUCCESS/MS_FAILURE.</dd>
<dt>int set(string key, string value)</dt>
<dd>Set a metadata entry in the hashTable. Returns MS_SUCCESS/MS_FAILURE.</dd>
</dl>
</div>
</div>
<div class="section" id="imageobj">
<span id="index-9"></span><h3><a class="toc-backref" href="#contents">imageObj</a><a class="headerlink" href="#imageobj" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id14">
<h4>Constructor<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h4>
<p>Instances of imageObj are always created by the <a class="reference internal" href="#mapobj">mapObj</a> class methods.</p>
</div>
<div class="section" id="id15">
<h4>Members<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="24%" />
<col width="56%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Name</th>
<th class="head">Note</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>int</td>
<td>width</td>
<td>read-only</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>height</td>
<td>read-only</td>
</tr>
<tr class="row-even"><td>int</td>
<td>resolution</td>
<td>read-only</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>resolutionfactor</td>
<td>read-only</td>
</tr>
<tr class="row-even"><td>string</td>
<td>imagepath</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>imageurl</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id16">
<h4>Methods<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>void pasteImage(imageObj srcImg, int transparentColorHex [[, int dstX, int dstY], int angle])</dt>
<dd>Copy srcImg on top of the current imageObj.
transparentColorHex is the color (in 0xrrggbb format) from srcImg
that should be considered transparent (i.e. those pixels won&#8217;t
be copied).  Pass -1 if you don&#8217;t want any transparent color.
If optional dstx,dsty are provided then it defines the position
where the image should be copied (dstx,dsty = top-left corner
position).
The optional angle is a value between 0 and 360 degrees to rotate
the source image counterclockwise.  Note that if an angle is specified
(even if its value is zero) then the dstx and dsty coordinates
specify the CENTER of the destination area.
Note: this function works only with 8 bits GD images (PNG or GIF).</dd>
<dt>int saveImage([string filename, MapObj oMap])</dt>
<dd>Writes image object to specified filename.
Passing no filename or an empty filename sends output to stdout.  In
this case, the PHP header() function should be used to set the
document&#8217;s content-type prior to calling saveImage().  The output
format is the one that is currently selected in the map file.  The
second argument oMap is not manadatory. It is usful when saving to
formats like GTIFF that needs georeference information contained in
the map file. On success, it returns either MS_SUCCESS if writing to an
external file, or the number of bytes written if output is sent to
stdout.</dd>
<dt>string saveWebImage()</dt>
<dd>Writes image to temp directory.  Returns image URL.
The output format is the one that is currently selected in the
map file.</dd>
</dl>
</div>
</div>
<div class="section" id="labelcachememberobj">
<span id="index-10"></span><h3><a class="toc-backref" href="#contents">labelcacheMemberObj</a><a class="headerlink" href="#labelcachememberobj" title="Permalink to this headline">¶</a></h3>
<p>Accessible only through the <a class="reference internal" href="#mapobj">mapObj</a> (map-&gt;getLabel()).</p>
<div class="section" id="id17">
<h4>Members<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="18%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Name</th>
<th class="head">Note</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>int</td>
<td>classindex</td>
<td>read-only</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>featuresize</td>
<td>read-only</td>
</tr>
<tr class="row-even"><td>int</td>
<td>layerindex</td>
<td>read-only</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>markerid</td>
<td>read-only</td>
</tr>
<tr class="row-even"><td>int</td>
<td>numstyles</td>
<td>read-only</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>shapeindex</td>
<td>read-only</td>
</tr>
<tr class="row-even"><td>int</td>
<td>status</td>
<td>read-only</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>text</td>
<td>read-only</td>
</tr>
<tr class="row-even"><td>int</td>
<td>tileindex</td>
<td>read-only</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id18">
<h4>Method<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h4>
<p>None</p>
</div>
</div>
<div class="section" id="labelcacheobj">
<span id="index-11"></span><h3><a class="toc-backref" href="#contents">labelcacheObj</a><a class="headerlink" href="#labelcacheobj" title="Permalink to this headline">¶</a></h3>
<p>Accessible only through the <a class="reference internal" href="#mapobj">mapObj</a> (map-&gt;labelcache). This object
is only used to give the possibility to free the label cache
(map-&gt;labelcache-&gt;freeCache())</p>
<div class="section" id="id19">
<h4>Method<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>boolean freeCache()</dt>
<dd>Free the label cache. Always returns MS_SUCCESS.
Ex : map-&gt;labelcache-&gt;freeCache();</dd>
</dl>
</div>
</div>
<div class="section" id="labelobj">
<span id="index-12"></span><h3><a class="toc-backref" href="#contents">labelObj</a><a class="headerlink" href="#labelobj" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id20">
<h4>Constructor<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h4>
<p>labelObj are always embedded inside other classes.</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">new labelObj()</span>
</pre></div>
</div>
</div>
<div class="section" id="id21">
<h4>Members<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="81%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Name</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>int</td>
<td>align</td>
</tr>
<tr class="row-odd"><td>double</td>
<td>angle</td>
</tr>
<tr class="row-even"><td>int</td>
<td>anglemode</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>antialias</td>
</tr>
<tr class="row-even"><td>int</td>
<td>autominfeaturesize</td>
</tr>
<tr class="row-odd"><td>colorObj</td>
<td>backgroundcolor (deprecated since 6.0)</td>
</tr>
<tr class="row-even"><td>colorObj</td>
<td>backgroundshadowcolor (deprecated since 6.0)</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>backgroundshadowsizex (deprecated since 6.0)</td>
</tr>
<tr class="row-even"><td>int</td>
<td>backgroundshadowsizey (deprecated since 6.0)</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>buffer</td>
</tr>
<tr class="row-even"><td>colorObj</td>
<td>color</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>encoding</td>
</tr>
<tr class="row-even"><td>string</td>
<td>font</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>force</td>
</tr>
<tr class="row-even"><td>int</td>
<td>maxlength</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>maxsize</td>
</tr>
<tr class="row-even"><td>int</td>
<td>mindistance</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>minfeaturesize</td>
</tr>
<tr class="row-even"><td>int</td>
<td>minlength</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>minsize</td>
</tr>
<tr class="row-even"><td>int</td>
<td>numstyles</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>offsetx</td>
</tr>
<tr class="row-even"><td>int</td>
<td>offsety</td>
</tr>
<tr class="row-odd"><td>colorObj</td>
<td>outlinecolor</td>
</tr>
<tr class="row-even"><td>int</td>
<td>outlinewidth</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>partials</td>
</tr>
<tr class="row-even"><td>int</td>
<td>position</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>priority</td>
</tr>
<tr class="row-even"><td>int</td>
<td>repeatdistance</td>
</tr>
<tr class="row-odd"><td>colorObj</td>
<td>shadowcolor</td>
</tr>
<tr class="row-even"><td>int</td>
<td>shadowsizex</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>shadowsizey</td>
</tr>
<tr class="row-even"><td>int</td>
<td>size</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>wrap</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id22">
<h4>Methods<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>string convertToString()</dt>
<dd>Saves the object to a string.  Provides the inverse option for
updateFromString.</dd>
<dt>int deleteStyle(int index)</dt>
<dd>Delete the style specified by the style index. If there are any
style that follow the deleted style, their index will decrease by 1.</dd>
<dt>void free()</dt>
<dd>Free the object properties and break the internal references.
Note that you have to unset the php variable to free totally the
resources.</dd>
<dt>string getBinding(const labelbinding)</dt>
<dd><p class="first">Get the attribute binding for a specified label property. Returns
NULL if there is no binding for this property.</p>
<p>Example:</p>
<div class="last highlight-php"><div class="highlight"><pre><span></span><span class="x">$oLabel-&gt;setbinding(MS_LABEL_BINDING_COLOR, &quot;FIELD_NAME_COLOR&quot;);</span>
<span class="x">echo $oLabel-&gt;getbinding(MS_LABEL_BINDING_COLOR); // FIELD_NAME_COLOR</span>
</pre></div>
</div>
</dd>
<dt>string getExpressionString()</dt>
<dd>Returns the label expression string.</dd>
<dt>styleObj getStyle(int index)</dt>
<dd>Return the style object using an index. index &gt;= 0 &amp;&amp;
index &lt; label-&gt;numstyles.</dd>
<dt>string getTextString()</dt>
<dd>Returns the label text string.</dd>
<dt>int moveStyleDown(int index)</dt>
<dd>The style specified by the style index will be moved down into
the array of classes. Returns MS_SUCCESS or MS_FAILURE.
ex label-&gt;movestyledown(0) will have the effect of moving style 0
up to position 1, and the style at position 1 will be moved
to position 0.</dd>
<dt>int moveStyleUp(int index)</dt>
<dd>The style specified by the style index will be moved up into
the array of classes. Returns MS_SUCCESS or MS_FAILURE.
ex label-&gt;movestyleup(1) will have the effect of moving style 1
up to position 0, and the style at position 0 will be moved
to position 1.</dd>
<dt>int removeBinding(const labelbinding)</dt>
<dd><p class="first">Remove the attribute binding for a specfiled style property.</p>
<p>Example:</p>
<div class="last highlight-php"><div class="highlight"><pre><span></span><span class="x">$oStyle-&gt;removebinding(MS_LABEL_BINDING_COLOR);</span>
</pre></div>
</div>
</dd>
<dt>int set(string property_name, new_value)</dt>
<dd>Set object property to a new value.</dd>
<dt>int setBinding(const labelbinding, string value)</dt>
<dd><p class="first">Set the attribute binding for a specified label property.</p>
<p>Example:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">$oLabel-&gt;setbinding(MS_LABEL_BINDING_COLOR, &quot;FIELD_NAME_COLOR&quot;);</span>
</pre></div>
</div>
<p class="last">This would bind the color parameter with the data (ie will extract
the value of the color from the field called &#8220;FIELD_NAME_COLOR&#8221;</p>
</dd>
<dt>int setExpression( string expression )</dt>
<dd>Set the label expression.</dd>
<dt>int setText( string text )</dt>
<dd>Set the label text.</dd>
<dt>int updateFromString(string snippet)</dt>
<dd>Update a label from a string snippet. Returns MS_SUCCESS/MS_FAILURE.</dd>
</dl>
</div>
</div>
<div class="section" id="layerobj">
<span id="index-13"></span><h3><a class="toc-backref" href="#contents">layerObj</a><a class="headerlink" href="#layerobj" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id23">
<h4>Constructor<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h4>
<p>Layer Objects can be returned by the <a class="reference internal" href="#mapobj">mapObj</a> class, or can be
created using:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">layerObj ms_newLayerObj(MapObj map [, layerObj layer])</span>
</pre></div>
</div>
<p>A second optional argument can be given to ms_newLayerObj() to create
the new layer as a copy of an existing layer. If a layer is given as
argument then all members of a this layer will be copied in the new
layer created.</p>
</div>
<div class="section" id="id24">
<h4>Members<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="21%" />
<col width="62%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Name</th>
<th class="head">Note</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>int</td>
<td>annotate</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>hashTableObj</td>
<td>bindvals</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>string</td>
<td>classgroup</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>classitem</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>clusterObj</td>
<td>cluster</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>connection</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>int</td>
<td>connectiontype</td>
<td>read-only, use setConnectionType() to set it</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>data</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>int</td>
<td>debug</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>dump</td>
<td>deprecated since 6.0</td>
</tr>
<tr class="row-even"><td>string</td>
<td>filteritem</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>footer</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>gridObj</td>
<td>grid</td>
<td>only available on a layer defined as grid (MS_GRATICULE)</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>group</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>string</td>
<td>header</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>index</td>
<td>read-only</td>
</tr>
<tr class="row-even"><td>int</td>
<td>labelcache</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>labelitem</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>double</td>
<td>labelmaxscaledenom</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>double</td>
<td>labelminscaledenom</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>string</td>
<td>labelrequires</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>mask</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>int</td>
<td>maxfeatures</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>double</td>
<td>maxscaledenom</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>hashTableObj</td>
<td>metadata</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>double</td>
<td>minscaledenom</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>string</td>
<td>name</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>num_processing</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>int</td>
<td>numclasses</td>
<td>read-only</td>
</tr>
<tr class="row-odd"><td>colorObj</td>
<td>offsite</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>int</td>
<td>opacity</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>projectionObj</td>
<td>projection</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>int</td>
<td>postlabelcache</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>requires</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>int</td>
<td>sizeunits</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>startindex</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>int</td>
<td>status</td>
<td>MS_ON, MS_OFF, MS_DEFAULT or MS_DELETE</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>styleitem</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>double</td>
<td>symbolscaledenom</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>template</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>string</td>
<td>tileindex</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>tileitem</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>double</td>
<td>tolerance</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>toleranceunits</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>int</td>
<td>transform</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>type</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id25">
<h4>Methods<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>int addFeature(shapeObj shape)</dt>
<dd>Add a new feature in a layer. Returns MS_SUCCESS or MS_FAILURE on
error.</dd>
<dt>int applySLD(string sldxml, string namedlayer)</dt>
<dd>Apply the <a class="reference internal" href="../../ogc/sld.html#sld"><span>SLD</span></a> document to the layer object.
The matching between the sld document and the layer will be done
using the layer&#8217;s name.
If a namedlayer argument is passed (argument is optional),
the NamedLayer in the sld that matchs it will be used to style
the layer.
See <a class="reference internal" href="../../ogc/sld.html#sld"><span>SLD HowTo</span></a> for more information on the SLD support.</dd>
<dt>int applySLDURL(string sldurl, string namedlayer)</dt>
<dd>Apply the <a class="reference internal" href="../../ogc/sld.html#sld"><span>SLD</span></a> document pointed by the URL to the
layer object. The matching between the sld document and the layer
will be done using the layer&#8217;s name.  If a namedlayer argument is
passed (argument is optional), the NamedLayer in the sld that
matchs it will be used to style the layer.  See <a class="reference internal" href="../../ogc/sld.html#sld"><span>SLD HowTo</span></a> for more information on the SLD support.</dd>
<dt>void clearProcessing()</dt>
<dd>Clears all the processing strings.</dd>
<dt>void close()</dt>
<dd>Close layer previously opened with open().</dd>
<dt>string convertToString()</dt>
<dd>Saves the object to a string.  Provides the inverse option for
updateFromString.</dd>
<dt>int draw(imageObj image)</dt>
<dd>Draw a single layer, add labels to cache if required.
Returns MS_SUCCESS or MS_FAILURE on error.</dd>
<dt>int drawQuery(imageObj image)</dt>
<dd>Draw query map for a single layer.</dd>
<dt>string   executeWFSGetfeature()</dt>
<dd>Executes a GetFeature request on a WFS layer and returns the
name of the temporary GML file created. Returns an empty
string on error.</dd>
<dt>void free()</dt>
<dd>Free the object properties and break the internal references.
Note that you have to unset the php variable to free totally the
resources.</dd>
<dt>string generateSLD()</dt>
<dd>Returns an SLD XML string based on all the classes found in the
layer (the layer must have <cite>STATUS</cite> <cite>on</cite>).</dd>
<dt>classObj getClass(int classIndex)</dt>
<dd>Returns a classObj from the layer given an index value (0=first class)</dd>
<dt>int getClassIndex(shape [, classgroup,  numclasses])</dt>
<dd>Get the class index of a shape for a given scale. Returns -1 if no
class matches. classgroup is an array of class ids to check
(Optional). numclasses is the number of classes that the classgroup
array contains. By default, all the layer classes will be checked.</dd>
<dt>rectObj getExtent()</dt>
<dd>Returns the layer&#8217;s data extents or NULL on error.
If the layer&#8217;s EXTENT member is set then this value is used,
otherwise this call opens/closes the layer to read the
extents. This is quick on shapefiles, but can be
an expensive operation on some file formats or data sources.
This function is safe to use on both opened or closed layers: it
is not necessary to call open()/close() before/after calling it.</dd>
<dt>string getFilterString()</dt>
<dd>Returns the <a class="reference internal" href="../../mapfile/expressions.html#expressions"><span>expression</span></a> for this layer or NULL
on error.</dd>
<dt>array getGridIntersectionCoordinates()</dt>
<dd>Returns an array containing the grid intersection coordinates. If
there are no coordinates, it returns an empty array.</dd>
<dt>array getItems()</dt>
<dd>Returns an array containing the items. Must call open function first.
If there are no items, it returns an empty array.</dd>
<dt>int getMetaData(string name)</dt>
<dd><p class="first">Fetch layer metadata entry by name.  Returns &#8220;&#8221; if no entry
matches the name.  Note that the search is case sensitive.</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">getMetaData&#8217;s query is case sensitive.</p>
</div>
</dd>
<dt>int getNumResults()</dt>
<dd>Returns the number of results in the last query.</dd>
<dt>array getProcessing()</dt>
<dd>Returns an array containing the processing strings.
If there are no processing strings, it returns an empty array.</dd>
<dt>string getProjection()</dt>
<dd>Returns a string representation of the <a class="reference internal" href="../../mapfile/projection.html#projection"><span>projection</span></a>.
Returns NULL on error or if no projection is set.</dd>
<dt>resultObj getResult(int index)</dt>
<dd>Returns a resultObj by index from a layer object with
index in the range 0 to numresults-1.
Returns a valid object or FALSE(0) if index is invalid.</dd>
<dt>rectObj getResultsBounds()</dt>
<dd>Returns the bounding box of the latest result.</dd>
<dt>shapeObj getShape(resultObj result])</dt>
<dd><p class="first">If the resultObj passed has a valid resultindex, retrieve shapeObj from
a layer&#8217;s resultset. (You get it from the resultObj returned by
getResult() for instance). Otherwise, it will do a single query on
the layer to fetch the shapeindex</p>
<div class="last highlight-php"><div class="highlight"><pre><span></span><span class="x">$map = new mapObj(&quot;gmap75.map&quot;);</span>
<span class="x">$l = $map-&gt;getLayerByName(&quot;popplace&quot;);</span>
<span class="x">$l-&gt;queryByRect($map-&gt;extent);</span>
<span class="x">for ($i=0; $i&lt;$l-&gt;getNumResults();$i++){</span>
<span class="x">  $s = $l-&gt;getShape($l-&gt;getResult($i));</span>
<span class="x">  echo $s-&gt;getValue($l,&quot;Name&quot;);</span>
<span class="x">  echo &quot;\n&quot;;</span>
<span class="x">}</span>
</pre></div>
</div>
</dd>
<dt>string getWMSFeatureInfoURL(int clickX, int clickY, int featureCount, string infoFormat)</dt>
<dd>Returns a WMS GetFeatureInfo URL (works only for WMS layers)
clickX, clickY is the location of to query in pixel coordinates
with (0,0) at the top left of the image.
featureCount is the number of results to return.
infoFormat is the format the format in which the result should be
requested.  Depends on remote server&#8217;s capabilities.  MapServer
WMS servers support only &#8220;MIME&#8221; (and should support &#8220;GML.1&#8221; soon).
Returns &#8220;&#8221; and outputs a warning if layer is not a WMS layer
or if it is not queriable.</dd>
<dt>boolean isVisible()</dt>
<dd>Returns MS_TRUE/MS_FALSE depending on whether the layer is
currently visible in the map (i.e. turned on, in scale, etc.).</dd>
<dt>int moveclassdown(int index)</dt>
<dd>The class specified by the class index will be moved down into
the array of layers. Returns MS_SUCCESS or MS_FAILURE.
ex layer-&gt;moveclassdown(0) will have the effect of moving class 0
up to position 1, and the class at position 1 will be moved
to position 0.</dd>
<dt>int moveclassup(int index)</dt>
<dd>The class specified by the class index will be moved up into
the array of layers. Returns MS_SUCCESS or MS_FAILURE.
ex layer-&gt;moveclassup(1) will have the effect of moving class 1
up to position 0, and the class at position 0 will be moved
to position 1.</dd>
<dt>int open()</dt>
<dd>Open the layer for use with getShape().
Returns MS_SUCCESS/MS_FAILURE.</dd>
<dt>shapeobj nextShape()</dt>
<dd><p class="first">Called after msWhichShapes has been called to actually retrieve
shapes within a given area. Returns a shape object or NULL on
error.</p>
<div class="last highlight-php"><div class="highlight"><pre><span></span><span class="x">$map = ms_newmapobj(&quot;d:/msapps/gmap-ms40/htdocs/gmap75.map&quot;);</span>
<span class="x">$layer = $map-&gt;getLayerByName(&#39;road&#39;);</span>
<span class="x">$status = $layer-&gt;open();</span>
<span class="x">$status = $layer-&gt;whichShapes($map-&gt;extent);</span>
<span class="x">while ($shape = $layer-&gt;nextShape())</span>
<span class="x">{</span>
<span class="x">  echo $shape-&gt;index .&quot;&lt;br&gt;\n&quot;;</span>
<span class="x">}</span>
<span class="x">$layer-&gt;close();</span>
</pre></div>
</div>
</dd>
<dt>int queryByAttributes(string qitem, string qstring, int mode)</dt>
<dd>Query layer for shapes that intersect current map extents.  qitem
is the item (attribute) on which the query is performed, and
qstring is the expression to match.  The query is performed on all
the shapes that are part of a <a class="reference internal" href="../../mapfile/class.html#class"><span>CLASS</span></a> that contains a
<a class="reference internal" href="../../mapfile/template.html#template"><span>TEMPLATE</span></a> value or that match any class in a
layer that contains a <a class="reference internal" href="../../mapfile/layer.html#layer"><span>LAYER</span></a> <a class="reference internal" href="../../mapfile/template.html#template"><span>TEMPLATE</span></a>
value.  Note that the layer&#8217;s FILTER/FILTERITEM are ignored by
this function.  Mode is MS_SINGLE or MS_MULTIPLE depending on
number of results you want.  Returns MS_SUCCESS if shapes were
found or MS_FAILURE if nothing was found or if some other error
happened (note that the error message in case nothing was found
can be avoided in PHP using the &#8216;&#64;&#8217; control operator).</dd>
<dt>int queryByFeatures(int slayer)</dt>
<dd>Perform a query set based on a previous set of results from
another layer. At present the results MUST be based on a polygon
layer.
Returns MS_SUCCESS if shapes were found or MS_FAILURE if nothing
was found or if some other error happened (note that the error
message in case nothing was found can be avoided in PHP using
the &#8216;&#64;&#8217; control operator).</dd>
<dt>int queryByPoint(pointObj point, int mode, double buffer)</dt>
<dd>Query layer at point location specified in georeferenced map
coordinates (i.e. not pixels).
The query is performed on all the shapes that are part of a CLASS
that contains a TEMPLATE value or that match any class in a
layer that contains a LAYER TEMPLATE value.
Mode is MS_SINGLE or MS_MULTIPLE depending on number of results
you want.
Passing buffer -1 defaults to tolerances set in the map file
(in pixels) but you can use a constant buffer (specified in
ground units) instead.
Returns MS_SUCCESS if shapes were found or MS_FAILURE if nothing
was found or if some other error happened (note that the error
message in case nothing was found can be avoided in PHP using
the &#8216;&#64;&#8217; control operator).</dd>
<dt>int queryByRect(rectObj rect)</dt>
<dd>Query layer using a rectangle specified in georeferenced map
coordinates (i.e. not pixels).
The query is performed on all the shapes that are part of a CLASS
that contains a TEMPLATE value or that match any class in a
layer that contains a LAYER TEMPLATE value.
Returns MS_SUCCESS if shapes were found or MS_FAILURE if nothing
was found or if some other error happened (note that the error
message in case nothing was found can be avoided in PHP using
the &#8216;&#64;&#8217; control operator).</dd>
<dt>int queryByShape(shapeObj shape)</dt>
<dd>Query layer based on a single shape, the shape has to be a polygon
at this point.
Returns MS_SUCCESS if shapes were found or MS_FAILURE if nothing
was found or if some other error happened (note that the error
message in case nothing was found can be avoided in PHP using
the &#8216;&#64;&#8217; control operator).</dd>
<dt>classObj removeClass(int index)</dt>
<dd>Removes the class indicated and returns a copy, or NULL in the case
of a failure.  Note that subsequent classes will be renumbered by
this operation. The numclasses field contains the number of classes
available.</dd>
<dt>int removeMetaData(string name)</dt>
<dd>Remove a metadata entry for the layer.  Returns MS_SUCCESS/MS_FAILURE.</dd>
<dt>int set(string property_name, new_value)</dt>
<dd>Set object property to a new value.</dd>
<dt>int setConnectionType(int connectiontype [,string plugin_library])</dt>
<dd>Changes the connectiontype of the layer and recreates the vtable
according to the new connection type. This method should be used
instead of setting the connectiontype parameter directly.
In the case when the layer.connectiontype = MS_PLUGIN the plugin_library
parameter should also be specified so as to select the library to
load by MapServer. For the other connection types this parameter
is not used.</dd>
<dt>int setFilter(string expression)</dt>
<dd>Set layer filter <a class="reference internal" href="../../mapfile/expressions.html#expressions"><span>expression</span></a>.</dd>
<dt>int setMetaData(string name, string value)</dt>
<dd>Set a metadata entry for the layer.  Returns MS_SUCCESS/MS_FAILURE.</dd>
<dt>int setProcessing(string)</dt>
<dd><p class="first">Add the string to the processing string list for the layer.
The layer-&gt;num_processing is incremented by 1.
Returns MS_SUCCESS or MS_FAILURE on error.</p>
<div class="last highlight-php"><div class="highlight"><pre><span></span><span class="x">$oLayer-&gt;setprocessing(&quot;SCALE_1=AUTO&quot;);</span>
<span class="x">$oLayer-&gt;setprocessing(&quot;SCALE_2=AUTO&quot;);</span>
</pre></div>
</div>
</dd>
<dt>int setProjection(string proj_params)</dt>
<dd>Set layer <a class="reference internal" href="../../mapfile/projection.html#projection"><span>projection</span></a> and coordinate system.
Parameters are given as a single string of comma-delimited PROJ.4
parameters. Returns MS_SUCCESS or MS_FAILURE on error.</dd>
<dt>int setWKTProjection(string proj_params)</dt>
<dd><p class="first">Same as setProjection(), but takes an OGC WKT projection
definition string as input.</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">setWKTProjection requires GDAL support</p>
</div>
</dd>
<dt>int updateFromString(string snippet)</dt>
<dd><p class="first">Update a layer from a string snippet. Returns MS_SUCCESS/MS_FAILURE.</p>
<div class="last highlight-php"><div class="highlight"><pre><span></span><span class="x">/*modify the name */</span>
<span class="x">$oLayer-&gt;updateFromString(&#39;LAYER NAME land_fn2 END&#39;);</span>
<span class="x">/*add a new class*/</span>
<span class="x">$oLayer-&gt;updateFromString(&#39;LAYER CLASS STYLE COLOR 255 255 0 END END END&#39;);</span>
</pre></div>
</div>
</dd>
<dt>int whichshapes(rectobj)</dt>
<dd>Performs a spatial, and optionally an attribute based feature
search.  The function basically prepares things so that candidate
features can be accessed by query or drawing functions (eg using
nextshape function).  Returns MS_SUCCESS, MS_FAILURE or MS_DONE.
MS_DONE is returned if the layer extent does not overlap the
rectObj.</dd>
</dl>
</div>
</div>
<div class="section" id="legendobj">
<span id="index-14"></span><h3><a class="toc-backref" href="#contents">legendObj</a><a class="headerlink" href="#legendobj" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id26">
<h4>Constructor<a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h4>
<p>Instances of legendObj are always are always embedded inside the <a class="reference internal" href="#mapobj">mapObj</a>.</p>
</div>
<div class="section" id="id27">
<h4>Members<a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="19%" />
<col width="62%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Name</th>
<th class="head">Note</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>int</td>
<td>height</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>colorObj</td>
<td>imagecolor</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>int</td>
<td>keysizex</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>keysizey</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>int</td>
<td>keyspacingx</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>keyspacingy</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>labelObj</td>
<td>label</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>colorObj</td>
<td>outlinecolor</td>
<td>Color of outline of box, -1 for no outline</td>
</tr>
<tr class="row-even"><td>int</td>
<td>position</td>
<td>for embedded legends, MS_UL, MS_UC, ...</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>postlabelcache</td>
<td>MS_TRUE, MS_FALSE</td>
</tr>
<tr class="row-even"><td>int</td>
<td>status</td>
<td>MS_ON, MS_OFF, MS_EMBED</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>template</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>int</td>
<td>width</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id28">
<h4>Methods<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>string convertToString()</dt>
<dd>Saves the object to a string.  Provides the inverse option for
updateFromString.</dd>
<dt>void free()</dt>
<dd>Free the object properties and break the internal references.
Note that you have to unset the php variable to free totally the
resources.</dd>
<dt>int set(string property_name, new_value)</dt>
<dd>Set object property to a new value.</dd>
<dt>int updateFromString(string snippet)</dt>
<dd>Update a legend from a string snippet. Returns MS_SUCCESS/MS_FAILURE.</dd>
</dl>
</div>
</div>
<div class="section" id="lineobj">
<span id="index-15"></span><h3><a class="toc-backref" href="#contents">lineObj</a><a class="headerlink" href="#lineobj" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id29">
<h4>Constructor<a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h4>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">new lineObj()</span>
</pre></div>
</div>
<p>or using the old constructor</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">LineObj ms_newLineObj()</span>
</pre></div>
</div>
</div>
<div class="section" id="id30">
<h4>Members<a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="15%" />
<col width="65%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Name</th>
<th class="head">Note</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>int</td>
<td>numpoints</td>
<td>read-only</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id31">
<h4>Methods<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>int add(pointObj point)</dt>
<dd>Add a point to the end of line. Returns MS_SUCCESS/MS_FAILURE.</dd>
<dt>int addXY(double x, double y [, double m])</dt>
<dd><p class="first">Add a point to the end of line. Returns MS_SUCCESS/MS_FAILURE.</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">the 3rd parameter m is used for measured shape files only.
It is not mandatory.</p>
</div>
</dd>
<dt>int addXYZ(double x, double y, double z [, double m])</dt>
<dd><p class="first">Add a point to the end of line. Returns MS_SUCCESS/MS_FAILURE.</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">the 4th parameter m is used for measured shape files only.
It is not mandatory.</p>
</div>
</dd>
<dt>PointObj point(int i)</dt>
<dd>Returns a reference to point number i.</dd>
<dt>int project(projectionObj in, projectionObj out)</dt>
<dd>Project the line from &#8220;in&#8221; projection (1st argument) to &#8220;out&#8221;
projection (2nd argument).  Returns MS_SUCCESS/MS_FAILURE.</dd>
</dl>
</div>
</div>
<div class="section" id="mapobj">
<span id="index-16"></span><h3><a class="toc-backref" href="#contents">mapObj</a><a class="headerlink" href="#mapobj" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id32">
<h4>Constructor<a class="headerlink" href="#id32" title="Permalink to this headline">¶</a></h4>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">new mapObj(string map_file_name [, string new_map_path])</span>
</pre></div>
</div>
<p>or using the old constructors</p>
<dl class="docutils">
<dt>mapObj ms_newMapObj(string map_file_name [, string new_map_path])</dt>
<dd>Returns a new object to deal with a MapServer map file.</dd>
<dt>mapObj ms_newMapObjFromString(string map_file_string [, string new_map_path])</dt>
<dd>Construct a new mapObj from a mapfile string. Returns a new object to deal
with a MapServer map file.</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">By default, the SYMBOLSET, FONTSET, and other paths in the mapfile
are relative to the mapfile location.  If new_map_path is provided
then this directory will be used as the base path for all the
rewlative paths inside the mapfile.</p>
</div>
</div>
<div class="section" id="id33">
<h4>Members<a class="headerlink" href="#id33" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="23%" />
<col width="58%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Name</th>
<th class="head">Note</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>double</td>
<td>cellsize</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>debug</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>double</td>
<td>defresolution</td>
<td>pixels per inch, defaults to 72</td>
</tr>
<tr class="row-odd"><td>rectObj</td>
<td>extent;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>string</td>
<td>fontsetfilename</td>
<td>read-only, set by setFontSet()</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>height</td>
<td>see setSize()</td>
</tr>
<tr class="row-even"><td>colorObj</td>
<td>imagecolor</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>keysizex</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>int</td>
<td>keysizey</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>keyspacingx</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>int</td>
<td>keyspacingy</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>labelcacheObj</td>
<td>labelcache</td>
<td>no members. Used only to free the
label cache (map-&gt;labelcache-&gt;free()</td>
</tr>
<tr class="row-even"><td>legendObj</td>
<td>legend</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>mappath</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>int</td>
<td>maxsize</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>hashTableObj</td>
<td>metadata</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>string</td>
<td>name</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>numlayers</td>
<td>read-only</td>
</tr>
<tr class="row-even"><td>outputformatObj</td>
<td>outputformat</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>numoutputformats</td>
<td>read-only</td>
</tr>
<tr class="row-even"><td>projectionObj</td>
<td>projection</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>querymapObj</td>
<td>querymap</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>referenceMapObj</td>
<td>reference</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>double</td>
<td>resolution</td>
<td>pixels per inch, defaults to 72</td>
</tr>
<tr class="row-even"><td>scalebarObj</td>
<td>scalebar</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>double</td>
<td>scaledenom</td>
<td>read-only, set by drawMap()</td>
</tr>
<tr class="row-even"><td>string</td>
<td>shapepath</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>status</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>string</td>
<td>symbolsetfilename</td>
<td>read-only, set by setSymbolSet()</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>units</td>
<td>map units type</td>
</tr>
<tr class="row-even"><td>webObj</td>
<td>web</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>width</td>
<td>see setSize()</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id34">
<h4>Methods<a class="headerlink" href="#id34" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>int applyconfigoptions()</dt>
<dd>Applies the config options set in the map file. For example
setting the PROJ_LIB using the setconfigoption only modifies
the value in the map object. applyconfigoptions will actually
change the PROJ_LIB value that will be used when dealing with
projection.</dd>
<dt>int applySLD(string sldxml)</dt>
<dd>Apply the <a class="reference internal" href="../../ogc/sld.html#sld"><span>SLD</span></a> document to the map file. The matching between the
sld document and the map file will be done using the layer&#8217;s name.
See <a class="reference internal" href="../../ogc/sld.html#sld"><span>SLD HowTo</span></a> for more information on the SLD support.</dd>
<dt>int applySLDURL(string sldurl)</dt>
<dd>Apply the SLD document pointed by the URL to the map file. The
matching between the sld document and the map file will be done
using the layer&#8217;s name.
See <a class="reference internal" href="../../ogc/sld.html#sld"><span>SLD HowTo</span></a> for more information on the SLD support.</dd>
<dt>string convertToString()</dt>
<dd>Saves the object to a string.  Provides the inverse option for
updateFromString.</dd>
<dt>imageObj draw()</dt>
<dd>Render map and return an image object or NULL on error.</dd>
<dt>int drawLabelCache(imageObj image)</dt>
<dd>Renders the labels for a map. Returns MS_SUCCESS or MS_FAILURE on error.</dd>
<dt>imageObj drawLegend()</dt>
<dd>Render legend and return an image object.</dd>
<dt>imageObj drawQuery()</dt>
<dd>Render a query map and return an image object or NULL on error.</dd>
<dt>imageObj drawReferenceMap()</dt>
<dd>Render reference map and return an image object.</dd>
<dt>imageObj drawScaleBar()</dt>
<dd>Render scale bar and return an image object.</dd>
<dt>int embedLegend(imageObj image)</dt>
<dd>embeds a legend. Actually the legend is just added to the label
cache so you must invoke drawLabelCache() to actually do the
rendering (unless postlabelcache is set in which case it is
drawn right away). Returns MS_SUCCESS or MS_FAILURE on error.</dd>
<dt>int embedScalebar(imageObj image)</dt>
<dd>embeds a scalebar. Actually the scalebar is just added to the label
cache so you must invoke drawLabelCache() to actually do the rendering
(unless postlabelcache is set in which case it is drawn right away).
Returns MS_SUCCESS or MS_FAILURE on error.</dd>
<dt>void free()</dt>
<dd>Free the object properties and break the internal references.
Note that you have to unset the php variable to free totally the
resources.</dd>
<dt>void freeQuery(layerindex)</dt>
<dd>Frees the query result on a specified layer. If the layerindex is -1,
all queries on layers will be freed.</dd>
<dt>string generateSLD()</dt>
<dd>Returns an SLD XML string based on all the classes found in all
the layers that have <cite>STATUS</cite> <cite>on</cite>.</dd>
<dt>array getAllGroupNames()</dt>
<dd>Return an array containing all the group names used in the
layers. If there are no groups, it returns an empty array.</dd>
<dt>array getAllLayerNames()</dt>
<dd>Return an array containing all the layer names.
If there are no layers, it returns an empty array.</dd>
<dt>colorObj getColorbyIndex(int iCloIndex)</dt>
<dd>Returns a colorObj corresponding to the color index in the
palette.</dd>
<dt>string getConfigOption(string key)</dt>
<dd>Returns the config value associated with the key.
Returns an empty sting if key not found.</dd>
<dt>labelcacheMemberObj getLabel(int index)</dt>
<dd><p class="first">Returns a labelcacheMemberObj from the map given an index value
(0=first label).  Labelcache has to be enabled.</p>
<div class="last highlight-php"><div class="highlight"><pre><span></span><span class="x">while ($oLabelCacheMember = $oMap-&gt;getLabel($i)) {</span>
<span class="x">  /* do something with the labelcachemember */</span>
<span class="x">  ++$i;</span>
<span class="x">}</span>
</pre></div>
</div>
</dd>
<dt>layerObj getLayer(int index)</dt>
<dd>Returns a layerObj from the map given an index value (0=first layer)</dd>
<dt>layerObj getLayerByName(string layer_name)</dt>
<dd>Returns a layerObj from the map given a layer name.
Returns NULL if layer doesn&#8217;t exist.</dd>
<dt>array getLayersDrawingOrder()</dt>
<dd>Return an array containing layer&#8217;s index in the order which they
are drawn. If there are no layers, it returns an empty array.</dd>
<dt>array getLayersIndexByGroup(string groupname)</dt>
<dd>Return an array containing all the layer&#8217;s indexes given
a group name. If there are no layers, it returns an empty array.</dd>
<dt>int getMetaData(string name)</dt>
<dd><p class="first">Fetch metadata entry by name (stored in the <a class="reference internal" href="../../mapfile/web.html#web"><span>WEB</span></a> object in
the map file).  Returns &#8220;&#8221; if no entry matches the name.</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">getMetaData&#8217;s query is case sensitive.</p>
</div>
</dd>
<dt>int getNumSymbols()</dt>
<dd>Return the number of symbols in map.</dd>
<dt>string getProjection()</dt>
<dd>Returns a string representation of the projection.
Returns NULL on error or if no projection is set.</dd>
<dt>int getSymbolByName(string symbol_name)</dt>
<dd>Returns the symbol index using the name.</dd>
<dt>symbol getSymbolObjectById(int symbolid)</dt>
<dd>Returns the symbol object using a symbol id. Refer to
the symbol object reference section for more details.</dd>
<dt>int insertLayer( layerObj layer [, int nIndex=-1 ] )</dt>
<dd>Insert a copy of <em>layer</em> into the Map at index <em>nIndex</em>.  The
default value of <em>nIndex</em> is -1, which means the last possible
index.  Returns the index of the new Layer, or -1 in the case of a
failure.</dd>
<dt>int loadMapContext(string filename [, boolean unique_layer_name])</dt>
<dd>Available only if WMS support is enabled.  Load a <a class="reference internal" href="../../ogc/mapcontext.html#map-context"><span>WMS Map
Context</span></a> XML file into the current mapObj.  If the
map already contains some layers then the layers defined in the
WMS Map context document are added to the current map.  The 2nd
argument unique_layer_name is optional and if set to MS_TRUE
layers created will have a unique name (unique prefix added to the
name). If set to MS_FALSE the layer name will be the the same name
as in the context. The default value is MS_FALSE.  Returns
MS_SUCCESS/MS_FAILURE.</dd>
<dt>int loadOWSParameters(owsrequest request, string version)</dt>
<dd>Load OWS request parameters (BBOX, LAYERS, &amp;c.) into map.  Returns
MS_SUCCESS or MS_FAILURE.  2nd argument version is not mandatory.
If not given, the version will be set to 1.1.1</dd>
<dt>int loadQuery(filename)</dt>
<dd>Loads a query from a file. Returns MS_SUCCESS or MS_FAILURE.
To be used with savequery.</dd>
<dt>int moveLayerDown(int layerindex)</dt>
<dd>Move layer down in the hierarchy of drawing.
Returns MS_SUCCESS or MS_FAILURE on error.</dd>
<dt>int moveLayerUp(int layerindex)</dt>
<dd>Move layer up in the hierarchy of drawing.
Returns MS_SUCCESS or MS_FAILURE on error.</dd>
<dt>int offsetExtent(double x, double y)</dt>
<dd>Offset the map extent based on the given distances in map coordinates.
Returns MS_SUCCESS or MS_FAILURE.</dd>
<dt>int owsDispatch(owsrequest request)</dt>
<dd>Processes and executes the passed OpenGIS Web Services request on
the map.  Returns MS_DONE (2) if there is no valid OWS request in
the req object, MS_SUCCESS (0) if an OWS request was successfully
processed and MS_FAILURE (1) if an OWS request was not
successfully processed.  OWS requests include <a class="reference internal" href="../../ogc/wms_server.html#wms-server"><span>WMS</span></a>, <a class="reference internal" href="../../ogc/wfs_server.html#wfs-server"><span>WFS</span></a>, <a class="reference internal" href="../../ogc/wcs_server.html#wcs-server"><span>WCS</span></a>
and <a class="reference internal" href="../../ogc/sos_server.html#sos-server"><span>SOS</span></a> requests supported by MapServer.
Results of a dispatched request are written to stdout and can be
captured using the msIO services (ie. ms_ioinstallstdouttobuffer()
and ms_iogetstdoutbufferstring())</dd>
<dt>imageObj prepareImage()</dt>
<dd>Return a blank image object.</dd>
<dt>void prepareQuery()</dt>
<dd>Calculate the scale of the map and set map-&gt;scaledenom.</dd>
<dt>string processLegendTemplate(array params)</dt>
<dd><p class="first">Process legend template files and return the result in a buffer.</p>
<div class="last admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#processtemplate"><span>processtemplate</span></a></p>
</div>
</dd>
<dt>string processQueryTemplate(array params, boolean generateimages)</dt>
<dd><p class="first">Process query template files and return the result in a buffer.
Second argument generateimages is not mandatory. If not given
it will be set to TRUE.</p>
<div class="last admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#processtemplate"><span>processtemplate</span></a></p>
</div>
</dd>
</dl>
<dl class="docutils" id="processtemplate">
<dt>string processTemplate(array params, boolean generateimages)</dt>
<dd><p class="first">Process the template file specified in the web object and return the
result in a buffer. The processing consists of opening the template
file and replace all the tags found in it. Only tags that have an
equivalent element in the map object are replaced (ex [scaledenom]).
The are two exceptions to the previous statement :</p>
<ul class="simple">
<li>[img], [scalebar], [ref], [legend] would be replaced with the
appropriate url if the parameter generateimages is set to
MS_TRUE. (Note :  the images corresponding to the different objects
are generated if the object is set to MS_ON in the map file)</li>
<li>the user can use the params parameter to specify tags and
their values. For example if the user have a specific tag call
[my_tag] and would like it to be replaced by &#8220;value_of_my_tag&#8221;
he would do</li>
</ul>
<div class="last highlight-php"><div class="highlight"><pre><span></span><span class="x">$tmparray[&quot;my_tag&quot;] = &quot;value_of_my_tag&quot;;</span>
<span class="x">$map-&gt;processtemplate($tmparray, MS_FALSE);</span>
</pre></div>
</div>
</dd>
<dt>int queryByFeatures(int slayer)</dt>
<dd>Perform a query based on a previous set of results from
a layer. At present the results MUST be based on a polygon layer.
Returns MS_SUCCESS if shapes were found or MS_FAILURE if nothing
was found or if some other error happened (note that the error
message in case nothing was found can be avoided in PHP using
the &#8216;&#64;&#8217; control operator).</dd>
<dt>int queryByIndex(layerindex, tileindex, shapeindex[, addtoquery])</dt>
<dd>Add a specific shape on a given layer to the query result.
If addtoquery (which is a non mandatory argument) is set to MS_TRUE,
the shape will be added to the existing query list. Default behavior
is to free the existing query list and add only the new shape.</dd>
<dt>int queryByPoint(pointObj point, int mode, double buffer)</dt>
<dd>Query all selected layers in map at point location specified in
georeferenced map coordinates (i.e. not pixels).
The query is performed on all the shapes that are part of a <a class="reference internal" href="../../mapfile/class.html#class"><span>CLASS</span></a>
that contains a <a class="reference internal" href="../../mapfile/template.html#template"><span>Templating</span></a> value or that match any class in a
layer that contains a <a class="reference internal" href="../../mapfile/layer.html#layer"><span>LAYER</span></a> <a class="reference internal" href="../../mapfile/template.html#template"><span>TEMPLATE</span></a> value.
Mode is MS_SINGLE or MS_MULTIPLE depending on number of results
you want.
Passing buffer -1 defaults to tolerances set in the map file
(in pixels) but you can use a constant buffer (specified in
ground units) instead.
Returns MS_SUCCESS if shapes were found or MS_FAILURE if nothing
was found or if some other error happened (note that the error
message in case nothing was found can be avoided in PHP using
the &#8216;&#64;&#8217; control operator).</dd>
<dt>int queryByRect(rectObj rect)</dt>
<dd>Query all selected layers in map using a rectangle specified in
georeferenced map coordinates (i.e. not pixels).  The query is
performed on all the shapes that are part of a <a class="reference internal" href="../../mapfile/class.html#class"><span>CLASS</span></a> that
contains a <a class="reference internal" href="../../mapfile/template.html#template"><span>Templating</span></a> value or that match any class in a
layer that contains a <a class="reference internal" href="../../mapfile/layer.html#layer"><span>LAYER</span></a> <a class="reference internal" href="../../mapfile/template.html#template"><span>TEMPLATE</span></a>
value.  Returns MS_SUCCESS if shapes were found or MS_FAILURE if
nothing was found or if some other error happened (note that the
error message in case nothing was found can be avoided in PHP
using the &#8216;&#64;&#8217; control operator).</dd>
<dt>int queryByShape(shapeObj shape)</dt>
<dd>Query all selected layers in map based on a single shape, the
shape has to be a polygon at this point.
Returns MS_SUCCESS if shapes were found or MS_FAILURE if nothing
was found or if some other error happened (note that the error
message in case nothing was found can be avoided in PHP using
the &#8216;&#64;&#8217; control operator).</dd>
<dt>layerObj removeLayer( int nIndex )</dt>
<dd>Remove a layer from the mapObj. The argument is the index of the
layer to be removed. Returns the removed layerObj on success, else
null.</dd>
<dt>int removeMetaData(string name)</dt>
<dd>Remove a metadata entry for the map (stored in the WEB object in the map
file).  Returns MS_SUCCESS/MS_FAILURE.</dd>
<dt>int save(string filename)</dt>
<dd>Save current map object state to a file. Returns -1 on error.
Use absolute path. If a relative path is used, then it will be
relative to the mapfile location.</dd>
<dt>int saveMapContext(string filename)</dt>
<dd>Available only if WMS support is enabled.  Save current map object
state in <a class="reference internal" href="../../ogc/mapcontext.html#map-context"><span>WMS Map Context</span></a> format.  Only WMS
layers are saved in the WMS Map Context XML file.  Returns
MS_SUCCESS/MS_FAILURE.</dd>
<dt>int saveQuery(string filename[, int results])</dt>
<dd>Save the current query in a file. Results determines the save format -
MS_TRUE (or 1/true) saves the query results (tile index and shape index),
MS_FALSE (or 0/false) the query parameters (and the query will be re-run
in loadquery). Returns MS_SUCCESS or MS_FAILURE. Either save format can be
used with loadquery. See RFC 65 and ticket #3647 for details of different
save formats.</dd>
<dt>int scaleExtent(double zoomfactor, double minscaledenom, double maxscaledenom)</dt>
<dd>Scale the map extent using the zoomfactor and ensure the extent
within the minscaledenom and maxscaledenom domain.  If
minscaledenom and/or maxscaledenom is 0 then the parameter is not
taken into account.  Returns MS_SUCCESS or MS_FAILURE.</dd>
<dt>int selectOutputFormat(string type)</dt>
<dd><p class="first">Selects the output format to be used in the map.
Returns MS_SUCCESS/MS_FAILURE.</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">the type used should correspond to one of the output formats
declared in the map file.  The type argument passed is compared
with the mimetype parameter in the output format structure and
then to the name parameter in the structure.</p>
</div>
</dd>
<dt>int appendOutputFormat(outputFormatObj outputFormat)</dt>
<dd>Appends outputformat object in the map object.
Returns the new numoutputformats value.</dd>
<dt>int removeOutputFormat(string name)</dt>
<dd>Remove outputformat from the map.
Returns MS_SUCCESS/MS_FAILURE.</dd>
<dt>outputFormatObj getOutputFormat(int index)</dt>
<dd>Returns the outputformat at index position.</dd>
<dt>int set(string property_name, new_value)</dt>
<dd>Set map object property to new value.</dd>
<dt>int setCenter(pointObj center)</dt>
<dd>Set the map center to the given map point.
Returns MS_SUCCESS or MS_FAILURE.</dd>
<dt>int setConfigOption(string key, string value)</dt>
<dd>Sets a config parameter using the key and the value passed</dd>
<dt>void setExtent(double minx, double miny, double maxx, double maxy)</dt>
<dd>Set the map extents using the georef extents passed in argument.
Returns MS_SUCCESS or MS_FAILURE on error.</dd>
<dt>int setFontSet(string fileName)</dt>
<dd>Load and set a new <a class="reference internal" href="../../mapfile/fontset.html#fontset"><span>FONTSET</span></a>.</dd>
<dt>boolean  setLayersDrawingOrder(array layeryindex)</dt>
<dd>Set the layer&#8217;s order array. The argument passed must be a valid
array with all the layer&#8217;s index.
Returns MS_SUCCESS or MS_FAILURE on error.</dd>
<dt>int setMetaData(string name, string value)</dt>
<dd>Set a metadata entry for the map (stored in the WEB object in the map
file).  Returns MS_SUCCESS/MS_FAILURE.</dd>
<dt>int setProjection(string proj_params, boolean bSetUnitsAndExtents)</dt>
<dd><p class="first">Set map projection and coordinate system. Returns MS_SUCCESS or
MS_FAILURE on error.</p>
<p class="last">Parameters are given as a single string of comma-delimited PROJ.4
parameters.  The argument : bSetUnitsAndExtents is used to
automatically update the map units and extents based on the new
projection. Possible values are MS_TRUE and MS_FALSE. By default it is
set at MS_FALSE.</p>
</dd>
<dt>int setRotation(double rotation_angle)</dt>
<dd>Set map rotation angle. The map view rectangle (specified in
EXTENTS) will be rotated by the indicated angle in the counter-
clockwise direction. Note that this implies the rendered map
will be rotated by the angle in the clockwise direction.
Returns MS_SUCCESS or MS_FAILURE.</dd>
<dt>int setSize(int width, int height)</dt>
<dd>Set the map width and height. This method updates the internal
geotransform and other data structures required for map rotation
so it should be used instead of setting the width and height members
directly.
Returns MS_SUCCESS or MS_FAILURE.</dd>
<dt>int setSymbolSet(string fileName)</dt>
<dd>Load and set a symbol file dynamically.</dd>
<dt>int setWKTProjection(string proj_params, boolean bSetUnitsAndExtents)</dt>
<dd><p class="first">Same as setProjection(), but takes an OGC WKT projection
definition string as input. Returns MS_SUCCESS or MS_FAILURE on error.</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">setWKTProjection requires GDAL support</p>
</div>
</dd>
<dt>int zoomPoint(int nZoomFactor, pointObj oPixelPos, int nImageWidth, int nImageHeight, rectObj oGeorefExt)</dt>
<dd><p class="first">Zoom to a given XY position. Returns MS_SUCCESS or MS_FAILURE on error.</p>
<p>Parameters are</p>
<ul class="last simple">
<li>Zoom factor : positive values do zoom in, negative values
zoom out. Factor of 1 will recenter.</li>
<li>Pixel position (pointObj) : x, y coordinates of the click,
with (0,0) at the top-left</li>
<li>Width : width in pixel of the current image.</li>
<li>Height : Height in pixel of the current image.</li>
<li>Georef extent (rectObj) : current georef extents.</li>
<li>MaxGeoref extent (rectObj) : (optional) maximum georef extents.
If provided then it will be impossible to zoom/pan outside of
those extents.</li>
</ul>
</dd>
<dt>int zoomRectangle(rectObj oPixelExt, int nImageWidth, int nImageHeight, rectObj oGeorefExt)</dt>
<dd><p class="first">Set the map extents to a given extents. Returns MS_SUCCESS or
MS_FAILURE on error.</p>
<p>Parameters are :</p>
<ul class="last simple">
<li>oPixelExt (rect object) : Pixel Extents</li>
<li>Width : width in pixel of the current image.</li>
<li>Height : Height in pixel of the current image.</li>
<li>Georef extent (rectObj) : current georef extents.</li>
</ul>
</dd>
<dt>int zoomScale(double nScaleDenom, pointObj oPixelPos, int nImageWidth, int nImageHeight, rectObj oGeorefExt [, rectObj oMaxGeorefExt])</dt>
<dd><p class="first">Zoom in or out to a given XY position so that the map is
displayed at specified scale. Returns MS_SUCCESS or MS_FAILURE on error.</p>
<p>Parameters are :</p>
<ul class="last simple">
<li>ScaleDenom : Scale denominator of the scale at which the map
should be displayed.</li>
<li>Pixel position (pointObj) : x, y coordinates of the click,
with (0,0) at the top-left</li>
<li>Width : width in pixel of the current image.</li>
<li>Height : Height in pixel of the current image.</li>
<li>Georef extent (rectObj) : current georef extents.</li>
<li>MaxGeoref extent (rectObj) : (optional) maximum georef extents.
If provided then it will be impossible to zoom/pan outside of
those extents.</li>
</ul>
</dd>
</dl>
</div>
</div>
<div class="section" id="outputformatobj">
<span id="index-17"></span><h3><a class="toc-backref" href="#contents">outputformatObj</a><a class="headerlink" href="#outputformatobj" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id35">
<h4>Constructor<a class="headerlink" href="#id35" title="Permalink to this headline">¶</a></h4>
<p>Instance of outputformatObj is always embedded inside the <a class="reference internal" href="#mapobj">mapObj</a>.
It is uses a read only.</p>
<p>No constructor available (coming soon, see ticket 979)</p>
</div>
<div class="section" id="id36">
<h4>Members<a class="headerlink" href="#id36" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="19%" />
<col width="62%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Name</th>
<th class="head">Note</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>string</td>
<td>driver</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>extension</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>int</td>
<td>imagemode</td>
<td>MS_IMAGEMODE_* value.</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>mimetype</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>string</td>
<td>name</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>renderer</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>int</td>
<td>transparent</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id37">
<h4>Methods<a class="headerlink" href="#id37" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>string getOption(string property_name)</dt>
<dd>Returns the associated value for the format option property passed
as argument. Returns an empty string if property not found.</dd>
<dt>int set(string property_name, new_value)</dt>
<dd>Set object property to a new value.</dd>
<dt>void setOption(string property_name, string new_value)</dt>
<dd><p class="first">Add or Modify the format option list. return true on success.</p>
<div class="last highlight-php"><div class="highlight"><pre><span></span><span class="x">$oMap-&gt;outputformat-&gt;setOption(&quot;OUTPUT_TYPE&quot;, &quot;RASTER&quot;);</span>
</pre></div>
</div>
</dd>
<dt>int validate()</dt>
<dd>Checks some internal consistency issues, Returns MS_SUCCESS or
MS_FAILURE. Some problems are fixed up internally. May produce debug
output if issues encountered.</dd>
</dl>
</div>
</div>
<div class="section" id="owsrequestobj">
<span id="index-18"></span><h3><a class="toc-backref" href="#contents">OwsrequestObj</a><a class="headerlink" href="#owsrequestobj" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id38">
<h4>Constructor<a class="headerlink" href="#id38" title="Permalink to this headline">¶</a></h4>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">new OWSRequestObj()</span>
</pre></div>
</div>
<p>or using the old constructor</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">request = ms_newOwsrequestObj();</span>
</pre></div>
</div>
<p>Create a new ows request object.</p>
</div>
<div class="section" id="id39">
<h4>Members<a class="headerlink" href="#id39" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="81%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Name</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>int</td>
<td>numparams (read-only)</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>type (read-only): MS_GET_REQUEST or MS_POST_REQUEST</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id40">
<h4>Methods<a class="headerlink" href="#id40" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>int addParameter(string name, string value)</dt>
<dd><p class="first">Add a request parameter, even if the parameter key was previousely set.
This is useful when multiple parameters with the same key are required.
For example :</p>
<div class="last highlight-php"><div class="highlight"><pre><span></span><span class="x">$request-&gt;addparameter(&#39;SIZE&#39;, &#39;x(100)&#39;);</span>
<span class="x">$request-&gt;addparameter(&#39;SIZE&#39;, &#39;y(100)&#39;);</span>
</pre></div>
</div>
</dd>
<dt>string getName(int index)</dt>
<dd>Return the name of the parameter at <em>index</em> in the request&#8217;s array
of parameter names.</dd>
<dt>string getValue(int index)</dt>
<dd>Return the value of the parameter at <em>index</em> in the request&#8217;s array
of parameter values.</dd>
<dt>string getValueByName(string name)</dt>
<dd>Return the value associated with the parameter <em>name</em>.</dd>
<dt>int loadParams()</dt>
<dd>Initializes the OWSRequest object from the cgi environment variables
REQUEST_METHOD, QUERY_STRING and HTTP_COOKIE.  Returns the number of
name/value pairs collected.</dd>
<dt>int setParameter(string name, string value)</dt>
<dd><p class="first">Set a request parameter.  For example :</p>
<div class="last highlight-php"><div class="highlight"><pre><span></span><span class="x">$request-&gt;setparameter(&#39;REQUEST&#39;, &#39;GetMap&#39;);</span>
</pre></div>
</div>
</dd>
</dl>
</div>
</div>
<div class="section" id="pointobj">
<span id="index-19"></span><h3><a class="toc-backref" href="#contents">pointObj</a><a class="headerlink" href="#pointobj" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id41">
<h4>Constructor<a class="headerlink" href="#id41" title="Permalink to this headline">¶</a></h4>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">new pointObj()</span>
</pre></div>
</div>
<p>or using the old constructor</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">PointObj ms_newPointObj()</span>
</pre></div>
</div>
</div>
<div class="section" id="id42">
<h4>Members<a class="headerlink" href="#id42" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="11%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Name</th>
<th class="head">Note</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>double</td>
<td>x</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>double</td>
<td>y</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>double</td>
<td>z</td>
<td>used for 3d shape files. set to 0 for other types</td>
</tr>
<tr class="row-odd"><td>double</td>
<td>m</td>
<td>used only for measured shape files - set to 0 for other types</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id43">
<h4>Methods<a class="headerlink" href="#id43" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>double distanceToLine(pointObject p1, pointObject p2)</dt>
<dd>Calculates distance between a point ad a lined defined by the
two points passed in argument.</dd>
<dt>double distanceToPoint(pointObj poPoint)</dt>
<dd>Calculates distance between two points.</dd>
<dt>double distanceToShape(shapeObj shape)</dt>
<dd>Calculates the minimum distance between a point and a shape.</dd>
<dt>int draw(mapObj map, layerObj layer, imageObj img, int class_index [, string text])</dt>
<dd>Draws the individual point using layer.  The class_index is used
to classify the point based on the classes defined for the layer.
The text string is used to annotate the point. (Optional)
Returns MS_SUCCESS/MS_FAILURE.</dd>
<dt>int project(projectionObj in, projectionObj out)</dt>
<dd>Project the point from &#8220;in&#8221; projection (1st argument) to &#8220;out&#8221;
projection (2nd argument).  Returns MS_SUCCESS/MS_FAILURE.</dd>
<dt>int setXY(double x, double y [, double m])</dt>
<dd><p class="first">Set X,Y coordinate values.</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">the 3rd parameter m is used for measured shape files only.
It is not mandatory.</p>
</div>
</dd>
<dt>int setXYZ(double x, double y , double z, [, double m])</dt>
<dd><p class="first">Set X,Y,Z coordinate values.</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">the 4th parameter m is used for measured shape files only.
It is not mandatory.</p>
</div>
</dd>
</dl>
</div>
</div>
<div class="section" id="projectionobj">
<span id="index-20"></span><h3><a class="toc-backref" href="#contents">projectionObj</a><a class="headerlink" href="#projectionobj" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id44">
<h4>Constructor<a class="headerlink" href="#id44" title="Permalink to this headline">¶</a></h4>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">new projectionObj(string projectionString)</span>
</pre></div>
</div>
<p>or using the old constructor</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">ProjectionObj ms_newProjectionObj(string projectionString)</span>
</pre></div>
</div>
<p>Creates a projection object based on the projection string passed
as argument.</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">$projInObj = ms_newprojectionobj(&quot;proj=latlong&quot;)</span>
</pre></div>
</div>
<p>will create a geographic projection class.</p>
<p>The following example will convert a lat/long point to an LCC
projection:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">$projInObj = ms_newprojectionobj(&quot;proj=latlong&quot;);</span>
<span class="x">$projOutObj = ms_newprojectionobj(&quot;proj=lcc,ellps=GRS80,lat_0=49,&quot;.</span>
<span class="x">                                  &quot;lon_0=-95,lat_1=49,lat_2=77&quot;);</span>
<span class="x">$poPoint = ms_newpointobj();</span>
<span class="x">$poPoint-&gt;setXY(-92.0, 62.0);</span>
<span class="x">$poPoint-&gt;project($projInObj, $projOutObj);</span>
</pre></div>
</div>
</div>
<div class="section" id="id45">
<h4>Methods<a class="headerlink" href="#id45" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>int getUnits()</dt>
<dd>Returns the units of a projection object. Returns -1 on error.</dd>
</dl>
</div>
</div>
<div class="section" id="querymapobj">
<span id="index-21"></span><h3><a class="toc-backref" href="#contents">querymapObj</a><a class="headerlink" href="#querymapobj" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id46">
<h4>Constructor<a class="headerlink" href="#id46" title="Permalink to this headline">¶</a></h4>
<p>Instances of querymapObj are always are always embedded inside the
<a class="reference internal" href="#mapobj">mapObj</a>.</p>
</div>
<div class="section" id="id47">
<h4>Members<a class="headerlink" href="#id47" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="14%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Name</th>
<th class="head">Note</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>colorObj</td>
<td>color</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>height</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>int</td>
<td>width</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>style</td>
<td>MS_NORMAL, MS_HILITE, MS_SELECTED</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id48">
<h4>Methods<a class="headerlink" href="#id48" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>string convertToString()</dt>
<dd>Saves the object to a string.  Provides the inverse option for
updateFromString.</dd>
<dt>void free()</dt>
<dd>Free the object properties and break the internal references.
Note that you have to unset the php variable to free totally the resources.</dd>
<dt>int set(string property_name, new_value)</dt>
<dd>Set object property to a new value.</dd>
<dt>int updateFromString(string snippet)</dt>
<dd>Update a queryMap object from a string snippet. Returns
MS_SUCCESS/MS_FAILURE.</dd>
</dl>
</div>
</div>
<div class="section" id="rectobj">
<span id="index-22"></span><h3><a class="toc-backref" href="#contents">rectObj</a><a class="headerlink" href="#rectobj" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id49">
<h4>Constructor<a class="headerlink" href="#id49" title="Permalink to this headline">¶</a></h4>
<p>rectObj are sometimes embedded inside other objects.  New ones can
also be created with:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">new rectObj()</span>
</pre></div>
</div>
<p>or using the old constructor</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">RectObj ms_newRectObj()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">the members (minx, miny, maxx ,maxy) are initialized to -1;</p>
</div>
</div>
<div class="section" id="id50">
<h4>Members:<a class="headerlink" href="#id50" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="81%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Name</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>double</td>
<td>minx</td>
</tr>
<tr class="row-odd"><td>double</td>
<td>miny</td>
</tr>
<tr class="row-even"><td>double</td>
<td>maxx</td>
</tr>
<tr class="row-odd"><td>double</td>
<td>maxy</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id51">
<h4>Methods<a class="headerlink" href="#id51" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>int draw(mapObj map, layerObj layer, imageObj img, int class_index [, string text])</dt>
<dd>Draws the individual rectangle using layer.  The class_index is used
to classify the rectangle based on the classes defined for the layer.
The text string is used to annotate the rectangle. (Optional)
Returns MS_SUCCESS/MS_FAILURE.</dd>
<dt>double fit(int width, int height)</dt>
<dd>Adjust extents of the rectangle to fit the width/height specified.</dd>
<dt>int project(projectionObj in, projectionObj out)</dt>
<dd>Project the rectangle from &#8220;in&#8221; projection (1st argument) to &#8220;out&#8221;
projection (2nd argument).  Returns MS_SUCCESS/MS_FAILURE.</dd>
<dt>int set(string property_name, new_value)</dt>
<dd>Set object property to a new value.</dd>
<dt>void setextent(double minx, double miny, double maxx, double maxy)</dt>
<dd>Set the rectangle extents.</dd>
</dl>
</div>
</div>
<div class="section" id="referencemapobj">
<span id="index-23"></span><h3><a class="toc-backref" href="#contents">referenceMapObj</a><a class="headerlink" href="#referencemapobj" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id52">
<h4>Constructor<a class="headerlink" href="#id52" title="Permalink to this headline">¶</a></h4>
<p>Instances of referenceMapObj are always embedded inside the <a class="reference internal" href="#mapobj">mapObj</a>.</p>
</div>
<div class="section" id="id53">
<h4>Members<a class="headerlink" href="#id53" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="81%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Name</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>ColorObj</td>
<td>color</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>height</td>
</tr>
<tr class="row-even"><td>rectObj</td>
<td>extent</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>image</td>
</tr>
<tr class="row-even"><td>int</td>
<td>marker</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>markername</td>
</tr>
<tr class="row-even"><td>int</td>
<td>markersize</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>maxboxsize</td>
</tr>
<tr class="row-even"><td>int</td>
<td>minboxsize</td>
</tr>
<tr class="row-odd"><td>ColorObj</td>
<td>outlinecolor</td>
</tr>
<tr class="row-even"><td>int</td>
<td>status</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>width</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id54">
<h4>Methods<a class="headerlink" href="#id54" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>string convertToString()</dt>
<dd>Saves the object to a string.  Provides the inverse option for
updateFromString.</dd>
<dt>void free()</dt>
<dd>Free the object properties and break the internal references.
Note that you have to unset the php variable to free totally the
resources.</dd>
<dt>int set(string property_name, new_value)</dt>
<dd>Set object property to a new value.</dd>
<dt>int updateFromString(string snippet)</dt>
<dd>Update a referenceMap object from a string snippet.
Returns MS_SUCCESS/MS_FAILURE.</dd>
</dl>
</div>
</div>
<div class="section" id="resultobj">
<span id="index-24"></span><h3><a class="toc-backref" href="#contents">resultObj</a><a class="headerlink" href="#resultobj" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id55">
<h4>Constructor<a class="headerlink" href="#id55" title="Permalink to this headline">¶</a></h4>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">new resultObj(int shapeindex)</span>
</pre></div>
</div>
<p>or using the <a class="reference internal" href="#layerobj">layerObj</a>&#8216;s getResult() method.</p>
</div>
<div class="section" id="id56">
<h4>Members<a class="headerlink" href="#id56" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="17%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Name</th>
<th class="head">Note</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>int</td>
<td>classindex</td>
<td>read-only</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>resultindex</td>
<td>read-only</td>
</tr>
<tr class="row-even"><td>int</td>
<td>shapeindex</td>
<td>read-only</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>tileindex</td>
<td>read-only</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id57">
<h4>Method<a class="headerlink" href="#id57" title="Permalink to this headline">¶</a></h4>
<p>None</p>
</div>
</div>
<div class="section" id="scalebarobj">
<span id="index-25"></span><h3><a class="toc-backref" href="#contents">scalebarObj</a><a class="headerlink" href="#scalebarobj" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id58">
<h4>Constructor<a class="headerlink" href="#id58" title="Permalink to this headline">¶</a></h4>
<p>Instances of scalebarObj are always embedded inside the <a class="reference internal" href="#mapobj">mapObj</a>.</p>
</div>
<div class="section" id="id59">
<h4>Members<a class="headerlink" href="#id59" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="22%" />
<col width="59%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Name</th>
<th class="head">Note</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>int</td>
<td>align</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>colorObj</td>
<td>backgroundcolor</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>colorObj</td>
<td>color</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>height</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>colorObj</td>
<td>imagecolor</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>intervals</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>labelObj</td>
<td>label</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>colorObj</td>
<td>outlinecolor</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>int</td>
<td>position</td>
<td>for embedded scalebars, MS_UL, MS_UC, ...</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>postlabelcache</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>int</td>
<td>status</td>
<td>MS_ON, MS_OFF, MS_EMBED</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>style</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>int</td>
<td>units</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>width</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id60">
<h4>Methods<a class="headerlink" href="#id60" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>string convertToString()</dt>
<dd>Saves the object to a string.  Provides the inverse option for
updateFromString.</dd>
<dt>void free()</dt>
<dd>Free the object properties and break the internal references.
Note that you have to unset the php variable to free totally the
resources.</dd>
<dt>int set(string property_name, new_value)</dt>
<dd>Set object property to a new value.</dd>
<dt>int setImageColor(int red, int green, int blue)</dt>
<dd>Sets the imagecolor property (baclground) of the object.
Returns MS_SUCCESS or MS_FAILURE on error.</dd>
<dt>int updateFromString(string snippet)</dt>
<dd>Update a scalebar from a string snippet. Returns MS_SUCCESS/MS_FAILURE.</dd>
</dl>
</div>
</div>
<div class="section" id="shapefileobj">
<span id="index-26"></span><h3><a class="toc-backref" href="#contents">shapefileObj</a><a class="headerlink" href="#shapefileobj" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id61">
<h4>Constructor<a class="headerlink" href="#id61" title="Permalink to this headline">¶</a></h4>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">new shapeFileObj(string filename, int type)</span>
</pre></div>
</div>
<p>or using the old constructor</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">shapefileObj ms_newShapefileObj(string filename, int type)</span>
</pre></div>
</div>
<p>Opens a shapefile and returns a new object to deal with it. Filename
should be passed with no extension.  To create a new file (or
overwrite an existing one), type should be one of MS_SHP_POINT,
MS_SHP_ARC, MS_SHP_POLYGON or MS_SHP_MULTIPOINT. Pass type as -1 to
open an existing file for read-only access, and type=-2 to open an
existing file for update (append).</p>
</div>
<div class="section" id="id62">
<h4>Members<a class="headerlink" href="#id62" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="13%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Name</th>
<th class="head">Note</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>rectObj</td>
<td>bounds</td>
<td>read-only</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>numshapes</td>
<td>read-only</td>
</tr>
<tr class="row-even"><td>string</td>
<td>source</td>
<td>read-only</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>type</td>
<td>read-only</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id63">
<h4>Methods<a class="headerlink" href="#id63" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>int addPoint(pointObj point)</dt>
<dd>Appends a point to an open shapefile.</dd>
<dt>int addShape(shapeObj shape)</dt>
<dd>Appends a shape to an open shapefile.</dd>
<dt>void free()</dt>
<dd><p class="first">Free the object properties and break the internal references.
Note that you have to unset the php variable to free totally the
resources.</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The shape file is closed (and changes committed) when
the object is destroyed. You can explicitly close and save
the changes by calling $shapefile-&gt;free();
unset($shapefile), which will also free the php object.</p>
</div>
</dd>
<dt>rectObj getExtent(int i)</dt>
<dd>Retrieve a shape&#8217;s bounding box by index.</dd>
<dt>shapeObj getPoint(int i)</dt>
<dd>Retrieve point by index.</dd>
<dt>shapeObj getShape(int i)</dt>
<dd>Retrieve shape by index.</dd>
<dt>shapeObj getTransformed(mapObj map, int i)</dt>
<dd>Retrieve shape by index.</dd>
</dl>
</div>
</div>
<div class="section" id="shapeobj">
<span id="index-27"></span><h3><a class="toc-backref" href="#contents">shapeObj</a><a class="headerlink" href="#shapeobj" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id64">
<h4>Constructor<a class="headerlink" href="#id64" title="Permalink to this headline">¶</a></h4>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">new shapeObj(int type)</span>
</pre></div>
</div>
<p>or using the old constructor</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">ShapeObj ms_newShapeObj(int type)</span>
</pre></div>
</div>
<p>&#8216;type&#8217; is one of MS_SHAPE_POINT, MS_SHAPE_LINE, MS_SHAPE_POLYGON or
MS_SHAPE_NULL</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">ShapeObj ms_shapeObjFromWkt(string wkt)</span>
</pre></div>
</div>
<p>Creates new shape object from WKT string.</p>
</div>
<div class="section" id="id65">
<h4>Members<a class="headerlink" href="#id65" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="14%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Name</th>
<th class="head">Note</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>rectObj</td>
<td>bounds</td>
<td>read-only</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>classindex</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>int</td>
<td>index</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>numlines</td>
<td>read-only</td>
</tr>
<tr class="row-even"><td>int</td>
<td>numvalues</td>
<td>read-only</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>tileindex</td>
<td>read-only</td>
</tr>
<tr class="row-even"><td>string</td>
<td>text</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>type</td>
<td>read-only</td>
</tr>
<tr class="row-even"><td>array</td>
<td>values</td>
<td>read-only</td>
</tr>
</tbody>
</table>
<p>The values array is an associative array with the attribute values for
this shape.  It is set only on shapes obtained from layer-&gt;getShape().
The key to the values in the array is the attribute name, e.g.</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">$population = $shape-&gt;values[&quot;Population&quot;];</span>
</pre></div>
</div>
</div>
<div class="section" id="id66">
<h4>Methods<a class="headerlink" href="#id66" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>int add(lineObj line)</dt>
<dd>Add a line (i.e. a part) to the shape.</dd>
<dt>shapeobj boundary()</dt>
<dd>Returns the boundary of the shape.
Only available if php/mapscript is built with GEOS library.</dd>
<dt>shapeobj buffer(width)</dt>
<dd>Returns a new buffered shapeObj based on the supplied distance (given
in the coordinates of the existing shapeObj).
Only available if php/mapscript is built with GEOS library.</dd>
<dt>int containsShape(shapeobj shape2)</dt>
<dd>Returns true if shape2 passed as argument is entirely within the shape.
Else return false.
Only available if php/mapscript is built with GEOS
library.</dd>
<dt>shapeobj convexhull()</dt>
<dd>Returns a shape object representing the convex hull of shape.
Only available if php/mapscript is built with GEOS
library.</dd>
<dt>boolean contains(pointObj point)</dt>
<dd>Returns MS_TRUE if the point is inside the shape, MS_FALSE otherwise.</dd>
<dt>int crosses(shapeobj shape)</dt>
<dd>Returns true if the shape passed as argument crosses the shape.
Else return false.
Only available if php/mapscript is built with GEOS library.</dd>
<dt>shapeobj difference(shapeobj shape)</dt>
<dd>Returns a shape object representing the difference of the
shape object with the one passed as parameter.
Only available if php/mapscript is built with GEOS library.</dd>
<dt>int disjoint(shapeobj shape)</dt>
<dd>Returns true if the shape passed as argument is disjoint to the
shape. Else return false.
Only available if php/mapscript is built with GEOS library.</dd>
<dt>int draw(mapObj map, layerObj layer, imageObj img)</dt>
<dd>Draws the individual shape using layer.
Returns MS_SUCCESS/MS_FAILURE.</dd>
<dt>int equals(shapeobj shape)</dt>
<dd>Returns true if the shape passed as argument is equal to the
shape (geometry only). Else return false.
Only available if php/mapscript is built with GEOS library.</dd>
<dt>void free()</dt>
<dd>Free the object properties and break the internal references.
Note that you have to unset the php variable to free totally the resources.</dd>
<dt>double getArea()</dt>
<dd>Returns the area of the shape (if applicable).
Only available if php/mapscript is built with GEOS library.</dd>
<dt>pointObj getCentroid()</dt>
<dd>Returns a point object representing the centroid of the shape.
Only available if php/mapscript is built with GEOS library.</dd>
<dt>pointObj getLabelPoint()</dt>
<dd>Returns a point object with coordinates suitable for labelling
the shape.</dd>
<dt>double getLength()</dt>
<dd>Returns the length (or perimeter) of the shape.
Only available if php/mapscript is built with GEOS library.</dd>
<dt>pointObj  getMeasureUsingPoint(pointObject point)</dt>
<dd>Apply only on Measured shape files. Given an XY Location, find the
nearest point on the shape object. Return a point object
of this point with the m value set.</dd>
<dt>pointObj getPointUsingMeasure(double m)</dt>
<dd>Apply only on Measured shape files. Given a measure m, retun the
corresponding XY location on the shapeobject.</dd>
<dt>string getValue(layerObj layer, string filedname)</dt>
<dd>Returns the value for a given field name.</dd>
<dt>shapeobj intersection(shapeobj shape)</dt>
<dd>Returns a shape object representing the intersection of the shape
object with the one passed as parameter.
Only available if php/mapscript is built with GEOS library.</dd>
<dt>boolean intersects(shapeObj shape)</dt>
<dd>Returns MS_TRUE if the two shapes intersect, MS_FALSE otherwise.</dd>
<dt>LineObj line(int i)</dt>
<dd>Returns a reference to line number i.</dd>
<dt>int overlaps(shapeobj shape)</dt>
<dd>Returns true if the shape passed as argument overlaps the shape.
Else returns false.
Only available if php/mapscript is built with GEOS library.</dd>
<dt>int project(projectionObj in, projectionObj out)</dt>
<dd>Project the shape from &#8220;in&#8221; projection (1st argument) to &#8220;out&#8221;
projection (2nd argument).  Returns MS_SUCCESS/MS_FAILURE.</dd>
<dt>int set(string property_name, new_value)</dt>
<dd>Set object property to a new value.</dd>
<dt>int setBounds()</dt>
<dd>Updates the bounds property of the shape.
Must be called to calculate new bounding box after new parts have been
added.</dd>
<dt>shapeObj simplify(double tolerance)</dt>
<dd>Given a tolerance, returns a simplified shape object or NULL on
error.  Only available if php/mapscript is built with GEOS library
(&gt;=3.0).</dd>
<dt>shapeobj symdifference(shapeobj shape)</dt>
<dd>Returns the computed symmetric difference of the supplied and
existing shape.
Only available if php/mapscript is built with GEOS library.</dd>
<dt>shapeObj topologySimplifyPreservingSimplify(double tolerance)</dt>
<dd>Given a tolerance, returns a simplified shape object or NULL on
error.  Only available if php/mapscript is built with GEOS library
(&gt;=3.0).</dd>
<dt>int touches(shapeobj shape)</dt>
<dd>Returns true if the shape passed as argument touches the shape.
Else return false.
Only available if php/mapscript is built with GEOS library.</dd>
<dt>string toWkt()</dt>
<dd>Returns WKT representation of the shape&#8217;s geometry.</dd>
<dt>shapeobj union(shapeobj shape)</dt>
<dd>Returns a shape object representing the union of the shape object
with the one passed as parameter.
Only available if php/mapscript is built with GEOS
library</dd>
<dt>int within(shapeobj shape2)</dt>
<dd>Returns true if the shape is entirely within the shape2 passed as
argument.
Else returns false.
Only available if php/mapscript is built with GEOS library.</dd>
</dl>
</div>
</div>
<div class="section" id="styleobj">
<span id="index-28"></span><h3><a class="toc-backref" href="#contents">styleObj</a><a class="headerlink" href="#styleobj" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id67">
<h4>Constructor<a class="headerlink" href="#id67" title="Permalink to this headline">¶</a></h4>
<p>Instances of styleObj are always embedded inside a <a class="reference internal" href="#classobj">classObj</a> or <a class="reference internal" href="#labelobj">labelObj</a>.</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">new styleObj(classObj class [, styleObj style])</span>
<span class="x">// or</span>
<span class="x">new styleObj(labelObj label [, styleObj style])</span>
</pre></div>
</div>
<p>or using the old constructor (do not support a labelObj at first argument)</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">styleObj ms_newStyleObj(classObj class [, styleObj style])</span>
</pre></div>
</div>
<p>The second argument &#8216;style&#8217; is optional. If given, the new style
created will be a copy of the style passed as argument.</p>
</div>
<div class="section" id="id68">
<h4>Members<a class="headerlink" href="#id68" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="26%" />
<col width="55%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Name</th>
<th class="head">Note</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>double</td>
<td>angle</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>antialias</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>colorObj</td>
<td>backgroundcolor</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>colorObj</td>
<td>color</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>double</td>
<td>maxsize</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>double</td>
<td>maxvalue</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>double</td>
<td>maxwidth</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>double</td>
<td>minsize</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>double</td>
<td>minvalue</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>double</td>
<td>minwidth</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>int</td>
<td>offsetx</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>offsety</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>int</td>
<td>opacity</td>
<td>only supported for the AGG driver</td>
</tr>
<tr class="row-odd"><td>colorObj</td>
<td>outlinecolor</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>string</td>
<td>rangeitem</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>double</td>
<td>size</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>int</td>
<td>symbol</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>symbolname</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>double</td>
<td>width</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id69">
<h4>Methods<a class="headerlink" href="#id69" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>string convertToString()</dt>
<dd>Saves the object to a string.  Provides the inverse option for
updateFromString.</dd>
<dt>void free()</dt>
<dd>Free the object properties and break the internal references.
Note that you have to unset the php variable to free totally the
resources.</dd>
<dt>string getBinding(const stylebinding)</dt>
<dd><p class="first">Get the attribute binding for a specfiled style property. Returns
NULL if there is no binding for this property.</p>
<div class="last highlight-php"><div class="highlight"><pre><span></span><span class="x">$oStyle-&gt;setbinding(MS_STYLE_BINDING_COLOR, &quot;FIELD_NAME_COLOR&quot;);</span>
<span class="x">echo $oStyle-&gt;getbinding(MS_STYLE_BINDING_COLOR); // FIELD_NAME_COLOR</span>
</pre></div>
</div>
</dd>
</dl>
<p>string getGeomTransform()</p>
<dl class="docutils">
<dt>int removeBinding(const stylebinding)</dt>
<dd><p class="first">Remove the attribute binding for a specfiled style property.
Added in MapServer 5.0.</p>
<div class="last highlight-php"><div class="highlight"><pre><span></span><span class="x">$oStyle-&gt;removebinding(MS_STYLE_BINDING_COLOR);</span>
</pre></div>
</div>
</dd>
<dt>int set(string property_name, new_value)</dt>
<dd>Set object property to a new value.</dd>
<dt>int setBinding(const stylebinding, string value)</dt>
<dd><p class="first">Set the attribute binding for a specfiled style property.
Added in MapServer 5.0.</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">$oStyle-&gt;setbinding(MS_STYLE_BINDING_COLOR, &quot;FIELD_NAME_COLOR&quot;);</span>
</pre></div>
</div>
<p class="last">This would bind the color parameter with the data (ie will extract
the value of the color from the field called &#8220;FIELD_NAME_COLOR&#8221;</p>
</dd>
</dl>
<p>int setGeomTransform(string value)</p>
<dl class="docutils">
<dt>int updateFromString(string snippet)</dt>
<dd>Update a style from a string snippet. Returns MS_SUCCESS/MS_FAILURE.</dd>
</dl>
</div>
</div>
<div class="section" id="symbolobj">
<span id="index-29"></span><h3><a class="toc-backref" href="#contents">symbolObj</a><a class="headerlink" href="#symbolobj" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id70">
<h4>Constructor<a class="headerlink" href="#id70" title="Permalink to this headline">¶</a></h4>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">new symbolObj(mapObj map, string symbolname)</span>
</pre></div>
</div>
<p>or using the old constructor</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">int ms_newSymbolObj(mapObj map, string symbolname)</span>
</pre></div>
</div>
<p>Creates a new symbol with default values in the symbolist.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Using the new constructor, the symbol is automatically returned. The
old constructor returns the id of the new symbol.</p>
</div>
<p>If a symbol with the same name exists, it (or its id) will be returned.
To get a symbol object using the old constructor, you need to use a method on the map object:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">$nId = ms_newSymbolObj($map, &quot;symbol-test&quot;);</span>
<span class="x">$oSymbol = $map-&gt;getSymbolObjectById($nId);</span>
</pre></div>
</div>
</div>
<div class="section" id="id71">
<h4>Members<a class="headerlink" href="#id71" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="22%" />
<col width="59%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Name</th>
<th class="head">Note</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>int</td>
<td>antialias</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>character</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>int</td>
<td>filled</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>font</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>string</td>
<td>imagepath</td>
<td>read-only</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>inmapfile</td>
<td>If set to TRUE, the symbol will be saved
inside the mapfile.</td>
</tr>
<tr class="row-even"><td>int</td>
<td>patternlength</td>
<td>read-only</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>position</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>string</td>
<td>name</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>numpoints</td>
<td>read-only</td>
</tr>
<tr class="row-even"><td>double</td>
<td>sizex</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>double</td>
<td>sizey</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>int</td>
<td>transparent</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>int</td>
<td>transparentcolor</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id72">
<h4>Methods<a class="headerlink" href="#id72" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>void free()</dt>
<dd>Free the object properties and break the internal references.
Note that you have to unset the php variable to free totally the
resources.</dd>
<dt>array getPatternArray()</dt>
<dd>Returns an array containing the pattern. If there is no pattern, it
returns an empty array.</dd>
<dt>array getPointsArray()</dt>
<dd>Returns an array containing the points of the symbol. Refer to
setpoints to see how the array should be interpreted. If there are no
points, it returns an empty array.</dd>
<dt>int set(string property_name, new_value)</dt>
<dd>Set object property to a new value.</dd>
<dt>int setImagePath(char filename)</dt>
<dd>Loads a pixmap symbol specified by the filename.
The file should be of either  Gif or Png format.</dd>
<dt>int setPattern(array int)</dt>
<dd>Set the pattern of the symbol (used for dash patterns).
Returns MS_SUCCESS/MS_FAILURE.</dd>
<dt>int setPoints(array double)</dt>
<dd><p class="first">Set the points of the symbol. Note that the values passed is an
array containing the x and y values of the points. Returns
MS_SUCCESS/MS_FAILURE.
Example:</p>
<div class="last highlight-php"><div class="highlight"><pre><span></span><span class="x">$array[0] = 1 # x value of the first point</span>
<span class="x">$array[1] = 0 # y values of the first point</span>
<span class="x">$array[2] = 1 # x value of the 2nd point</span>
<span class="x">....</span>
</pre></div>
</div>
</dd>
</dl>
</div>
<div class="section" id="example-of-usage">
<h4>Example of usage<a class="headerlink" href="#example-of-usage" title="Permalink to this headline">¶</a></h4>
<ol class="arabic simple">
<li>create a symbol to be used as a dash line</li>
</ol>
<blockquote>
<div><div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">$nId = ms_newsymbolobj($gpoMap, &quot;mydash&quot;);</span>
<span class="x">$oSymbol = $gpoMap-&gt;getsymbolobjectbyid($nId);</span>
<span class="x">$oSymbol-&gt;set(&quot;filled&quot;, MS_TRUE);</span>
<span class="x">$oSymbol-&gt;set(&quot;sizex&quot;, 1);</span>
<span class="x">$oSymbol-&gt;set(&quot;sizey&quot;, 1);</span>
<span class="x">$oSymbol-&gt;set(&quot;inmapfile&quot;, MS_TRUE);</span>

<span class="x">$aPoints[0] = 1;</span>
<span class="x">$aPoints[1] = 1;</span>
<span class="x">$oSymbol-&gt;setpoints($aPoints);</span>

<span class="x">$aPattern[0] = 10;</span>
<span class="x">$aPattern[1] = 5;</span>
<span class="x">$aPattern[2] = 5;</span>
<span class="x">$aPattern[3] = 10;</span>
<span class="x">$oSymbol-&gt;setpattern($aPattern);</span>

<span class="x">$style-&gt;set(&quot;symbolname&quot;, &quot;mydash&quot;);</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="2">
<li>Create a TrueType symbol</li>
</ol>
<blockquote>
<div><div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">$nId = ms_newSymbolObj($gpoMap, &quot;ttfSymbol&quot;);</span>
<span class="x">    $oSymbol = $gpoMap-&gt;getSymbolObjectById($nId);</span>
<span class="x">    $oSymbol-&gt;set(&quot;type&quot;, MS_SYMBOL_TRUETYPE);</span>
<span class="x">    $oSymbol-&gt;set(&quot;filled&quot;, true);</span>
<span class="x">    $oSymbol-&gt;set(&quot;character&quot;, &quot;&amp;#68;&quot;);</span>
<span class="x">$oSymbol-&gt;set(&quot;font&quot;, &quot;ttfFontName&quot;);</span>
</pre></div>
</div>
</div></blockquote>
</div>
</div>
<div class="section" id="webobj">
<span id="index-30"></span><h3><a class="toc-backref" href="#contents">webObj</a><a class="headerlink" href="#webobj" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id73">
<h4>Constructor<a class="headerlink" href="#id73" title="Permalink to this headline">¶</a></h4>
<p>Instances of webObj are always are always embedded inside the <a class="reference internal" href="#mapobj">mapObj</a>.</p>
</div>
<div class="section" id="id74">
<h4>Members<a class="headerlink" href="#id74" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="19%" />
<col width="62%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Name</th>
<th class="head">Note</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>string</td>
<td>browseformat</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>empty</td>
<td>read-only</td>
</tr>
<tr class="row-even"><td>string</td>
<td>error</td>
<td>read-only</td>
</tr>
<tr class="row-odd"><td>rectObj</td>
<td>extent</td>
<td>read-only</td>
</tr>
<tr class="row-even"><td>string</td>
<td>footer</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>header</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>string</td>
<td>imagepath</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>imageurl</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>string</td>
<td>legendformat</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>log</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>double</td>
<td>maxscaledenom</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>maxtemplate</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>hashTableObj</td>
<td>metadata</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>double</td>
<td>minscaledenom</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>string</td>
<td>mintemplate</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>queryformat</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>string</td>
<td>template</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>temppath</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id75">
<h4>Methods<a class="headerlink" href="#id75" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>string convertToString()</dt>
<dd>Saves the object to a string.  Provides the inverse option for
updateFromString.</dd>
<dt>void free()</dt>
<dd>Free the object properties and break the internal references.
Note that you have to unset the php variable to free totally the
resources.</dd>
<dt>int set(string property_name, new_value)</dt>
<dd>Set object property to a new value.</dd>
<dt>int updateFromString(string snippet)</dt>
<dd>Update a web object from a string snippet. Returns
MS_SUCCESS/MS_FAILURE.</dd>
</dl>
<span class="target" id="phpclusterobj"></span></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Navigation</h3>
<p>
<a href="../../about.html" title="About">About</a><br>
<a href="../../products.html" title="Products">Products</a><br>
<a href="../../community/index.html" title="Community">Community</a><br>
<a href="../../development/index.html" title="Development">Development</a><br>
<a href="../../download.html" title="Downloads">Downloads</a><br>
<a href="../../documentation.html" title="Documentation">Documentation</a><br>
<a href="../../faq.html" title="FAQ">FAQ</a>
</p>
  <h3>Current Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">PHP MapScript API</a><ul>
<li><a class="reference internal" href="#important-note">Important Note</a></li>
<li><a class="reference internal" href="#constants">Constants</a></li>
<li><a class="reference internal" href="#functions">Functions</a></li>
<li><a class="reference internal" href="#classes">Classes</a><ul>
<li><a class="reference internal" href="#classobj">classObj</a><ul>
<li><a class="reference internal" href="#constructor">Constructor</a></li>
<li><a class="reference internal" href="#members">Members</a></li>
<li><a class="reference internal" href="#methods">Methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#clusterobj">clusterObj</a><ul>
<li><a class="reference internal" href="#id1">Constructor</a></li>
<li><a class="reference internal" href="#id2">Members</a></li>
<li><a class="reference internal" href="#id3">Methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#colorobj">colorObj</a><ul>
<li><a class="reference internal" href="#id4">Constructor</a></li>
<li><a class="reference internal" href="#id5">Members</a></li>
<li><a class="reference internal" href="#id6">Methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#errorobj">errorObj</a><ul>
<li><a class="reference internal" href="#id7">Functions</a></li>
<li><a class="reference internal" href="#id8">Members</a></li>
<li><a class="reference internal" href="#method">Method</a></li>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gridobj">gridObj</a><ul>
<li><a class="reference internal" href="#id9">Constructor</a></li>
<li><a class="reference internal" href="#id10">Members</a></li>
<li><a class="reference internal" href="#id11">Methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#hashtableobj">hashTableObj</a><ul>
<li><a class="reference internal" href="#id12">Constructor</a></li>
<li><a class="reference internal" href="#id13">Methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#imageobj">imageObj</a><ul>
<li><a class="reference internal" href="#id14">Constructor</a></li>
<li><a class="reference internal" href="#id15">Members</a></li>
<li><a class="reference internal" href="#id16">Methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#labelcachememberobj">labelcacheMemberObj</a><ul>
<li><a class="reference internal" href="#id17">Members</a></li>
<li><a class="reference internal" href="#id18">Method</a></li>
</ul>
</li>
<li><a class="reference internal" href="#labelcacheobj">labelcacheObj</a><ul>
<li><a class="reference internal" href="#id19">Method</a></li>
</ul>
</li>
<li><a class="reference internal" href="#labelobj">labelObj</a><ul>
<li><a class="reference internal" href="#id20">Constructor</a></li>
<li><a class="reference internal" href="#id21">Members</a></li>
<li><a class="reference internal" href="#id22">Methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#layerobj">layerObj</a><ul>
<li><a class="reference internal" href="#id23">Constructor</a></li>
<li><a class="reference internal" href="#id24">Members</a></li>
<li><a class="reference internal" href="#id25">Methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#legendobj">legendObj</a><ul>
<li><a class="reference internal" href="#id26">Constructor</a></li>
<li><a class="reference internal" href="#id27">Members</a></li>
<li><a class="reference internal" href="#id28">Methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#lineobj">lineObj</a><ul>
<li><a class="reference internal" href="#id29">Constructor</a></li>
<li><a class="reference internal" href="#id30">Members</a></li>
<li><a class="reference internal" href="#id31">Methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#mapobj">mapObj</a><ul>
<li><a class="reference internal" href="#id32">Constructor</a></li>
<li><a class="reference internal" href="#id33">Members</a></li>
<li><a class="reference internal" href="#id34">Methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#outputformatobj">outputformatObj</a><ul>
<li><a class="reference internal" href="#id35">Constructor</a></li>
<li><a class="reference internal" href="#id36">Members</a></li>
<li><a class="reference internal" href="#id37">Methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#owsrequestobj">OwsrequestObj</a><ul>
<li><a class="reference internal" href="#id38">Constructor</a></li>
<li><a class="reference internal" href="#id39">Members</a></li>
<li><a class="reference internal" href="#id40">Methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pointobj">pointObj</a><ul>
<li><a class="reference internal" href="#id41">Constructor</a></li>
<li><a class="reference internal" href="#id42">Members</a></li>
<li><a class="reference internal" href="#id43">Methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#projectionobj">projectionObj</a><ul>
<li><a class="reference internal" href="#id44">Constructor</a></li>
<li><a class="reference internal" href="#id45">Methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#querymapobj">querymapObj</a><ul>
<li><a class="reference internal" href="#id46">Constructor</a></li>
<li><a class="reference internal" href="#id47">Members</a></li>
<li><a class="reference internal" href="#id48">Methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#rectobj">rectObj</a><ul>
<li><a class="reference internal" href="#id49">Constructor</a></li>
<li><a class="reference internal" href="#id50">Members:</a></li>
<li><a class="reference internal" href="#id51">Methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#referencemapobj">referenceMapObj</a><ul>
<li><a class="reference internal" href="#id52">Constructor</a></li>
<li><a class="reference internal" href="#id53">Members</a></li>
<li><a class="reference internal" href="#id54">Methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#resultobj">resultObj</a><ul>
<li><a class="reference internal" href="#id55">Constructor</a></li>
<li><a class="reference internal" href="#id56">Members</a></li>
<li><a class="reference internal" href="#id57">Method</a></li>
</ul>
</li>
<li><a class="reference internal" href="#scalebarobj">scalebarObj</a><ul>
<li><a class="reference internal" href="#id58">Constructor</a></li>
<li><a class="reference internal" href="#id59">Members</a></li>
<li><a class="reference internal" href="#id60">Methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#shapefileobj">shapefileObj</a><ul>
<li><a class="reference internal" href="#id61">Constructor</a></li>
<li><a class="reference internal" href="#id62">Members</a></li>
<li><a class="reference internal" href="#id63">Methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#shapeobj">shapeObj</a><ul>
<li><a class="reference internal" href="#id64">Constructor</a></li>
<li><a class="reference internal" href="#id65">Members</a></li>
<li><a class="reference internal" href="#id66">Methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#styleobj">styleObj</a><ul>
<li><a class="reference internal" href="#id67">Constructor</a></li>
<li><a class="reference internal" href="#id68">Members</a></li>
<li><a class="reference internal" href="#id69">Methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#symbolobj">symbolObj</a><ul>
<li><a class="reference internal" href="#id70">Constructor</a></li>
<li><a class="reference internal" href="#id71">Members</a></li>
<li><a class="reference internal" href="#id72">Methods</a></li>
<li><a class="reference internal" href="#example-of-usage">Example of usage</a></li>
</ul>
</li>
<li><a class="reference internal" href="#webobj">webObj</a><ul>
<li><a class="reference internal" href="#id73">Constructor</a></li>
<li><a class="reference internal" href="#id74">Members</a></li>
<li><a class="reference internal" href="#id75">Methods</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Open Source Geospatial Foundation.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.4</a>
      
    </div>

    

    
  </body>
</html>