<!DOCTYPE html>

<html lang="fr" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Environment Variables &#8212; MapServer 8.6.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx.css?v=48f05237" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=dd298242" />
    <link rel="stylesheet" type="text/css" href="../_static/ribbon.css?v=ea091bf4" />
    
    <script src="../_static/jquery.js?v=5d32c60e"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../_static/documentation_options.js?v=8161bcdf"></script>
    <script src="../_static/doctools.js?v=fd6eb6e6"></script>
    <script src="../_static/sphinx_highlight.js?v=6ffebe34"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/translations.js?v=e6b791cb"></script>
    
    <link rel="icon" href="../_static/mapserver.ico"/>
    <link rel="author" title="À propos de ces documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Recherche" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="FastCGI" href="fastcgi.html" />
    <link rel="prev" title="Debugging MapServer" href="debugging.html" /> 
  </head><body>


<!-- for main branch only, do not backport this -->

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../index.html" title="Home"><img src="../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../index.html" title="Home">Home</a> |
      <a href="../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../community/service_providers.html" title="Professional Service Providers">Service Providers</a> |      
      <a href="../faq.html" title="Frequently Asked Questions">FAQ</a> |
      <a href="https://fosstodon.org/@mapserver" title="Mastodon" target="_blank">Mastodon</a> |
      <a href="../download.html" title="Download Source or Binaries">Download </a> |
      <a class="badge" href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=KRJ2X44N3HA6U&source=url" target="_blank">
        <img src="https://img.shields.io/badge/donate-%E2%9D%A4%C2%A0-ff69b4.svg?style=flat" alt="Donate to MapServer">
      </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        
          
            <a href="../../optimization/environment_variables.html"><img src="../_static/flagicons/en.png" alt="en" title="en" border="0" /></a>
          
        
        
          
            <a href="../../ar/optimization/environment_variables.html"><img src="../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
          
        
        
          
            <a href="../../de/optimization/environment_variables.html"><img src="../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
          
        
        
          
            <a href="../../el/optimization/environment_variables.html"><img src="../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
          
        
        
          
            <a href="../../es/optimization/environment_variables.html"><img src="../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
          
        
        <img src="../_static/flagicons/fr.png" alt="fr" title="fr" border="0" width="18px" height="13px"/>
        
          
            <a href="../../id/optimization/environment_variables.html"><img src="../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
          
        
        
          
            <a href="../../it/optimization/environment_variables.html"><img src="../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
          
        
        
          
            <a href="../../ja/optimization/environment_variables.html"><img src="../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
          
        
        
          
            <a href="../../nl_NL/optimization/environment_variables.html"><img src="../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
          
        
        
          
            <a href="../../pl/optimization/environment_variables.html"><img src="../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
          
        
        
          
            <a href="../../ru/optimization/environment_variables.html"><img src="../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
          
        
        
          
            <a href="../../sq/optimization/environment_variables.html"><img src="../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
          
        
        
          
            <a href="../../tr/optimization/environment_variables.html"><img src="../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
          
        

    </td>
  </tr>
</table>


    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Index général"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="fastcgi.html" title="FastCGI"
             accesskey="N">suivant</a> |</li>
        <li class="right" >
          <a href="debugging.html" title="Debugging MapServer"
             accesskey="P">précédent</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >MapServer 8.6.0 Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Optimization</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Environment Variables</a></li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="environment-variables">
<span id="index-0"></span><span id="id1"></span><h1><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Environment Variables</a><a class="headerlink" href="#environment-variables" title="Lien vers cette rubrique">¶</a></h1>
<nav class="contents" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#environment-variables" id="id3">Environment Variables</a></p>
<ul>
<li><p><a class="reference internal" href="#background" id="id4">Background</a></p></li>
<li><p><a class="reference internal" href="#list-of-all-possible-mapserver-environment-variables" id="id5">List of all possible MapServer Environment Variables</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="background">
<h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Background</a><a class="headerlink" href="#background" title="Lien vers cette rubrique">¶</a></h2>
<p>A number of environment variables can be used to control MapServer’s
behavior or specify the location of some resources.</p>
<div class="admonition tip">
<p class="admonition-title">Astuce</p>
<p>In terms of GDAL, for a good list of GDAL’s possible variables to use
(to help control data access in MapServer), see the
the main <a class="reference external" href="https://gdal.org/user/configoptions.html#list-of-configuration-options-and-where-they-apply">GDAL site</a>
(you can also see the <a class="reference external" href="https://web.archive.org/web/20220324035447/https://trac.osgeo.org/gdal/wiki/ConfigOptions">old GDAL wiki</a>).</p>
</div>
</section>
<section id="list-of-all-possible-mapserver-environment-variables">
<h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">List of all possible MapServer Environment Variables</a><a class="headerlink" href="#list-of-all-possible-mapserver-environment-variables" title="Lien vers cette rubrique">¶</a></h2>
<dl id="index-1">
<dt>CURL_CA_BUNDLE</dt><dd><div class="versionadded">
<p><span class="versionmodified added">Ajouté dans la version 5.4.1.</span></p>
</div>
<p>Used to specify the location of the Certificate
Authority (CA) bundle file to be used by Curl when using HTTPS
connections in WMS/WFS client layers. Curl comes bundled with its
own CA bundle by default, so this variable is not required unless
you have an unusual installation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">CURL_CA_BUNDLE</span><span class="o">=/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">ca</span><span class="o">-</span><span class="n">bundle</span><span class="o">.</span><span class="n">crt</span>
</pre></div>
</div>
</dd>
</dl>
<dl id="index-2">
<dt>MS_DEBUGLEVEL</dt><dd><div class="versionadded">
<p><span class="versionmodified added">Ajouté dans la version 5.0.</span></p>
</div>
<p>A default <cite>DEBUG</cite> level value can be set using the <cite>MS_DEBUGLEVEL</cite>
environment variable in combination with the <cite>MS_ERRORFILE</cite>
variable.</p>
<p>When set, this value is used as the default debug level value for
all map and layer objects as they are loaded by the mapfile parser.
This option also sets the debug level for any msDebug() call
located outside of the context of a map or layer object, for
instance for debug statements relating to initialization before a
map is loaded.  If a <cite>DEBUG</cite> value is also specified in the mapfile
in some map or layer objects then the local value (in the mapfile)
takes precedence over the value of the environment variable.</p>
<p>This option is mostly useful when tuning applications by enabling
timing/debug output before the map is loaded, to capture the full
process initialization and map loading time, for instance.</p>
<div class="admonition seealso">
<p class="admonition-title">Voir aussi</p>
<p><a class="reference internal" href="debugging.html#debugging"><span class="std std-ref">Debugging MapServer</span></a></p>
</div>
</dd>
</dl>
<dl id="index-3">
<dt>MS_ENCRYPTION_KEY</dt><dd><div class="versionadded">
<p><span class="versionmodified added">Ajouté dans la version 4.10.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">Voir aussi</p>
<p><a class="reference internal" href="../utilities/msencrypt.html#msencrypt"><span class="std std-ref">msencrypt</span></a></p>
</div>
</dd>
</dl>
<dl id="index-4">
<dt>MS_ERRORFILE</dt><dd><p>The <cite>MS_ERRORFILE</cite> environment variable specifies the location of
the logging/debug output, with possible values being either a file
path on disk, or one of the following special values:</p>
<ul class="simple">
<li><p>« stderr » to send output to standard error. Under Apache stderr is
the Apache error_log file. Under IIS stderr goes to stdout so its
use is discouraged. With IIS it is recommended to do direct output
to a file on disk instead.</p></li>
<li><p>« stdout » to send output to standard output, combined with the
rest of MapServer’s output.</p></li>
<li><p>« windowsdebug » to send output to the Windows OutputDebugString
API, allowing the use of external programs like SysInternals
debugview to display the debug output.</p></li>
</ul>
<p>It is possible to specify <cite>MS_ERRORFILE</cite> either as an environment
variable or via a <cite>CONFIG</cite> directive inside a mapfile:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CONFIG</span>  <span class="s2">&quot;MS_ERRORFILE&quot;</span> <span class="s2">&quot;/tmp/mapserver.log&quot;</span>
</pre></div>
</div>
<p>or:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CONFIG</span>  <span class="s2">&quot;MS_ERRORFILE&quot;</span> <span class="s2">&quot;stderr&quot;</span>
</pre></div>
</div>
<p>If both the <cite>MS_ERRORFILE</cite> environment variable is set and a
<cite>CONFIG</cite> <cite>MS_ERRORFILE</cite> is set, then the <cite>CONFIG</cite> directive takes
precedence.</p>
<p>If <cite>MS_ERRORFILE</cite> is not set, then error/debug logging is disabled.
During parsing of a mapfile, error/debug logging may become
available only after the <cite>MS_ERRORFILE</cite> directive has been parsed.</p>
<div class="admonition seealso">
<p class="admonition-title">Voir aussi</p>
<p><a class="reference internal" href="debugging.html#debugging"><span class="std std-ref">Debugging MapServer</span></a></p>
</div>
</dd>
</dl>
<dl id="index-5">
<dt>MS_INDEX_TEMPLATE_DIRECTORY</dt><dd><div class="versionadded">
<p><span class="versionmodified added">Ajouté dans la version 8.6.0.</span></p>
</div>
<p>The <cite>MS_INDEX_TEMPLATE_DIRECTORY</cite> environment variable can be set
to activate an index page that lists all mapfiles and related services.
The value should point to the folder containing the HTML templates
to use.  This variable should be set in the MapServer <a class="reference internal" href="../mapfile/config.html#config"><span class="std std-ref">CONFIG</span></a> file.</p>
<p>If this variable is not set then the index page is not generated.</p>
<p>Example CONFIG file contents:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ENV</span>
  <span class="c1">#</span>
  <span class="c1"># Index page</span>
  <span class="c1">#</span>
  <span class="n">MS_INDEX_TEMPLATE_DIRECTORY</span> <span class="s2">&quot;/ms4w/share/ogcapi/templates/html-index-bootstrap/&quot;</span>
<span class="n">END</span>
</pre></div>
</div>
<p>and then calls the mapserv CGI should return the index page:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0.0.1</span><span class="o">/</span><span class="n">cgi</span><span class="o">-</span><span class="nb">bin</span><span class="o">/</span><span class="n">mapserv</span><span class="o">.</span><span class="n">exe</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">Voir aussi</p>
<p><a class="reference internal" href="../output/index-page.html#index-page"><span class="std std-ref">Index Page</span></a> &amp; <a class="reference internal" href="../development/rfc/ms-rfc-140.html#rfc140"><span class="std std-ref">MS RFC 140: MapServer Index Page</span></a></p>
</div>
</dd>
</dl>
<dl id="index-6">
<dt>MS_MAP_NO_PATH</dt><dd><div class="versionadded">
<p><span class="versionmodified added">Ajouté dans la version 5.4.</span></p>
</div>
<p>The <cite>MS_MAP_NO_PATH</cite> environment variable can be set to any value
to forbid the use of explicit paths in the map=… URL parameter.
Setting <cite>MS_MAP_NO_PATH</cite> to <strong>any value</strong> forces the use of the
map=&lt;env_variable_name&gt; mechanism in mapserv CGI URLs.</p>
<p>If this variable is not set then nothing changes and the mapserv
CGI still accepts explicit file paths via the map=… URL
parameter.</p>
<p>Example, set set <cite>MS_MAP_NOPATH</cite> and some mapfile paths in Apache’s
httpd.conf:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SetEnv</span> <span class="n">MS_MAP_NO_PATH</span> <span class="s2">&quot;foo&quot;</span>
<span class="n">SetEnv</span> <span class="n">MY_MAPFILE</span> <span class="s2">&quot;/opt/mapserver/map1/mymapfile.map&quot;</span>
</pre></div>
</div>
<p>and then calls the mapserv CGI must use environment variables for
the map=… parameter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>http://localhost/cgi-bin/mapserv?map=MY_MAPFILE&amp;mode=...
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">Voir aussi</p>
<p><a class="reference internal" href="limit_mapfile_access.html#limit-mapfile-access"><span class="std std-ref">Limit Mapfile Access</span></a> &amp; <a class="reference internal" href="../development/rfc/ms-rfc-56.html#rfc56"><span class="std std-ref">MS RFC 56: Tighten control of access to mapfiles and templates</span></a></p>
</div>
</dd>
</dl>
<dl id="index-7">
<dt>MS_MAPFILE</dt><dd><p>The mapfile to use if the map=… URL parameter is not provided.</p>
<p>It is also possible to use an environment variable name as the
value of the map=… URL parameter.  The value of this environment
variable will be used as the mapfile path:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">map</span><span class="o">=</span><span class="n">ENV_VAR</span>
</pre></div>
</div>
</dd>
</dl>
<dl id="index-8">
<dt>MS_MAPFILE_PATTERN</dt><dd><p><cite>MS_MAPFILE_PATTERN</cite> can be used to override the default regular
expression which is used to validate mapfile filename extensions.</p>
<p>The default value for this variable is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MS_MAPFILE_PATTERN</span><span class="o">=</span><span class="s1">&#39;\.map$&#39;</span>
</pre></div>
</div>
</dd>
</dl>
<dl id="index-9">
<dt>MS_MAP_BAD_PATTERN</dt><dd><div class="versionadded">
<p><span class="versionmodified added">Ajouté dans la version 7.6.3.</span></p>
</div>
<p>The <cite>MS_MAP_BAD_PATTERN</cite> environment variable can be used to specify a
Regular Expression to catch &amp; not allow problematic character sequences
in any mapfile paths passed to the mapserv CGI in the map=… URL parameter.
If the value matches then an error is generated.  By default all
MapServer installations (since 7.6.3) set a hardcoded value for
<em>MS_MAP_BAD_PATTERN</em> of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[/\\\\]{2}|[/\\\\]?\\.+[/\\\\]|,
</pre></div>
</div>
<p>which will therefore not allow « /../ » or « // » in the map value.</p>
<p>For Windows users, MS4W uses the PCRE regex library (which requires a
slightly different regex syntax), so all future MS4W releases will
contain the following default <em>MS_MAP_BAD_PATTERN</em> enabled
(to not allow « /../ » or « // » in the map value) :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[\/\\\\]{2}|[\/\\\\]?\.{2,}[\/\\\\]|,
</pre></div>
</div>
<p>For more Windows information see <a class="reference external" href="https://ms4w.com/README_INSTALL.html#securing-your-ms4w-installation">Securing your MS4W Installation</a></p>
<div class="admonition seealso">
<p class="admonition-title">Voir aussi</p>
<p><a class="reference internal" href="limit_mapfile_access.html#limit-mapfile-access"><span class="std std-ref">Limit Mapfile Access</span></a> &amp; Associated <a class="reference external" href="https://github.com/MapServer/MapServer/pull/6314">Pull Request</a> for the 7.6.3 release</p>
</div>
</dd>
</dl>
<span id="index-10"></span><dl id="ms-context-bad-pattern">
<dt>MS_CONTEXT_BAD_PATTERN</dt><dd><div class="versionadded">
<p><span class="versionmodified added">Ajouté dans la version 8.0.1.</span></p>
</div>
<p>The <cite>MS_CONTEXT_BAD_PATTERN</cite> environment variable can be used to specify a
Regular Expression to catch &amp; not allow problematic character sequences
in any map context paths passed to the mapserv CGI in the context=… URL parameter.
If the value matches then an error is generated.  By default all
MapServer installations (since 8.0.1) set a hardcoded value for
<em>MS_CONTEXT_BAD_PATTERN</em> of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[/\\]{2}|[/\\]?\\.+[/\\]|,
</pre></div>
</div>
<p>which will therefore not allow « /../ » or « // » in the map context value.</p>
<p>For Windows users, MS4W uses the PCRE regex library (which requires a
slightly different regex syntax), so all future MS4W releases will
contain the following default <em>MS_MAP_BAD_CONTEXT_PATTERN</em> enabled
(to not allow « /../ » or « // » in the map context value) :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[\/\\\\]{2}|[\/\\\\]?\.{2,}[\/\\\\]|,
</pre></div>
</div>
<p>For more Windows information see <a class="reference external" href="https://ms4w.com/README_INSTALL.html#securing-your-ms4w-installation">Securing your MS4W Installation</a></p>
<div class="admonition seealso">
<p class="admonition-title">Voir aussi</p>
<p><a class="reference internal" href="limit_mapfile_access.html#limit-mapfile-access"><span class="std std-ref">Limit Mapfile Access</span></a></p>
</div>
</dd>
</dl>
<span id="index-11"></span><dl id="ms-context-pattern">
<dt>MS_CONTEXT_PATTERN</dt><dd><div class="versionadded">
<p><span class="versionmodified added">Ajouté dans la version 8.0.1.</span></p>
</div>
<p>The <cite>MS_CONTEXT_PATTERN</cite> environment variable can be used to specify a
Regular Expression that must be matched by all file paths passed
to the mapserv CGI in the context=… URL parameter.</p>
<p>If <cite>MS_CONTEXT_PATTERN</cite> is not set then no map context can be loaded.</p>
<p>Apache’s SetEnv directive can be used to restrict mapfiles to a
specific directory and subdirectories.</p>
<ul>
<li><p><em>Unix users</em> may set the following expression in Apache to restrict
mapfiles to the <em>/opt/mapserver</em> directory and subdirectories:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SetEnv</span> <span class="n">MS_CONTEXT_PATTERN</span> <span class="s2">&quot;^\/opt\/mapserver\/([^\.][_A-Za-z0-9\-\.]+\/</span><span class="si">{1}</span><span class="s2">)*([_A-Za-z0-9\-\.]+\.(xml))$&quot;</span>
</pre></div>
</div>
</li>
<li><p><em>Windows Apache/MS4W users</em> can set the following expression in the Apache
conf file, to limit the possible MAP= paths to the common
<em>C:/ms4w/apps/</em> directory (where all MS4W mapfiles and applications live),
allow encoded urls, allow « . » or « _ » or « - » in MAP= paths but disallow « .. »
directory traversing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SetEnv</span> <span class="n">MS_CONTEXT_PATTERN</span> <span class="s2">&quot;^(C:)?\/ms4w\/apps\/((?!\.</span><span class="si">{2}</span><span class="s2">)[_A-Za-z0-9\-\.]+\/</span><span class="si">{1}</span><span class="s2">)*([_A-Za-z0-9\-\.]+\.(xml))$&quot;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>MS4W users can see specific examples at: <a class="reference external" href="https://ms4w.com/README_INSTALL.html#securing-your-ms4w-installation">https://ms4w.com/README_INSTALL.html#securing-your-ms4w-installation</a></p>
</div>
</li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">Voir aussi</p>
<p><a class="reference internal" href="limit_mapfile_access.html#limit-mapfile-access"><span class="std std-ref">Limit Mapfile Access</span></a></p>
</div>
</dd>
</dl>
<dl id="index-12">
<dt>MS_MAP_PATTERN</dt><dd><div class="versionadded">
<p><span class="versionmodified added">Ajouté dans la version 5.4.</span></p>
</div>
<p>The <cite>MS_MAP_PATTERN</cite> environment variable can be used to specify a
Regular Expression that must be matched by all mapfile paths passed
to the mapserv CGI in the map=… URL parameter.</p>
<p>If <cite>MS_MAP_PATTERN</cite> is not set then any .map file can be loaded.</p>
<p>Apache’s SetEnv directive can be used to restrict mapfiles to a
specific directory and subdirectories.</p>
<ul>
<li><p><em>Unix users</em> may set the following expression in Apache to restrict
mapfiles to the <em>/opt/mapserver</em> directory and subdirectories:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SetEnv</span> <span class="n">MS_MAP_PATTERN</span> <span class="s2">&quot;^\/opt\/mapserver\/([^\.][_A-Za-z0-9\-\.]+\/</span><span class="si">{1}</span><span class="s2">)*([_A-Za-z0-9\-\.]+\.(map))$&quot;</span>
</pre></div>
</div>
</li>
<li><p><em>Windows Apache/MS4W users</em> can set the following expression in the Apache
conf file, to limit the possible MAP= paths to the common
<em>C:/ms4w/apps/</em> directory (where all MS4W mapfiles and applications live),
allow encoded urls, allow « . » or « _ » or « - » in MAP= paths but disallow « .. »
directory traversing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SetEnv</span> <span class="n">MS_MAP_PATTERN</span> <span class="s2">&quot;^(C:)?\/ms4w\/apps\/((?!\.</span><span class="si">{2}</span><span class="s2">)[_A-Za-z0-9\-\.]+\/</span><span class="si">{1}</span><span class="s2">)*([_A-Za-z0-9\-\.]+\.(map))$&quot;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>MS4W users can see specific examples at: <a class="reference external" href="https://ms4w.com/README_INSTALL.html#securing-your-ms4w-installation">https://ms4w.com/README_INSTALL.html#securing-your-ms4w-installation</a></p>
</div>
</li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">Voir aussi</p>
<p><a class="reference internal" href="limit_mapfile_access.html#limit-mapfile-access"><span class="std std-ref">Limit Mapfile Access</span></a> &amp; <a class="reference internal" href="../development/rfc/ms-rfc-56.html#rfc56"><span class="std std-ref">MS RFC 56: Tighten control of access to mapfiles and templates</span></a></p>
</div>
</dd>
</dl>
<dl class="simple" id="index-13">
<dt>MS_MODE</dt><dd><p>Default value for the mode=… URL parameter. Setting mode=… in
the URL takes precedence over the environment variable.</p>
</dd>
</dl>
<dl id="index-14">
<dt>MS_OPENLAYERS_CSS_URL</dt><dd><p>The URL to the OpenLayers CSS file used for styling the <a class="reference internal" href="../cgi/openlayers.html#openlayers"><span class="std std-ref">MapServer OpenLayers Viewer</span></a>.
for instance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span><span class="n">mapserver</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="mf">10.4.0</span><span class="o">/</span><span class="n">ol</span><span class="o">-</span><span class="n">mapserver</span><span class="o">.</span><span class="n">css</span>
</pre></div>
</div>
</dd>
</dl>
<dl id="index-15">
<dt>MS_OPENLAYERS_JS_URL</dt><dd><p>The URL to the OpenLayers JavaScript library used by the <a class="reference internal" href="../cgi/openlayers.html#openlayers"><span class="std std-ref">MapServer OpenLayers Viewer</span></a> (can be used when
testing WMS services using imagetype <code class="docutils literal notranslate"><span class="pre">application/openlayers</span></code>),
for instance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span><span class="n">mapserver</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="mf">10.4.0</span><span class="o">/</span><span class="n">ol</span><span class="o">-</span><span class="n">mapserver</span><span class="o">.</span><span class="n">js</span>
</pre></div>
</div>
</dd>
</dl>
<dl id="index-16">
<dt>MS_TEMPPATH</dt><dd><div class="versionadded">
<p><span class="versionmodified added">Ajouté dans la version 6.0.</span></p>
</div>
<p>Set the <a class="reference internal" href="../mapfile/web.html#web"><span class="std std-ref">WEB</span></a> <cite>TEMPPATH</cite>.</p>
</dd>
</dl>
<dl id="index-17">
<dt>MS_XMLMAPFILE_XSLT</dt><dd><p>Used to enable XML Mapfile support.  Points to the location of the
XSLT to use for the XML-&gt;text mapfile conversion.</p>
<div class="admonition seealso">
<p class="admonition-title">Voir aussi</p>
<p><a class="reference internal" href="../mapfile/xml_mapfile.html#xml-mapfile"><span class="std std-ref">XML Mapfile support</span></a></p>
</div>
</dd>
</dl>
<span id="index-18"></span><dl id="index-19">
<dt>OGCAPI_HTML_TEMPLATE_DIRECTORY</dt><dd><div class="versionadded">
<p><span class="versionmodified added">Ajouté dans la version 8.0.</span></p>
</div>
<p>The <cite>OGCAPI_HTML_TEMPLATE_DIRECTORY</cite> environment variable can be set
to point to the template files to use for HTML output for the
OGCAPI: Features service.</p>
<p>If this variable is not set, or the mapfile’s WEB.METADATA parameter
<cite>oga_html_template_directory</cite> is not set, then no HTML output will be generated
(you may see a <cite>« Template directory not set. »</cite> error message for <cite>ogcapi?f=html</cite>
requests).</p>
<p>Example CONFIG file contents:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ENV</span>
  <span class="c1">#</span>
  <span class="c1"># OGC API</span>
  <span class="c1">#</span>
  <span class="n">OGCAPI_HTML_TEMPLATE_DIRECTORY</span> <span class="s2">&quot;/ms4w/share/ogcapi/templates/html-bootstrap/&quot;</span>
<span class="n">END</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">Voir aussi</p>
<p><a class="reference internal" href="../ogc/ogc_api.html#ogcapi"><span class="std std-ref">OGC API : Features</span></a> &amp; <a class="reference internal" href="../development/rfc/ms-rfc-134.html#rfc134"><span class="std std-ref">MS RFC 134: OGC API Support</span></a></p>
</div>
</dd>
<dt>PROJ_DATA</dt><dd><p>The <cite>PROJ_DATA</cite> environment variable or <cite>CONFIG</cite> directive can be
used to specify the directory where the PROJ data files are located
(including the « proj.db » file, or « epsg » file for older PROJ versions),
if they are not in the default directory where PROJ expects them.</p>
<div class="admonition tip">
<p class="admonition-title">Astuce</p>
<p>Since the PROJ 9.1 release, the former <cite>PROJ_LIB</cite> variable has
been replaced with <cite>PROJ_DATA</cite></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For the full list of possible PROJ variables to use see the
<a class="reference external" href="https://proj.org/usage/environmentvars.html">official list</a>.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">Voir aussi</p>
<p><cite>Setting the location of PROJ files</cite> in <a class="reference internal" href="../mapfile/projection.html#projection"><span class="std std-ref">PROJECTION</span></a>.</p>
</div>
</dd>
</dl>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Recherche rapide</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p>
<a href="../about.html" title="About">About</a><br>
<a href="../products.html" title="Products">Products</a><br>
<a href="../community/index.html" title="Community">Community</a><br>
<a href="../development/index.html" title="Development">Development</a><br>
<a href="../download.html" title="Downloads">Downloads</a><br>
<a href="../documentation.html" title="Documentation">Documentation</a><br>
<a href="../faq.html" title="FAQ">FAQ</a><br>
<a href="../psc.html" title="PSC">PSC</a><br>
<a href="https://fosstodon.org/@mapserver" title="Mastodon">Mastodon</a>
</p>
  <h3>Current Table Of Contents</h3>
  <ul>
<li><a class="reference internal" href="#">Environment Variables</a><ul>
<li><a class="reference internal" href="#background">Background</a></li>
<li><a class="reference internal" href="#list-of-all-possible-mapserver-environment-variables">List of all possible MapServer Environment Variables</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Index général"
             >index</a></li>
        <li class="right" >
          <a href="fastcgi.html" title="FastCGI"
             >suivant</a> |</li>
        <li class="right" >
          <a href="debugging.html" title="Debugging MapServer"
             >précédent</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >MapServer 8.6.0 Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >Optimization</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Environment Variables</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; <a href="../copyright.html">Copyright</a> 2025, Open Source Geospatial Foundation.
      Mis à jour le 2025-12-12.
      Créé en utilisant <a href="https://www.sphinx-doc.org/">Sphinx</a> 9.0.4.
    </div>
  </body>
</html>