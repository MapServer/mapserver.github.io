<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" lang="fr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Exemple 1.6 &#8212; MapServer 7.0.3 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '7.0.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="shortcut icon" href="../_static/mapserver.ico"/>
    <link rel="author" title="À propos de ces documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Recherche" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="MapServer 7.0.3 documentation" href="../index.html" /> 
  </head>
  <body role="document">

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../index.html" title="Home"><img src="../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../index.html" title="Home">Home</a> |
      <a href="../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../community/service_providers.html" title="Professional Service Providers">Service Providers</a> |      
      <a href="../faq.html" title="Frequently Asked Questions">FAQ</a> |
      <a href="../download.html" title="Download Source or Binaries">Download </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        
          
            <a href="../../tutorial/example1-6.html"><img src="../_static/flagicons/en.png" alt="en" title="en" border="0" /></a>
          
        
        
          
            <a href="../../ar/tutorial/example1-6.html"><img src="../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
          
        
        
          
            <a href="../../de/tutorial/example1-6.html"><img src="../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
          
        
        
          
            <a href="../../el/tutorial/example1-6.html"><img src="../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
          
        
        
          
            <a href="../../es/tutorial/example1-6.html"><img src="../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
          
        
        <img src="../_static/flagicons/fr.png" alt="fr" title="fr" border="0" width="18px" height="13px"/>
        
          
            <a href="../../id/tutorial/example1-6.html"><img src="../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
          
        
        
          
            <a href="../../it/tutorial/example1-6.html"><img src="../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
          
        
        
          
            <a href="../../ja/tutorial/example1-6.html"><img src="../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
          
        
        
          
            <a href="../../nl_NL/tutorial/example1-6.html"><img src="../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
          
        
        
          
            <a href="../../pl/tutorial/example1-6.html"><img src="../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
          
        
        
          
            <a href="../../ru/tutorial/example1-6.html"><img src="../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
          
        
        
          
            <a href="../../sq/tutorial/example1-6.html"><img src="../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
          
        
        
          
            <a href="../../tr/tutorial/example1-6.html"><img src="../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
          
        

    </td>
  </tr>
</table>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Index général"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &#187;</li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="example-1-6">
<span id="example1-6"></span><h1>Exemple 1.6<a class="headerlink" href="#example-1-6" title="Lien permanent vers ce titre">¶</a></h1>
<div class="section" id="defining-projections-and-extents">
<h2>Définir les projections et les étendues<a class="headerlink" href="#defining-projections-and-extents" title="Lien permanent vers ce titre">¶</a></h2>
<img alt="http://demo.mapserver.org/cgi-bin/mapserv?map=/osgeo/mapserver/tutorial/htdocs/example1-6.map&amp;layer=states&amp;layer=states_label&amp;layer=modis&amp;mode=map" src="http://demo.mapserver.org/cgi-bin/mapserv?map=/osgeo/mapserver/tutorial/htdocs/example1-6.map&amp;layer=states&amp;layer=states_label&amp;layer=modis&amp;mode=map" />
<p>Whoah! Qu&#8217;est ce qu&#8217;il s&#8217;est passé ici?</p>
<p>You&#8217;ve just experienced on-the-fly reprojection. When a PROJECTION object is
defined in the mapfile, MapServer passes the layer and projection info to the
PROJ.4 library which does the reprojection.  For more information about the
PROJ.4 library, please visit <a class="reference external" href="http://proj.maptools.org/">http://proj.maptools.org/</a>.</p>
<p>Cet exemple a pour but de vous éclairer sur le support des projections dans MapServer.</p>
<p>C&#8217;est ce à quoi le mapfile ressemble: <a class="reference internal" href="example1-6-map.html#example1-6-map"><span class="std std-ref">Example1-6.map</span></a>.</p>
<p>LA première chose que vous avez peut être noté avec notre mapfile est que l&#8217;EXTENT original a été commenté et que les nouvelles valeurs de EXTENT ne ressemblent pas à des valeurs de latitude et longitude. Aussi, nous avons ajouté un objet PROJECTION près du début et dans chacune de nos couches.</p>
<p>Regardons le nouvel objet et le nouveau paramètre:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">EXTENT</span>  <span class="mf">201621.496941</span> <span class="o">-</span><span class="mf">294488.285333</span> <span class="mf">1425518.020722</span> <span class="mf">498254.511514</span>
</pre></div>
</div>
<p>The extent we provide to MapServer needs to be in the same units as the output
projection.  Since Lambert Azimuthal Equal-Area&#8217;s units are in meters, we have
to give the new extent in meters.  We can calculate the new extent using
ArcView or some other GIS package, or you can use PROJ.4&#8217;s cs2cs utility.  The
command below is what can be used to reproject the original extent values:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cs2cs</span> <span class="o">+</span><span class="n">proj</span><span class="o">=</span><span class="n">latlong</span> <span class="o">+</span><span class="n">datum</span><span class="o">=</span><span class="n">WGS84</span> <span class="o">+</span><span class="n">to</span> <span class="o">+</span><span class="n">proj</span><span class="o">=</span><span class="n">laea</span> <span class="o">+</span><span class="n">ellps</span><span class="o">=</span><span class="n">clrk66</span> <span class="o">+</span><span class="n">lat_0</span><span class="o">=</span><span class="mi">45</span> <span class="o">+</span><span class="n">lon_0</span><span class="o">=-</span><span class="mi">100</span>
</pre></div>
</div>
<p>Après avoir tapé la commande, entrez la paire de coordonnées sud-ouest (coordonnées du coin en bas à gauche), encore séparée par un espace:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">-</span><span class="mf">97.5</span> <span class="mf">41.619778</span>
</pre></div>
</div>
<p>pour lequel l&#8217;utilitaire &#8220;cs2cs&#8221; renvoie les valeurs:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mf">208398.01</span>       <span class="o">-</span><span class="mf">372335.44</span> <span class="mf">0.000</span>
</pre></div>
</div>
<p>Ensuite, je tape la paire de coordonnées nord-est (coordonnées du coin en haut à droite), encore séparée par un espace:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">-</span><span class="mf">82.122902</span> <span class="mf">49.38562</span>
</pre></div>
</div>
<p>et les valeurs suivantes sont retournées:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mf">1285308.08</span>      <span class="mf">632638.93</span> <span class="mf">0.000</span>
</pre></div>
</div>
<p>Vous noterez que &#8220;cs2cs&#8221; retourne un jeu de trois valeurs.  Vous pouvez ignorez la troisième valeur, 0.000, comme c&#8217;est un moyen d&#8217;indiquer l&#8217;altitude (que nous n&#8217;utilisons pas). De toute façon, nous pouvons présenter l&#8217;EXTENT comme:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">EXTENT</span> <span class="mf">208398.01</span> <span class="o">-</span><span class="mf">372335.44</span> <span class="mf">1285308.08</span> <span class="mf">632638.93</span>
</pre></div>
</div>
<p>Mais il correspond pas à l&#8217;étendue ci-dessus, vous direz. Bien, c&#8217;est ce qu&#8217;il se passe quand vous reprojectez &#8211; la carte n&#8217;est plus nécessairement centrée où vous l&#8217;attendiez. Vous pouvez esquiver le problème, en prenant quelques milliers de mètres en moins sur la gauche et en ajoutant quelques uns à droite.  Ou, vous pouvez utiliser un logiciel SIG graphique pour obtenir l&#8217;étendue. <a class="reference external" href="http://biometry.gis.umn.edu/tutorial/arcview_extent.html">Voici les instructions</a> pour avoir l&#8217;EXTENT en utilisant ArcView.</p>
<p>MapServer can take projection definitions in two ways. The first is shown in the
mapfile&#8217;s output PROJECTION object (the first PROJECTION block). This is the
traditional way of passing parameters to the PROJ.4 library. The other way is
to use the EPSG codes. These codes are standard projection codes (or spatial
reference identifiers) as defined by the European Petroleum Survey Group
(EPSG). In the case of our Lambert Azimuthal Equal-Area projection, it has a
code of &#8220;2163&#8221;. If you comment out the four lines after PROJECTION and uncomment
the line &#8220;init=epsg:2163&#8221;, this will provide the same information to PROJ.4. If
you want to learn more about EPSG codes, have a look at
&#8220;/usr/local/share/proj/epsg&#8221; or &#8220;C:/proj/nad/epsg&#8221; (&#8220;/ms4w/proj/nad&#8221; in MS4W).</p>
<p>Allez vérifier le site web de l&#8217;EPSG <a class="reference external" href="http://www.epsg.org">http://www.epsg.org</a>.</p>
<p>Si vous avez besoin d&#8217;en apprendre plus sur les projections, merci de regarder quelqu&#8217;uns des liens ci-dessous:</p>
<ul class="simple">
<li><a class="reference external" href="http://www.colorado.edu/geography/gcraft/notes/mapproj/mapproj_f.html">http://www.colorado.edu/geography/gcraft/notes/mapproj/mapproj_f.html</a></li>
<li><a class="reference external" href="http://www.geography.hunter.cuny.edu/mp/">http://www.geography.hunter.cuny.edu/mp/</a></li>
<li><a class="reference external" href="http://www.nationalatlas.gov/articles/mapping/a_projections.html">http://www.nationalatlas.gov/articles/mapping/a_projections.html</a></li>
<li><a class="reference external" href="http://en.wikipedia.org/wiki/Map_projection">http://en.wikipedia.org/wiki/Map_projection</a></li>
<li><a class="reference external" href="http://erg.usgs.gov/isb/pubs/MapProjections/projections.html">http://erg.usgs.gov/isb/pubs/MapProjections/projections.html</a></li>
<li><a class="reference external" href="http://spatialreference.org/">http://spatialreference.org/</a></li>
</ul>
<p>Vous pouvez en savoir plus en cherchant sur le web &#8220;projection cartographique&#8221;.</p>
<hr class="docutils" />
<p><a class="reference internal" href="example1-5.html#example1-5"><span class="std std-ref">Revenir à l&#8217;exemple 1.5</span></a> | <a class="reference internal" href="example1-7.html#example1-7"><span class="std std-ref">Aller à l&#8217;exemple 1.7</span></a></p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3>Recherche rapide</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3>Navigation</h3>
<p>
<a href="../about.html" title="About">About</a><br>
<a href="../products.html" title="Products">Products</a><br>
<a href="../community/index.html" title="Community">Community</a><br>
<a href="../development/index.html" title="Development">Development</a><br>
<a href="../download.html" title="Downloads">Downloads</a><br>
<a href="../documentation.html" title="Documentation">Documentation</a><br>
<a href="../faq.html" title="FAQ">FAQ</a><br>
<a href="../psc.html" title="PSC">PSC</a>
</p>
  <h3>Current Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Exemple 1.6</a><ul>
<li><a class="reference internal" href="#defining-projections-and-extents">Définir les projections et les étendues</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Index général"
             >index</a></li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; <a href="../copyright.html">Copyright</a> 2016, Open Source Geospatial Foundation.
      Mis à jour le 2016-12-09.
      Créé avec <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.9.
    </div>
  </body>
</html>