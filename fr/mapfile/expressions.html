<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" lang="fr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Expressions &#8212; MapServer 7.0.6 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '7.0.6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="shortcut icon" href="../_static/mapserver.ico"/>
    <link rel="author" title="À propos de ces documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Recherche" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="MapServer 7.0.6 documentation" href="../index.html" />
    <link rel="up" title="Mapfile" href="index.html" />
    <link rel="next" title="FEATURE" href="feature.html" />
    <link rel="prev" title="Affichage des caractères internationaux dans MapServer" href="encoding.html" /> 
  </head>
  <body role="document">

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../index.html" title="Home"><img src="../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../index.html" title="Home">Home</a> |
      <a href="../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../community/service_providers.html" title="Professional Service Providers">Service Providers</a> |      
      <a href="../faq.html" title="Frequently Asked Questions">FAQ</a> |
      <a href="https://twitter.com/mapserver_osgeo" title="Twitter">Twitter</a> |
      <a href="../download.html" title="Download Source or Binaries">Download </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        
          
            <a href="../../mapfile/expressions.html"><img src="../_static/flagicons/en.png" alt="en" title="en" border="0" /></a>
          
        
        
          
            <a href="../../ar/mapfile/expressions.html"><img src="../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
          
        
        
          
            <a href="../../de/mapfile/expressions.html"><img src="../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
          
        
        
          
            <a href="../../el/mapfile/expressions.html"><img src="../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
          
        
        
          
            <a href="../../es/mapfile/expressions.html"><img src="../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
          
        
        <img src="../_static/flagicons/fr.png" alt="fr" title="fr" border="0" width="18px" height="13px"/>
        
          
            <a href="../../id/mapfile/expressions.html"><img src="../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
          
        
        
          
            <a href="../../it/mapfile/expressions.html"><img src="../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
          
        
        
          
            <a href="../../ja/mapfile/expressions.html"><img src="../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
          
        
        
          
            <a href="../../nl_NL/mapfile/expressions.html"><img src="../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
          
        
        
          
            <a href="../../pl/mapfile/expressions.html"><img src="../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
          
        
        
          
            <a href="../../ru/mapfile/expressions.html"><img src="../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
          
        
        
          
            <a href="../../sq/mapfile/expressions.html"><img src="../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
          
        
        
          
            <a href="../../tr/mapfile/expressions.html"><img src="../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
          
        

    </td>
  </tr>
</table>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Index général"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="feature.html" title="FEATURE"
             accesskey="N">suivant</a> |</li>
        <li class="right" >
          <a href="encoding.html" title="Affichage des caractères internationaux dans MapServer"
             accesskey="P">précédent</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >Documentation de MapServer 7.0.6</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Mapfile</a> &#187;</li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="expressions">
<span id="index-0"></span><span id="id1"></span><h1><a class="toc-backref" href="#contents">Expressions</a><a class="headerlink" href="#expressions" title="Lien permanent vers ce titre">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Dirk Tilger</td>
</tr>
<tr class="field-even field"><th class="field-name">Contact:</th><td class="field-body">dirk at MIRIUP.DE</td>
</tr>
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Umberto Nicoletti</td>
</tr>
<tr class="field-even field"><th class="field-name">Contact:</th><td class="field-body">umberto.nicoletti at gmail.com</td>
</tr>
<tr class="field-odd field"><th class="field-name">Last Updated:</th><td class="field-body">2016-11-26</td>
</tr>
</tbody>
</table>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#expressions" id="id2">Expressions</a><ul>
<li><a class="reference internal" href="#introduction" id="id3">Introduction</a><ul>
<li><a class="reference internal" href="#string-quotation" id="id4">Guillemets pour les chaînes de caractères</a></li>
<li><a class="reference internal" href="#quotes-escaping-in-strings" id="id5">Echappement des guillemets dans les chaînes</a></li>
<li><a class="reference internal" href="#using-attributes" id="id6">Utiliser les attributs</a></li>
</ul>
</li>
<li><a class="reference internal" href="#expression-types" id="id7">Types d&#8217;expression</a></li>
<li><a class="reference internal" href="#string-comparison-equality" id="id8">Comparaison de chaînes (égalité)</a></li>
<li><a class="reference internal" href="#regular-expression-comparison" id="id9">Comparaison d&#8217;expressions régulières</a></li>
<li><a class="reference internal" href="#list-expressions" id="id10">Expressions de liste</a></li>
<li><a class="reference internal" href="#mapserver-expressions" id="id11">&#8220;Expressions MapServer&#8221;</a><ul>
<li><a class="reference internal" href="#typing" id="id12">Typing</a></li>
<li><a class="reference internal" href="#logical-expressions" id="id13">Expressions logiques</a></li>
<li><a class="reference internal" href="#string-expressions-that-return-a-logical-value" id="id14">Expressions de chaîne qui retourne une valeur logique</a></li>
<li><a class="reference internal" href="#arithmetic-expressions-that-return-a-logical-value" id="id15">Expressions arithmétiques qui retourne une valeur logique</a></li>
<li><a class="reference internal" href="#spatial-expressions-that-return-a-logical-value-geos" id="id16">Expressions spatiales qui retournent une valeur logique (GEOS)</a></li>
<li><a class="reference internal" href="#string-operations-that-return-a-string" id="id17">Opérations sur les chaînes qui retournent un chaîne</a></li>
<li><a class="reference internal" href="#functions-that-return-a-string" id="id18">Fonctions qui retournent une chaîne</a></li>
<li><a class="reference internal" href="#string-functions-that-return-a-number" id="id19">Fonctions de chaînes qui retournent un nombre</a></li>
<li><a class="reference internal" href="#arithmetic-operations-and-functions-that-return-a-number" id="id20">Opérations arithmétiques et fonctions qui retournent un  nombre</a></li>
<li><a class="reference internal" href="#spatial-functions-that-return-a-number-geos" id="id21">Fonctions spatiales qui retournent un nombre (GEOS)</a></li>
<li><a class="reference internal" href="#spatial-functions-that-return-a-shape-geos" id="id22">Fonctions spatiales qui retournent une forme (GEOS)</a></li>
<li><a class="reference internal" href="#temporal-expressions" id="id23">Expressions temporelles</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#contents">Introduction</a><a class="headerlink" href="#introduction" title="Lien permanent vers ce titre">¶</a></h2>
<p>A partir  de la version 6.0, les expressions sont utilisées à quatre endroits :</p>
<ul class="simple">
<li><p class="first">Dans le FILTER de l&#8217;objet <a class="reference internal" href="layer.html#layer"><span class="std std-ref">LAYER</span></a> pour spécifier les entités du jeu de de données qui doivent être inclus dans la couche.</p>
</li>
<li><p class="first">Dans une <cite>EXPRESSION</cite> de l&#8217;objet <a class="reference internal" href="class.html#class"><span class="std std-ref">CLASS</span></a> spécifier à quelles entités du jeu de données la <cite>CLASS</cite> s&#8217;applique.</p>
</li>
<li><p class="first">Dans le <cite>TEXT</cite> de l&#8217;objet <a class="reference internal" href="class.html#class"><span class="std std-ref">CLASS</span></a> pour spécifier le texte pour l&#8217;étiquetage des entités.</p>
</li>
<li><p class="first">Dans <cite>GEOMTRANSFORM</cite> de l&#8217;objet <a class="reference internal" href="style.html#style"><span class="std std-ref">STYLE</span></a>.</p>
</li>
</ul>
<div class="section" id="string-quotation">
<span id="index-1"></span><h3><a class="toc-backref" href="#contents">Guillemets pour les chaînes de caractères</a><a class="headerlink" href="#string-quotation" title="Lien permanent vers ce titre">¶</a></h3>
<p>Les chaînes peuvent être entourées en utilisant de guillemets simples ou doubles:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s1">&#39;This is a string&#39;</span>
<span class="s2">&quot;And this is also a string&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="quotes-escaping-in-strings">
<span id="index-2"></span><h3><a class="toc-backref" href="#contents">Echappement des guillemets dans les chaînes</a><a class="headerlink" href="#quotes-escaping-in-strings" title="Lien permanent vers ce titre">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">L&#8217;échappement des guillemets n&#8217;est pas supporté dans MapServer pour les versions inférieures à la version 5.0.</p>
</div>
<p>A partir de MapServer 5.0, si votre jeu de données contient des guillemets doubles, vous pouvez utilisez une séquence d&#8217;échappement similaire à celle du langage C :</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;National </span><span class="se">\&quot;</span><span class="s2">hero</span><span class="se">\&quot;</span><span class="s2"> statue&quot;</span>
</pre></div>
</div>
<p>Pour échapper un guillemet simple, utilisez la séquence suivante à la place :</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;National </span><span class="se">\&#39;</span><span class="s2">hero</span><span class="se">\&#39;</span><span class="s2"> statue&quot;</span>
</pre></div>
</div>
<p>Starting with MapServer  6.0 you don&#8217;t need to escape single quotes
within double quoted strings and you don&#8217;t need to escape double
quotes within single quoted strings.  In 6.0 you can also write
the string as follows:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s1">&#39;National &quot;hero&quot; statue&#39;</span>
<span class="o">...</span>
</pre></div>
</div>
<p>Pour échapper un guillemet simple, utilisez la séquence suivante à la place :</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;National &#39;hero&#39; statue&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="using-attributes">
<span id="index-3"></span><h3><a class="toc-backref" href="#contents">Utiliser les attributs</a><a class="headerlink" href="#using-attributes" title="Lien permanent vers ce titre">¶</a></h3>
<p>Des valeurs d&#8217;attributs peuvent être référencées dans le mapfile et utilisées dans les expressions. Les références d&#8217;attributs sont sensibles à la casse et peuvent être utilisées dans les types d&#8217;expressions suivants</p>
<ul class="simple">
<li><p class="first">Dans le <cite>FILTER</cite> de l&#8217;objet <a class="reference internal" href="layer.html#layer"><span class="std std-ref">LAYER</span></a></p>
</li>
<li><p class="first">Dans l&#8217;`EXPRESSION` de l&#8217;objet <a class="reference internal" href="class.html#class"><span class="std std-ref">CLASS</span></a></p>
</li>
<li><p class="first">Dans le <cite>TEXT</cite> de l&#8217;objet <a class="reference internal" href="class.html#class"><span class="std std-ref">CLASS</span></a></p>
</li>
</ul>
<p>Référencer un attribut se fait en trourant le nom de l&#8217;attribut entre crochets, comme ceci : [ATTRIBUTENAME]. Ensuite, chaque occurrence de &#8220;[NOMATTRIBUT]&#8221; sera remplacée par la valeur actuelle de l&#8217;attribut &#8220;NOMATTRIBUT&#8221;.</p>
<p>Example: The data set of our layer has the attribute &#8220;BUILDING_NAME&#8221;.
We want the value of this attribute to appear inside a string.  This
can be accomplished as follows (single or double quotes):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s1">&#39;The [BUILDING_NAME] building&#39;</span>
</pre></div>
</div>
<p>Pour la bâtiment qui a son attribut BUILDING_NAME défini à &#8220;Historical Museum&#8221;, la chaîne résultante est :</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s1">&#39;The Historical Museum building&#39;</span>
</pre></div>
</div>
<p>Pour les couches <a class="reference internal" href="../input/raster.html#raster"><span class="std std-ref">Données Raster</span></a>, des attributs spéciaux ont été définis pour être utiliser pour de la classification, par exemple :</p>
<ul class="simple">
<li><p class="first">[PIXEL] ... va devenir la valeur du pixel sous forme d&#8217;un nombre</p>
</li>
<li><p class="first">[RED], [GREEN], [BLUE] ... deviendront, respectivement, les valeur des couleurs pour la composante rouge (red), verte (green) et bleue (blue) de la valeur du pixel.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="expression-types">
<span id="index-4"></span><h2><a class="toc-backref" href="#contents">Types d&#8217;expression</a><a class="headerlink" href="#expression-types" title="Lien permanent vers ce titre">¶</a></h2>
<p>Les expressions sont utilisées pour faire correspondre les valeurs d&#8217;attributs avec certaines vérifications logiques. Il y a troistypes différents d&#8217;expression que vous pouvez utiliser avec MapServer</p>
<ul class="simple">
<li><p class="first">Comparaisons de chaînes: un attribut simple est comparé avec une valeur de chaîne.</p>
</li>
<li><p class="first">Expressions régulières: un attribut seul est comparé via une expression régulière.</p>
</li>
<li>List expressions: Compare a string attribute to a list of multiple
possible values</li>
<li><p class="first">&#8220;Expressions MapServer&#8221; logiques : un ou plusieurs attributs sont comparés en utilisant des expressions logiques.</p>
</li>
</ul>
</div>
<div class="section" id="string-comparison-equality">
<span id="index-5"></span><h2><a class="toc-backref" href="#contents">Comparaison de chaînes (égalité)</a><a class="headerlink" href="#string-comparison-equality" title="Lien permanent vers ce titre">¶</a></h2>
<p>La comparaison de chaînes signifie que, comme le nom le suggère,  que les valeurs d&#8217;attributs sont vérifiées si elles sont égales à une valeur donnée. Les comparaisons de chaînes sont la forme la plus simple des expressions MapServer et aussi l&#8217;option la plus rapide.</p>
<p id="index-6">Pour utiliser une comparaison de chaînes pour filtrer une <a class="reference internal" href="layer.html#layer"><span class="std std-ref">LAYER</span></a>, <cite>FILTERITEM</cite> et <cite>FILTER</cite> doivent tous les deux être définis. Le <cite>FILTERITEM</cite> est défini au nom de l&#8217;attribut. Le <cite>FILTER</cite> est défini à la valeur pour la comparaison. La même règle s&#8217;applique au <a class="reference internal" href="layer.html#classitem"><span class="std std-ref">CLASSITEM</span></a> dans l&#8217;objet <a class="reference internal" href="layer.html#layer"><span class="std std-ref">LAYER</span></a> et à l&#8217;`EXPRESSION` dans l&#8217;objet <a class="reference internal" href="class.html#class"><span class="std std-ref">CLASS</span></a>.</p>
<p>Exemple pour un filtre de comparaison de chaînes simple</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">FILTER</span> <span class="s2">&quot;2005&quot;</span>
<span class="n">FILTERITEM</span> <span class="s2">&quot;year&quot;</span>
</pre></div>
</div>
<p>devrait correspondre tous les enregistrements qui ont l&#8217;attribut &#8220;year&#8221; défini à &#8220;2005&#8221;. La carte générée apparaitra comme si le jeu de données contenait seulement les éléments qui ont leur &#8220;year&#8221; défini à &#8220;2005&#8221;.</p>
<p>De manière similaire, une classification des éléments correspondants à ci-dessus serait faite en définisssant la <cite>CLASSITEM</cite> dans la <a class="reference internal" href="layer.html#layer"><span class="std std-ref">LAYER</span></a> et l&#8217;`EXPRESSION` dans la <a class="reference internal" href="class.html#class"><span class="std std-ref">CLASS</span></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">LAYER</span>
    <span class="n">NAME</span> <span class="s2">&quot;example&quot;</span>
    <span class="n">CLASSITEM</span> <span class="s2">&quot;year&quot;</span>
    <span class="o">...</span>
    <span class="n">CLASS</span>
        <span class="n">NAME</span> <span class="s2">&quot;year-2005&quot;</span>
        <span class="n">EXPRESSION</span> <span class="s2">&quot;2005&quot;</span>
        <span class="o">...</span>
    <span class="n">END</span>
<span class="n">END</span>
</pre></div>
</div>
<p>Pour des raions que nous expliqueront plus tard, les valeurs pour à la fois <cite>CLASSITEM</cite> et <cite>FILTERITEM</cite> ne devront ni commencé avec un caractère &#8216;/&#8217; ni avec un caractère &#8216;(&#8216;.</p>
<span class="target" id="index-7"></span></div>
<div class="section" id="regular-expression-comparison">
<span id="index-8"></span><h2><a class="toc-backref" href="#contents">Comparaison d&#8217;expressions régulières</a><a class="headerlink" href="#regular-expression-comparison" title="Lien permanent vers ce titre">¶</a></h2>
<p>Les expressions régulières sont un mécanisme de comparaison de motifs texte venant du monde Unix. La fonctionnalité de correspondance des expressions régulières est fournie par le système d&#8217;exploitation sous UNIX et donc est peu dépendante du système d&#8217;exploitation. Cependant, leurs fonctionnalités minimum sont celles définies par celles associées au standard POSIX. La documentation sur la bibliothèque d&#8217;expressions régulières est d&#8217;habitude dans la page de manuel &#8220;regex&#8221; (&#8220;man regex&#8221;) sur les systèmes Unix.</p>
<p>Les expressions régulières avec MapServer fonctionnent de manière similaire à la comparaison de chaîne, mais permettent des opérations plus complexes. Elles sont plus lentes que les comparaisons de chaîne pures, mais restent plus rapides que des expressions logiques. Comme pour les comparaisons de chaîne, quand vous utilisez des expressions régulières, le <cite>FILTERITEM</cite> (<cite>FILTER</cite> de <a class="reference internal" href="layer.html#layer"><span class="std std-ref">LAYER</span></a>) ou le <cite>CLASSITEM</cite> (<cite>EXPRESSION</cite> de <a class="reference internal" href="class.html#class"><span class="std std-ref">CLASS</span></a>) doivent être défini si les éléments ne sont pas inclus dans le <cite>FILTER</cite> de la <a class="reference internal" href="layer.html#layer"><span class="std std-ref">LAYER</span></a>  ou de l&#8217;<cite>EXPRESSION</cite> de <a class="reference internal" href="class.html#class"><span class="std std-ref">CLASS</span></a>.</p>
<p>Une expression regulière consiste typiquement de caractères avec des significations spéciales et des caractères interprétés en tant que tels. Les caractères alphanumériques (A-Z, a-z et 0-9) sont pris tels quels. Les caractères avec une signification spéciale sont :</p>
<ul class="simple">
<li><p class="first"><strong>.</strong> correspondra à un seul caractère.</p>
</li>
<li><p class="first"><strong>[</strong> et <strong>]</strong> sont utilisés pour le groupage. Par exemple <em>[A-Z]</em> correspondra aux caractères A,B,C,...,X,Y,Z.</p>
</li>
<li><p class="first"><strong>{</strong>, <strong>}</strong>, et <strong>*</strong> sont utilisés pour spécifier avec le nombre de fois la correspondance doit être testée.</p>
</li>
<li><p class="first"><strong>^</strong> fait la correspondance avec le début de la valeur, <strong>$</strong> le fait lui avec la fin de la valeur.</p>
</li>
<li><p class="first">L&#8217;antislash <strong>\</strong> est utilisé pour échapper le comportement du caractère spécial. Par exemple <em>\$</em> correspondra au signe dollar.</p>
</li>
</ul>
<p>MapServer  supporte deux opérateurs de regex:</p>
<ul class="simple">
<li><p class="first"><strong>~</strong> expression régulière sensible à la casse</p>
</li>
<li><p class="first"><strong>~*</strong> expression régulière insensible à la casse</p>
</li>
</ul>
<p>La configuration de la <a class="reference internal" href="layer.html#layer"><span class="std std-ref">LAYER</span></a> suivante aura tous les enregistrements rendus sur la carte qui ont &#8220;hotel&#8221; pour l&#8217;attribut nommé &#8220;placename&#8221;</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">LAYER</span>
    <span class="n">NAME</span> <span class="s1">&#39;regexp-example&#39;</span>
    <span class="n">FILTERITEM</span> <span class="s1">&#39;placename&#39;</span>
    <span class="n">FILTER</span> <span class="o">/</span><span class="n">hotel</span><span class="o">/</span>
    <span class="o">...</span>
<span class="n">END</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Pour le <cite>FILTER</cite>, l&#8217;expression régulière est sensible à la casse, par conséquent, les enregistrements ayant &#8220;Hotel&#8221; dans leur attribut ne correspondront pas.</p>
</div>
<p>Exemple: vérifie tous les enregistrements qui ont une valeur de 2000 à 2010 dans l&#8217;attribut &#8220;year&#8221; :</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">FILTERITEM</span> <span class="s2">&quot;year&quot;</span>
<span class="n">FILTER</span> <span class="o">/^</span><span class="mi">20</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">][</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">/</span>
</pre></div>
</div>
<p>Exemple: Vérifie tous les enregistrements qui sont purement numériques ou vides</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>FILTER /^[0-9]*$/
</pre></div>
</div>
<p>Exemple: vérifie tous les objets où l&#8217;attribut <em>name</em> finit par &#8220;by&#8221;, &#8220;BY&#8221;, &#8220;By&#8221; ou &#8220;bY&#8221; (vérification insensible à la casse):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">EXPRESSION</span> <span class="p">(</span><span class="s1">&#39;[name]&#39;</span> <span class="o">~*</span> <span class="s1">&#39;by$&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Exemple: vérifie tous les objets dont l&#8217;attribut <em>rdname</em> débute avec &#8220;Main&#8221;.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>LAYER
...
CLASSITEM &#39;rdname&#39;
CLASS

  EXPRESSION /^Main.*$/
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Si vous expérimentez fréquemment des erreurs de segmentation quand vous travailler avec MapServer et les expressions régulières, cela peut être dû au fait que votre environnement de travail courant est associé à plus d&#8217;une seule bibliothèque d&#8217;expressions régulières. Cela peut avoir lieu quand MapServer est &#8220;linké&#8221; avec ces composants qui apportent leur propre copie, comme le serveur httpd Apache ou PHP. Dans ces cas, l&#8217;auteur a eu les meilleurs résultats en compilant tous ces composants en utilisant la bibliothèque d&#8217;expressions régulières du système d&#8217;exploitation (c&#8217;est à dire celui qui est dans libc). Cela implique d&#8217;éditer les fichiers de compilation de quelques composants cependant.</p>
</div>
</div>
<div class="section" id="list-expressions">
<span id="index-9"></span><h2><a class="toc-backref" href="#contents">Expressions de liste</a><a class="headerlink" href="#list-expressions" title="Lien permanent vers ce titre">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 6.4.</span></p>
</div>
<p>Les expressions de listes (voir rfc95) sont une manière performante de comparer une chaîne de caractères à des valeurs multiples. Elles dupliquent les expressions regex ou mapserver existantes mais sont significativement plus performantes. Pour les utiliser, délimitez une liste de valeurs séparées par des virgules entre {}, <strong>sans</strong> ajouter de guillemets ou d&#8217;espaces supplémentaires.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">LAYER</span>
    <span class="n">NAME</span> <span class="s1">&#39;list-example&#39;</span>
    <span class="n">CLASSITEM</span> <span class="s1">&#39;roadtype&#39;</span>
    <span class="o">...</span>
    <span class="n">CLASS</span>
      <span class="n">EXPRESSION</span> <span class="p">{</span><span class="n">motorway</span><span class="p">,</span><span class="n">trunk</span><span class="p">}</span>
      <span class="c1">#equivalent to regex EXPRESSION /motorway|trunk/</span>
      <span class="c1">#equivalent to mapserver EXPRESSION (&quot;[roadtype]&quot; IN &quot;motorway,trunk&quot;)</span>
      <span class="o">...</span>
    <span class="n">END</span>
    <span class="n">CLASS</span>
      <span class="n">EXPRESSION</span> <span class="p">{</span><span class="n">primary</span><span class="p">,</span><span class="n">secondary</span><span class="p">}</span>
      <span class="o">...</span>
    <span class="n">END</span>
<span class="n">END</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Avertissement</p>
<p class="last">List expressions do not support quote escaping, or attribute values that
contain a comma in them.</p>
</div>
</div>
<div class="section" id="mapserver-expressions">
<h2><a class="toc-backref" href="#contents">&#8220;Expressions MapServer&#8221;</a><a class="headerlink" href="#mapserver-expressions" title="Lien permanent vers ce titre">¶</a></h2>
<p>Les expressions MapServer sont les plus complexes et en fonction de comment elles sont écrites peuvent devenir plutôt lentes. Elles peuvent correspondre à n&#8217;importe quel attribut et en plus permettent un filtrage et une classification dépendante de plus d&#8217;un seul attribut. En plus des opérations logiques, il y a aussi des expressions qui permettent certaines opérations arithmétiques, de chaînes et de temps.</p>
<p>Pour être capable d&#8217;utiliser une expression MapServer pour une valeur FILTER ou EXPRESSION, l&#8217;expression doit à la fin devenir une valeur logique.</p>
<div class="section" id="typing">
<span id="index-10"></span><h3><a class="toc-backref" href="#contents">Typing</a><a class="headerlink" href="#typing" title="Lien permanent vers ce titre">¶</a></h3>
<p>The type of attributes and literals is determined as followed :</p>
<ul class="simple">
<li>Strings: enclosed in quote or single quote characters</li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;[string_attribute]&quot;</span> <span class="ow">or</span> <span class="s1">&#39;[string_attribute]&#39;</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;string_literal&quot;</span> <span class="ow">or</span> <span class="s1">&#39;string_literal&#39;</span>
</pre></div>
</div>
<ul class="simple">
<li>Numbers: no quoting</li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">numeric_attribute</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">numeric_value</span>
</pre></div>
</div>
<ul class="simple">
<li>Date-time: enclosed in backquote characters</li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span>`[date_time_attribute]`
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span>`date_time_literal`
</pre></div>
</div>
</div>
<div class="section" id="logical-expressions">
<h3><a class="toc-backref" href="#contents">Expressions logiques</a><a class="headerlink" href="#logical-expressions" title="Lien permanent vers ce titre">¶</a></h3>
<p>Syntactiquement, une expression logique est tout ce qui est encapsulé dans des parenthèses. Les expressions logiques prennent des valeurs logiques comme entrée et retourne des valeurs logiques. Une expression logique est soit &#8216;true&#8217;, soit &#8216;false&#8217;.</p>
<ul id="index-11">
<li><p class="first">( ( Expression1 ) AND ( Expression2 ) )</p>
<p>( ( Expression1 ) &amp;&amp; ( Expression2 ) )</p>
<p>retourne vrai quand les deux expressions logiques (Expression1 ou Expression2) sont à vrai.</p>
</li>
</ul>
<ul id="index-12">
<li><p class="first">( ( Expression1 ) OR ( Expression2 ) )</p>
<p>( ( Expression1 ) || ( Expression2 ) )</p>
<p>retourne vrai quand au moins une des expressions logiques (Expression1 ou Expression2) est à vrai.</p>
</li>
</ul>
<ul id="index-13">
<li><p class="first">NOT ( Expression1 )</p>
<p>! ( Expression1 )</p>
<p>retourne vrai quand l&#8217;Expression1 est à faux</p>
</li>
</ul>
</div>
<div class="section" id="string-expressions-that-return-a-logical-value">
<span id="index-14"></span><h3><a class="toc-backref" href="#contents">Expressions de chaîne qui retourne une valeur logique</a><a class="headerlink" href="#string-expressions-that-return-a-logical-value" title="Lien permanent vers ce titre">¶</a></h3>
<p>Syntaxiquement, une chaîne est quelque choses d&#8217;entouré de guillemets simples ou doubles.</p>
<ul id="index-15">
<li><p class="first">( &#8220;Chaine1&#8221; eq &#8220;Chaine2&#8221; )</p>
<p>( &#8220;Chaine1&#8221; == &#8220;Chaine2&#8221; ) - déprécié depuis la version 6.0</p>
<p>( &#8220;Chaine1&#8221; = &#8220;Chaine2&#8221; )</p>
<p>retourne vrai quand les chaînes sont égales. Sensible à la casse.</p>
</li>
<li><p class="first">( &#8220;Chaine1&#8221; =* &#8220;Chaine2&#8221; )</p>
<p>retourne vrai quand les chaînes sont égales. Insensible à la casse.</p>
</li>
</ul>
<ul id="index-16">
<li><p class="first">( &#8220;Chaine1&#8221; != &#8220;Chaine2&#8221; )</p>
<p>( &#8220;Chaine1&#8221; ne &#8220;Chaine2&#8221; )</p>
<p>retourne vrai quand les chaînes ne sont pas égales.</p>
</li>
</ul>
<ul id="index-17">
<li><p class="first">( &#8220;Chaine1&#8221; &lt; &#8220;Chaine2&#8221; )</p>
<p>( &#8220;Chaine1&#8221; lt &#8220;Chaine2&#8221; )</p>
<p>retourne vrai quand la &#8220;Chaine1&#8221; est lexicographiquement plus petite que la &#8220;Chaine2&#8221;.</p>
</li>
</ul>
<ul id="index-18">
<li><p class="first">( &#8220;Chaine1&#8221; &gt; &#8220;Chaine2&#8221; )</p>
<p>( &#8220;Chaine1&#8221; gt &#8220;Chaine2&#8221; )</p>
<p>retourne vrai quand la &#8220;Chaine1&#8221; est lexicographiquement plus grande que la &#8220;Chaine2&#8221;.</p>
</li>
</ul>
<ul id="index-19">
<li><p class="first">( &#8220;Chaine1&#8221; &lt;= &#8220;Chaine2&#8221; )</p>
<p>( &#8220;Chaine1&#8221; le &#8220;Chaine2&#8221; )</p>
<p>retourne vrai quand la &#8220;Chaine1&#8221; est lexicographiquement plus petite ou égale à la &#8220;Chaine2&#8221;.</p>
</li>
</ul>
<ul id="index-20">
<li><p class="first">( &#8220;Chaine1&#8221; &gt;= &#8220;Chaine2&#8221; )</p>
<p>( &#8220;Chaine1&#8221; ge &#8220;Chaine2&#8221; )</p>
<p>retourne vrai quand la &#8220;Chaine1&#8221; est lexicographiquement plus grande ou égale à la &#8220;Chaine2&#8221;.</p>
</li>
</ul>
<ul id="index-21">
<li><p class="first">( &#8220;Chaine1&#8221; IN &#8220;token1,token2,...,tokenN&#8221; )</p>
<p>retourne vrai quand la &#8220;Chaine1&#8221; est égale à l&#8217;un des tokens passés.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Le séparateur pour les tokens est la virgule. Cela signifie qu&#8217;il ne peut pas y avoir d&#8217;espace blanc dans la liste et que les tokens qui contiennent des virgules ne peuvent pas être comparés.</p>
</div>
</li>
<li><p class="first">( &#8220;Chaine1&#8221; ~ &#8220;regexp&#8221; )</p>
<p>retourne vrai quand &#8220;Chaine1&#8221; correspond à l&#8217;expression régulière &#8220;regexp&#8221;. Cette opération est identique à celle de correspondance d&#8217;expression régulière décrite plus tôt.</p>
</li>
<li><p class="first">( &#8220;Chaine1&#8221; ~* &#8220;regexp&#8221; )</p>
<p>retourne vrai quand &#8220;Chaine1&#8221; correspond à l&#8217;expression régulière &#8220;regexp&#8221; (insensible à la casse). Cette opération est identique à celle de correspondance d&#8217;expression régulière décrite plus tôt.</p>
</li>
</ul>
</div>
<div class="section" id="arithmetic-expressions-that-return-a-logical-value">
<span id="index-22"></span><h3><a class="toc-backref" href="#contents">Expressions arithmétiques qui retourne une valeur logique</a><a class="headerlink" href="#arithmetic-expressions-that-return-a-logical-value" title="Lien permanent vers ce titre">¶</a></h3>
<p>L&#8217;élément basique pour les opérations arithmétiques est le nombre. Les opérations arithmétiques qui renvoient des nombres seront abordées dans la section suivante.</p>
<ul id="index-23">
<li><p class="first">( n1 eq n2 )</p>
<p>( n1 == n2 ) - déprécié depuis la version 6.0</p>
<p>( n1 = n2 )</p>
<p>retourne vrai quand les nombres sont égaux</p>
</li>
<li><p class="first">( n1 != n2 )</p>
<p>( n1 ne n2 )</p>
<p>retourne vrai quand les nombres ne sont pas égaux.</p>
</li>
<li><p class="first">( n1 &lt; n2 )</p>
<p>( n1 lt n2 )</p>
<p>retourne vrai quand n1 est plus petit que n2.</p>
</li>
<li><p class="first">( n1 &gt; n2 )</p>
<p>( n1 gt n2 )</p>
<p>retourne vrai quand n1 est plus grand que n2.</p>
</li>
<li><p class="first">( n1 &lt;= n2 )</p>
<p>( n1 le n2 )</p>
<p>retourne vrai quand n1 est plus petit que ou égal à n2.</p>
</li>
<li><p class="first">( n1 &gt;= n2 )</p>
<p>( n1 ge n2 )</p>
<p>retourne vrai quand n1 est plus grand que ou égal à n2.</p>
</li>
<li><p class="first">( n1 IN &#8220;number1,number2,...,numberN&#8221; )</p>
<p>retourne vrai quand n1 est égal à l&#8217;un des nombres donnés.</p>
</li>
</ul>
</div>
<div class="section" id="spatial-expressions-that-return-a-logical-value-geos">
<span id="index-24"></span><h3><a class="toc-backref" href="#contents">Expressions spatiales qui retournent une valeur logique (GEOS)</a><a class="headerlink" href="#spatial-expressions-that-return-a-logical-value-geos" title="Lien permanent vers ce titre">¶</a></h3>
<ul id="index-25">
<li><p class="first">( forme1 eq forme2 )</p>
<p>retourne vrai si la forme1 et la forme2 sont égales</p>
</li>
</ul>
<ul id="index-26">
<li><p class="first">( forme1 intersects forme2 )</p>
<p>retourne vrai si la forme1 et la forme2 s&#8217;intersectent</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 6.0.</span></p>
</div>
</li>
</ul>
<ul id="index-27">
<li><p class="first">( forme1 disjoint forme2 )</p>
<p>retourne vrai si la forme1 et la forme2 sont disjointes</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 6.0.</span></p>
</div>
</li>
</ul>
<ul id="index-28">
<li><p class="first">( forme1 touches forme2 )</p>
<p>retourne vrai si la forme1 et la forme2 se touchent</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 6.0.</span></p>
</div>
</li>
</ul>
<ul id="index-29">
<li><p class="first">( forme1 overlaps forme2 )</p>
<p>retourne vrai si la forme1 et la forme2 se recouvrent</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 6.0.</span></p>
</div>
</li>
</ul>
<ul id="index-30">
<li><p class="first">( forme1 crosses forme2 )</p>
<p>retourne vrai si la forme1 et la forme2 se croisent</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 6.0.</span></p>
</div>
</li>
</ul>
<ul id="index-31">
<li><p class="first">( forme1 within forme2 )</p>
<p>retourne vrai si la forme1 est à l&#8217;intérieur de la forme2</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 6.0.</span></p>
</div>
</li>
</ul>
<ul id="index-32">
<li><p class="first">( forme1 contains forme2 )</p>
<p>retourne vrai si la forme1 contient la forme2</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 6.0.</span></p>
</div>
</li>
</ul>
<ul id="index-33">
<li><p class="first">( forme1 dwithin forme2 )</p>
<p>retourne vrai si la distance entre la forme1 et la forme2 est égale à 0</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 6.0.</span></p>
</div>
</li>
</ul>
<ul id="index-34">
<li><p class="first">( forme1 beyond forme2 )</p>
<p>retourne vrai si la distance entre la forme1 et la forme2 est supérieure à 0</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 6.0.</span></p>
</div>
</li>
</ul>
</div>
<div class="section" id="string-operations-that-return-a-string">
<span id="index-35"></span><h3><a class="toc-backref" href="#contents">Opérations sur les chaînes qui retournent un chaîne</a><a class="headerlink" href="#string-operations-that-return-a-string" title="Lien permanent vers ce titre">¶</a></h3>
<ul>
<li><p class="first">&#8220;Chaine1&#8221; + &#8220;Chaine2&#8217;</p>
<p>retourne &#8220;Chaine1Chaine2&#8221;, qui sont les deux chaînes concaténées l&#8217;une avec l&#8217;autre.</p>
</li>
</ul>
</div>
<div class="section" id="functions-that-return-a-string">
<h3><a class="toc-backref" href="#contents">Fonctions qui retournent une chaîne</a><a class="headerlink" href="#functions-that-return-a-string" title="Lien permanent vers ce titre">¶</a></h3>
<ul id="index-36">
<li><p class="first">tostring ( n1, &#8220;Format1&#8221; )</p>
<p>utilise &#8220;Format1&#8221; pour formater le nombre n1 (formatage en style C - sprintf).</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 6.0.</span></p>
</div>
</li>
</ul>
<ul id="index-37">
<li><p class="first">commify ( &#8220;Chaine1&#8221; )</p>
<p>ajoute le séparateur de milliers (virgule) à un nombre long pour le rendre plus lisible</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 6.0.</span></p>
</div>
</li>
</ul>
<ul id="index-38">
<li><p class="first">upper ( &#8220;Chaîne1&#8221; )</p>
<p>force tous les caractères en majuscule</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 7.0.</span></p>
</div>
</li>
</ul>
<ul id="index-39">
<li><p class="first">lower ( &#8220;Chaîne1&#8221; )</p>
<p>force tous les caractères en minuscule</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 7.0.</span></p>
</div>
</li>
</ul>
<ul id="index-40">
<li><p class="first">initcap ( &#8220;String1&#8221; )</p>
<p>force the first character to uppercase and the rest of the
characters to lower case for EACH word in the string.</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 7.0.</span></p>
</div>
</li>
</ul>
<ul id="index-41">
<li><p class="first">firstcap ( &#8220;String1&#8221; )</p>
<p>force the first character to uppercase and the rest of the
characters to lower case in the first word in the string.</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 7.0.</span></p>
</div>
</li>
</ul>
</div>
<div class="section" id="string-functions-that-return-a-number">
<span id="index-42"></span><h3><a class="toc-backref" href="#contents">Fonctions de chaînes qui retournent un nombre</a><a class="headerlink" href="#string-functions-that-return-a-number" title="Lien permanent vers ce titre">¶</a></h3>
<ul id="index-43">
<li><p class="first">length ( &#8220;Chaine1&#8221; )</p>
<p>retourne le nombre de caractères de &#8220;Chaine1&#8221;</p>
</li>
</ul>
</div>
<div class="section" id="arithmetic-operations-and-functions-that-return-a-number">
<span id="index-44"></span><h3><a class="toc-backref" href="#contents">Opérations arithmétiques et fonctions qui retournent un  nombre</a><a class="headerlink" href="#arithmetic-operations-and-functions-that-return-a-number" title="Lien permanent vers ce titre">¶</a></h3>
<ul id="index-45">
<li><p class="first">round ( n1 , n2 )</p>
<p>retourne n1 arrondi à un multiple de n2: n2 * round(n1/n2)</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 6.0.</span></p>
</div>
</li>
<li><p class="first">n1 + n2</p>
<p>retourne la somme de n1 et n2</p>
</li>
<li><p class="first">n1 - n2</p>
<p>retourne n2 soustrait de n1</p>
</li>
<li><p class="first">n1 * n2</p>
<p>retourne n1 multiplié par n2</p>
</li>
<li><p class="first">n1 / n2&gt;</p>
<p>retourne n1 divisé par n2</p>
</li>
<li><p class="first">-n1</p>
<p>retourne l&#8217;opposé de n1</p>
</li>
<li><p class="first">n1 ^ n2</p>
<p>retourne n1 à la puissance n2</p>
</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Quand les opérations numériques ci-dessus sont utilisées comme des opérations logiques, la régle suivante s&#8217;applique : les valeurs égales à zéro seront prises comme &#8216;false&#8217; et tous les autres cas renvoierons &#8216;true&#8217;. Ce qui signifie que l&#8217;expression</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">(</span> <span class="mi">6</span> <span class="o">+</span> <span class="mi">5</span> <span class="p">)</span>
</pre></div>
</div>
<p>devrait retourner vrai, mais</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">(</span> <span class="mi">5</span> <span class="o">-</span> <span class="mi">5</span> <span class="p">)</span>
</pre></div>
</div>
<p class="last">retournera en fait faux</p>
</div>
</div>
<div class="section" id="spatial-functions-that-return-a-number-geos">
<span id="index-46"></span><h3><a class="toc-backref" href="#contents">Fonctions spatiales qui retournent un nombre (GEOS)</a><a class="headerlink" href="#spatial-functions-that-return-a-number-geos" title="Lien permanent vers ce titre">¶</a></h3>
<ul id="index-47">
<li><p class="first">area ( forme1 )</p>
<p>retourne l&#8217;aire de forme1</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 6.0.</span></p>
</div>
</li>
</ul>
</div>
<div class="section" id="spatial-functions-that-return-a-shape-geos">
<h3><a class="toc-backref" href="#contents">Fonctions spatiales qui retournent une forme (GEOS)</a><a class="headerlink" href="#spatial-functions-that-return-a-shape-geos" title="Lien permanent vers ce titre">¶</a></h3>
<ul id="index-48">
<li><p class="first">fromtext ( &#8220;Chaine1&#8221; )</p>
<p>retourne la forme correspondante à la Chaine1 (WKT - well known text)</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">fromText</span><span class="p">(</span><span class="s1">&#39;POINT(500000 5000000)&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 6.0.</span></p>
</div>
</li>
</ul>
<ul id="index-49">
<li><p class="first">buffer (forme1 , n1 )</p>
<p>retourne la forme qui résulte quand on appliqué à la forme1 un tampon d&#8217;une distance n1</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 6.0.</span></p>
</div>
</li>
</ul>
<ul id="index-50">
<li><p class="first">difference ( forme1 , forme2 )</p>
<p>retourne la forme qui résulte quand l&#8217;aire commune à la forme1 et à la forme2 est soustraite de la forme1</p>
<div class="versionadded">
<p><span class="versionmodified">Nouveau dans la version 6.0.</span></p>
</div>
</li>
</ul>
</div>
<div class="section" id="temporal-expressions">
<span id="index-51"></span><h3><a class="toc-backref" href="#contents">Expressions temporelles</a><a class="headerlink" href="#temporal-expressions" title="Lien permanent vers ce titre">¶</a></h3>
<p>MapServer utilise un type temps interne pour faire la comparaison. Pour convertir une chaîne dans ce type temps, Mapserver va vérifier dans la liste suivante du haut vers le bas si le temps spécifié correspond, et dans ce cas, il fera la conversion. Pour les valeurs entières, on utilise: <strong>YYYY</strong> - année, <strong>MM</strong> - mois, <strong>DD</strong> - jour, <strong>hh</strong> - heures, <strong>mm</strong> - minutes, <strong>ss</strong> - secondes. Lss caractères servant à renseigner les éléments de formatage sont : <strong>-</strong> (tiret) - séparateur de date, <strong>:</strong> (deux-points) - séparateur de temps, <strong>T</strong> - marque le début du composant temps (ISO 8601), espace - marque la fin de la date et le début du composant temps, <strong>Z</strong> - GMT (Ligne de temps du méridien de Greenwich).</p>
<ul class="simple">
<li>`YYYY-MM-DDThh:mm:ssZ`</li>
<li>`YYYY-MM-DDThh:mm:ss`</li>
<li>`YYYY-MM-DD hh:mm:ss`</li>
<li>`YYYY-MM-DDThh:mm`</li>
<li>`YYYY-MM-DD hh:mm`</li>
<li>`YYYY-MM-DDThh`</li>
<li>`YYYY-MM-DD hh`</li>
<li>`YYYY-MM-DD`</li>
<li>`YYYY-MM`</li>
<li>`YYYY`</li>
<li>`Thh:mm:ssZ`</li>
<li>`Thh:mm:ss`</li>
</ul>
<p>Pour les valeurs temporelles obtenues de cette manière, les opérations suivantes sont supportées :</p>
<ul id="index-52">
<li><p class="first">( t1 eq t2 )</p>
<p>( n1 == n2 ) - déprécié depuis la version 6.0</p>
<p>( t1 = t2 )</p>
<p>retourne vrai quand les deux temps sont égaux.</p>
</li>
</ul>
<ul id="index-53">
<li><p class="first">( t1 != t2 )</p>
<p>( t1 ne t2 )</p>
<p>retourne vrai quand les deux temps ne sont pas égaux.</p>
</li>
</ul>
<ul id="index-54">
<li><p class="first">( t1 &lt; t2 )</p>
<p>( t1 lt t2 )</p>
<p>retourne vrai quand t1 est plus tôt que t2.</p>
</li>
</ul>
<ul id="index-55">
<li><p class="first">( t1 &gt; t2 )</p>
<p>( t1 gt t2 )</p>
<p>retourne vrai quand t1 est plus tard que t2.</p>
</li>
</ul>
<ul id="index-56">
<li><p class="first">( t1 &lt;= t2 )</p>
<p>( t1 le t2 )</p>
<p>retourne vrai quand t1 est plus tôt ou égal à t2.</p>
</li>
</ul>
<ul id="index-57">
<li><p class="first">( t1 &gt;= t2 )</p>
<p>( t1 ge t2 )</p>
<p>retourne vrai quand t1 est plus tard ou égal à t2.</p>
</li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3>Recherche rapide</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3>Navigation</h3>
<p>
<a href="../about.html" title="About">About</a><br>
<a href="../products.html" title="Products">Products</a><br>
<a href="../community/index.html" title="Community">Community</a><br>
<a href="../development/index.html" title="Development">Development</a><br>
<a href="../download.html" title="Downloads">Downloads</a><br>
<a href="../documentation.html" title="Documentation">Documentation</a><br>
<a href="../faq.html" title="FAQ">FAQ</a><br>
<a href="../psc.html" title="PSC">PSC</a><br>
<a href="https://twitter.com/mapserver_osgeo" title="Twitter">Twitter</a>
</p>
  <h3>Current Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Expressions</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a><ul>
<li><a class="reference internal" href="#string-quotation">Guillemets pour les chaînes de caractères</a></li>
<li><a class="reference internal" href="#quotes-escaping-in-strings">Echappement des guillemets dans les chaînes</a></li>
<li><a class="reference internal" href="#using-attributes">Utiliser les attributs</a></li>
</ul>
</li>
<li><a class="reference internal" href="#expression-types">Types d&#8217;expression</a></li>
<li><a class="reference internal" href="#string-comparison-equality">Comparaison de chaînes (égalité)</a></li>
<li><a class="reference internal" href="#regular-expression-comparison">Comparaison d&#8217;expressions régulières</a></li>
<li><a class="reference internal" href="#list-expressions">Expressions de liste</a></li>
<li><a class="reference internal" href="#mapserver-expressions">&#8220;Expressions MapServer&#8221;</a><ul>
<li><a class="reference internal" href="#typing">Typing</a></li>
<li><a class="reference internal" href="#logical-expressions">Expressions logiques</a></li>
<li><a class="reference internal" href="#string-expressions-that-return-a-logical-value">Expressions de chaîne qui retourne une valeur logique</a></li>
<li><a class="reference internal" href="#arithmetic-expressions-that-return-a-logical-value">Expressions arithmétiques qui retourne une valeur logique</a></li>
<li><a class="reference internal" href="#spatial-expressions-that-return-a-logical-value-geos">Expressions spatiales qui retournent une valeur logique (GEOS)</a></li>
<li><a class="reference internal" href="#string-operations-that-return-a-string">Opérations sur les chaînes qui retournent un chaîne</a></li>
<li><a class="reference internal" href="#functions-that-return-a-string">Fonctions qui retournent une chaîne</a></li>
<li><a class="reference internal" href="#string-functions-that-return-a-number">Fonctions de chaînes qui retournent un nombre</a></li>
<li><a class="reference internal" href="#arithmetic-operations-and-functions-that-return-a-number">Opérations arithmétiques et fonctions qui retournent un  nombre</a></li>
<li><a class="reference internal" href="#spatial-functions-that-return-a-number-geos">Fonctions spatiales qui retournent un nombre (GEOS)</a></li>
<li><a class="reference internal" href="#spatial-functions-that-return-a-shape-geos">Fonctions spatiales qui retournent une forme (GEOS)</a></li>
<li><a class="reference internal" href="#temporal-expressions">Expressions temporelles</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Index général"
             >index</a></li>
        <li class="right" >
          <a href="feature.html" title="FEATURE"
             >suivant</a> |</li>
        <li class="right" >
          <a href="encoding.html" title="Affichage des caractères internationaux dans MapServer"
             >précédent</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >Documentation de MapServer 7.0.6</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >Mapfile</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; <a href="../copyright.html">Copyright</a> 2017, Open Source Geospatial Foundation.
      Mis à jour le 2017-07-26.
      Créé avec <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.9.
    </div>
  </body>
</html>