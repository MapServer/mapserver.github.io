<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Paramétrage de IIS pour MapServer &mdash; MapServer 7.0.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '7.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="shortcut icon" href="../_static/mapserver.ico"/>
    <link rel="author" title="À propos de ces documents" href="../about.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="MapServer 7.0.1 documentation" href="../index.html" />
    <link rel="up" title="Installation" href="index.html" />
    <link rel="next" title="Installation d’Oracle" href="oracle.html" />
    <link rel="prev" title="Compilation de MapScript .NET" href="dotnet.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../index.html" title="Home"><img src="../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../index.html" title="Home">Home</a> |
      <a href="../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../faq.html" title="FAQ">FAQ</a> |
      <a href="../download.html" title="Download">Download </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        
          
            <a href="../../installation/iis.html"><img src="../_static/flagicons/en.png" alt="en" title="en" border="0" /></a>
          
        
        
          
            <a href="../../ar/installation/iis.html"><img src="../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
          
        
        
          
            <a href="../../de/installation/iis.html"><img src="../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
          
        
        
          
            <a href="../../el/installation/iis.html"><img src="../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
          
        
        
          
            <a href="../../es/installation/iis.html"><img src="../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
          
        
        <img src="../_static/flagicons/fr.png" alt="fr" title="fr" border="0" width="18px" height="13px"/>
        
          
            <a href="../../id/installation/iis.html"><img src="../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
          
        
        
          
            <a href="../../it/installation/iis.html"><img src="../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
          
        
        
          
            <a href="../../ja/installation/iis.html"><img src="../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
          
        
        
          
            <a href="../../nl_NL/installation/iis.html"><img src="../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
          
        
        
          
            <a href="../../pl/installation/iis.html"><img src="../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
          
        
        
          
            <a href="../../ru/installation/iis.html"><img src="../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
          
        
        
          
            <a href="../../sq/installation/iis.html"><img src="../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
          
        
        
          
            <a href="../../tr/installation/iis.html"><img src="../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
          
        
        
          
            <a href="../../uk/installation/iis.html"><img src="../_static/flagicons/uk.png" alt="uk" title="uk" border="0" /></a>
          
        

    </td>
  </tr>
</table>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Index général"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="oracle.html" title="Installation d’Oracle"
             accesskey="N">suivant</a> |</li>
        <li class="right" >
          <a href="dotnet.html" title="Compilation de MapScript .NET"
             accesskey="P">précédent</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >Documentation de MapServer 7.0.1</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Installation</a> &raquo;</li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="iis-setup-for-mapserver">
<span id="iis"></span><h1><a class="toc-backref" href="#table-of-contents">Paramétrage de IIS pour MapServer</a><a class="headerlink" href="#iis-setup-for-mapserver" title="Lien permanent vers ce titre">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Debbie Paqurek</td>
</tr>
<tr class="field-even field"><th class="field-name">Last Updated:</th><td class="field-body">2005/12/12</td>
</tr>
</tbody>
</table>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first">Table des matières</p>
<ul class="simple">
<li><a class="reference internal" href="#iis-setup-for-mapserver" id="id1">Paramétrage de IIS pour MapServer</a><ul>
<li><a class="reference internal" href="#base-configuration" id="id2">Configuration de base</a></li>
<li><a class="reference internal" href="#php-ini-file" id="id3">Fichier php.ini</a></li>
<li><a class="reference internal" href="#internet-services-manager" id="id4">Gestionnaire de service Internet</a></li>
<li><a class="reference internal" href="#under-the-tree-for-your-new-website-add-virtual-directories-for" id="id5">Sous l&#8217;arborescence pour votre nouveau site web - ajouter des répertoires virtuels pour</a></li>
<li><a class="reference internal" href="#test-php" id="id6">Test de PHP</a></li>
<li><a class="reference internal" href="#mapfiles-for-iis" id="id7">Les mapfiles pour IIS</a></li>
<li><a class="reference internal" href="#configuration-files" id="id8">Fichiers de configuration</a></li>
</ul>
</li>
</ul>
</div>
<p id="index-0">Un peu d&#8217;aide sur comment configurer MapServer/Chameleon/PhpPgAdmin sur Microsoft IIS (v5.0). Elle contient des notes sur les changements dans le fichier php.ini et dans ceux nécessaires dans les mapfiles MapServer. Merci de contribuer ou de faire les changements requis.</p>
<div class="section" id="base-configuration">
<h2><a class="toc-backref" href="#table-of-contents">Configuration de base</a><a class="headerlink" href="#base-configuration" title="Lien permanent vers ce titre">¶</a></h2>
<ul class="simple">
<li>Windows 2000</li>
<li>IIS 5.0</li>
<li>MS4W 1.2.1</li>
<li>Chameleon 2.2</li>
<li>PHP 4.3.11</li>
<li><p class="first">Mapserver 4.7</p>
</li>
<li><p class="first">PhpPgAdmin 3.5.4 (si vous utilisez  postgresql/postgis)</p>
</li>
<li><p class="first">Postgres 8.0.3 (si vous utilisez postgresql/postgis)</p>
</li>
<li><p class="first">Postgis 1.0.3 (si vous utilisez postgresql/postgis)</p>
</li>
</ul>
<p>Cette configuration assume que MS4W a été décompressé pour avoir le répertoire c:\ms4w\.</p>
</div>
<div class="section" id="php-ini-file">
<h2><a class="toc-backref" href="#table-of-contents">Fichier php.ini</a><a class="headerlink" href="#php-ini-file" title="Lien permanent vers ce titre">¶</a></h2>
<ul class="simple">
<li><p class="first">session.save_path (chemin absolu de votre répertoire tmp)</p>
</li>
<li><p class="first">extension_dir (chemin relatif à votre répertoire d&#8217;extensions php)</p>
</li>
<li>cgi.force_redirect = 0&lt;/li&gt;</li>
<li><p class="first">activez l&#8217;extension pg_sql (php_pgsql.dll) (pour Postgresql)</p>
</li>
</ul>
</div>
<div class="section" id="internet-services-manager">
<h2><a class="toc-backref" href="#table-of-contents">Gestionnaire de service Internet</a><a class="headerlink" href="#internet-services-manager" title="Lien permanent vers ce titre">¶</a></h2>
<p>Sous votre arborescence de site web, créer un nouveau site web (nommé msprojects). Voir les propriétés pour le nouveau site web.</p>
<dl class="docutils">
<dt>Onglet Site Web</dt>
<dd><ul class="first last simple">
<li><p class="first">configurer l&#8217;adresse IP et sous l&#8217;onglet Avancé, met le nom d&#8217;entête de l&#8217;hôte complet (c&#8217;est à dire msprojects.gc.ca).</p>
</li>
</ul>
</dd>
<dt>Onglet Répertoire de base</dt>
<dd><ul class="first last simple">
<li><p class="first">le contenu devrait venir: d&#8217;un répertoire situé sur cet ordinateur.</p>
</li>
<li><p class="first">Chemin Local : c:\ms4w\Apache\htdocs</p>
</li>
<li><p class="first">Accès en lecture + et autres éléments dont vous avez besoin</p>
</li>
<li><p class="first">Permissions d&#8217;exécution : seulement les scripts</p>
</li>
<li><p class="first">Bouton Configuration - routing des applications (Ajoutez les extensions .php et .phtml, l&#8217;exécutable est c:\ms4w\Apache\cgi-bin\php.exe, sélectionnez Tous les verbes, Moteur de script, et vérifiez que ce fichier existe&lt;br&gt;</p>
</li>
</ul>
</dd>
<dt>Onglet documents</dt>
<dd><ul class="first last">
<li><p class="first">Ajoutez index.phtml et index.html</p>
</li>
<li><dl class="first docutils">
<dt>Onglet Sécurité de répertoire</dt>
<dd><ul class="first last simple">
<li><p class="first">Accès anonyme et contrôle de l&#8217;authentification</p>
</li>
<li><p class="first">Sélectionner Accès anonyme et le bouton d&#8217;édition doit indiquer le IUSR_account</p>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>Onglet Extensions serveur</dt>
<dd><ul class="first last simple">
<li><p class="first">Activation de la création est sélectionnée et script client affiche JavaScript</p>
</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="under-the-tree-for-your-new-website-add-virtual-directories-for">
<h2><a class="toc-backref" href="#table-of-contents">Sous l&#8217;arborescence pour votre nouveau site web - ajouter des répertoires virtuels pour</a><a class="headerlink" href="#under-the-tree-for-your-new-website-add-virtual-directories-for" title="Lien permanent vers ce titre">¶</a></h2>
<dl class="docutils">
<dt>cgi-bin</dt>
<dd><p class="first last">Sous Propriétés, onglet répertoire virtuel Local Path doit pointer vers c:\ms4w\apache\cgi-bin. Sélectionner Read, Les permissions d&#8217;exécution doit indiquer &#8220;scripts et éxecutables&#8221;.</p>
</dd>
<dt>ms_tmp</dt>
<dd><p class="first last">Sous Propriétés, onglet répertoire virtuel, Chemin Local doit pointer sur  c:\ms4w\tmp\ms_tmp.  Sélectionner Lecture, Écriture. Permissions d&#8217;exécution doit indiquer &#8220;scripts seulement&#8221;.  C&#8217;est le répertoire dans lequel les images temporaires sont écrites donc dans l&#8217;onglet Sécurité du système de fichiers (utilisez l&#8217;explorateur windows), le répertoire  c:\ms4w\tmp\ms_tmp doit avoir les permissions définies pour le compte Internet Guest (Lecture et exécution, Lecture, Écriture, Lister les contenus du répertoire).</p>
</dd>
<dt>tmp</dt>
<dd><p class="first last">Sous Propriétés, onglet répertoire virtuel, Chemin Local doit pointer sur  c:\ms4w\tmp.  Sélectionner Lecture, Écriture. Permissions d&#8217;exécution doit indiquer &#8220;scripts seulement&#8221;.  C&#8217;est le répertoire dans lequel chameleon écrit les sessions donc dans l&#8217;onglet Sécurité du système de fichiers (utilisez l&#8217;explorateur windows), le répertoire  c:\ms4w\tmp doit avoir les permissions définies pour le compte Internet Guest (Lecture et exécution, Lecture, Écriture, Lister les contenus du répertoire).</p>
</dd>
<dt>chameleon</dt>
<dd><p class="first last">Sous Propriétés, onglet répertoire virtuel, Chemin Local doit pointer sur  C:\ms4w\apps\chameleon\htdocs.  Sélectionner Lecture, Écriture. Permissions d&#8217;exécution doit indiquer &#8220;scripts seulement&#8221;.  Sous l&#8217;arborescence Chameleon, vous pouvez ajouter des répertoires virtuels pour l&#8217;administration (c:\ms4w\apps\chameleon\admin\htdocs), exemples (c:\ms4w\apps\chameleon\samples\htdocs), cwc2 (c:\ms4w\apps\chameleon\cwc2\htdocs).</p>
</dd>
<dt>phppgadmin</dt>
<dd><p class="first last">Si vous utilisez PostgreSQL/PostGIS, sous Propriétés, onglet répertoire virtuel Chemin Local doit indiquer C:\ms4w\Apache\htdocs\phpPgAdmin. Sélectionner Lire, Écrire. Les permissions d&#8217;exécution doivent indiquer  &#8220;scripts et exécutables&#8221;. Sous Documents - ajoutez index.php.</p>
</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Nous devons dézipper le paquet phppgadmin dans ce répertoire afin d&#8217;obtenir la page d&#8217;identification de phppgadmin sur  <a class="reference external" href="http://yourserver/phppgadmin/index.php">http://yourserver/phppgadmin/index.php</a>. Vous pourriez vouloir une sécurité supplémentaire sur ce répertoire.</p>
</div>
<dl class="docutils">
<dt>gmap</dt>
<dd><p class="first last">Utile pour des phases de tests. Souvenez vous de changer vos mapfiles comme discuter dans Mapfiles pour IIS ci-dessous. Sous Propriétés, onglet répertoire virtuel Chemin Local doit indiquer C:\ms4w\apps\gmap\htdocs. Sélectionnez Lecture. Les permissions d&#8217;exécution doivent indiquer &#8220;script seulement&#8221;.</p>
</dd>
</dl>
</div>
<div class="section" id="test-php">
<h2><a class="toc-backref" href="#table-of-contents">Test de PHP</a><a class="headerlink" href="#test-php" title="Lien permanent vers ce titre">¶</a></h2>
<p>Dans une fenêtre de ligne de commande, allez dans c:\ms4w\apache\cgi-bin et lancez php -i. Cela devrait vous retourner la sortie que la fonction phpinfo() retourne. J&#8217;obtiens une erreur comme quoi php ne peut pas trouver ntwdblib.dll. Je l&#8217;ai trouvé dans c:\ms4w\apache\php\dlls et je l&#8217;ai copié dans le répertoire cgi-bin.</p>
</div>
<div class="section" id="mapfiles-for-iis">
<h2><a class="toc-backref" href="#table-of-contents">Les mapfiles pour IIS</a><a class="headerlink" href="#mapfiles-for-iis" title="Lien permanent vers ce titre">¶</a></h2>
<ul class="simple">
<li><p class="first">Ajouter une ligne de configuration au niveau MAP du mapfile</p>
</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span></span>CONFIG PROJ_LIB &quot;c:\ms4w\proj\nad\&quot;
</pre></div>
</div>
<ul class="simple">
<li><p class="first">changer la variable IMAGEPATH pour qu&#8217;elle soit un chemin absolu par rapport à votre dossier tmp/ms_tmp</p>
</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span></span>IMAGEPATH &quot;c:\ms4w\tmp\ms_tmp&quot;
</pre></div>
</div>
</div>
<div class="section" id="configuration-files">
<h2><a class="toc-backref" href="#table-of-contents">Fichiers de configuration</a><a class="headerlink" href="#configuration-files" title="Lien permanent vers ce titre">¶</a></h2>
<p>Pour Chameleon</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>C:\ms4w\apps\chameleon\config\chameleon.xml
C:\ms4w\apps\chameleon\config\cwc2.xml
</pre></div>
</div>
<p>Pour phppgadmin: (si postgresql/postgis est utilisé)</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>C:\ms4w\apps\phpPgAdmin\conf\config.inc.php
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Navigation</h3>
<p>
<a href="../about.html" title="About">About</a><br>
<a href="../products.html" title="Products">Products</a><br>
<a href="../community/index.html" title="Community">Community</a><br>
<a href="../development/index.html" title="Development">Development</a><br>
<a href="../download.html" title="Downloads">Downloads</a><br>
<a href="../documentation.html" title="Documentation">Documentation</a><br>
<a href="../faq.html" title="FAQ">FAQ</a>
</p>
  <h3>Current Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Paramétrage de IIS pour MapServer</a><ul>
<li><a class="reference internal" href="#base-configuration">Configuration de base</a></li>
<li><a class="reference internal" href="#php-ini-file">Fichier php.ini</a></li>
<li><a class="reference internal" href="#internet-services-manager">Gestionnaire de service Internet</a></li>
<li><a class="reference internal" href="#under-the-tree-for-your-new-website-add-virtual-directories-for">Sous l&#8217;arborescence pour votre nouveau site web - ajouter des répertoires virtuels pour</a></li>
<li><a class="reference internal" href="#test-php">Test de PHP</a></li>
<li><a class="reference internal" href="#mapfiles-for-iis">Les mapfiles pour IIS</a></li>
<li><a class="reference internal" href="#configuration-files">Fichiers de configuration</a></li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Recherche rapide</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Saisissez un mot clef ou un nom de module, classe ou fonction.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Open Source Geospatial Foundation.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.4</a>
      
    </div>

    

    
  </body>
</html>