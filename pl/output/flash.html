
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="pl">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Flash Output &#8212; MapServer 7.2.2 documentation</title>
    <link rel="stylesheet" href="../_static/sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="shortcut icon" href="../_static/mapserver.ico"/>
    <link rel="author" title="O tych dokumentach" href="../about.html" />
    <link rel="index" title="Indeks" href="../genindex.html" />
    <link rel="search" title="Szukaj" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="HTML Legends with MapServer" href="html_legend.html" />
    <link rel="prev" title="Dynamic Charting" href="dynamic_charting.html" /> 
  </head><body>

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../index.html" title="Home"><img src="../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../index.html" title="Home">Home</a> |
      <a href="../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../community/service_providers.html" title="Professional Service Providers">Service Providers</a> |      
      <a href="../faq.html" title="Frequently Asked Questions">FAQ</a> |
      <a href="https://twitter.com/mapserver_osgeo" title="Twitter">Twitter</a> |
      <a href="../download.html" title="Download Source or Binaries">Download </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        
          
            <a href="../../output/flash.html"><img src="../_static/flagicons/en.png" alt="en" title="en" border="0" /></a>
          
        
        
          
            <a href="../../ar/output/flash.html"><img src="../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
          
        
        
          
            <a href="../../de/output/flash.html"><img src="../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
          
        
        
          
            <a href="../../el/output/flash.html"><img src="../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
          
        
        
          
            <a href="../../es/output/flash.html"><img src="../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
          
        
        
          
            <a href="../../fr/output/flash.html"><img src="../_static/flagicons/fr.png" alt="fr" title="fr" border="0" /></a>
          
        
        
          
            <a href="../../id/output/flash.html"><img src="../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
          
        
        
          
            <a href="../../it/output/flash.html"><img src="../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
          
        
        
          
            <a href="../../ja/output/flash.html"><img src="../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
          
        
        
          
            <a href="../../nl_NL/output/flash.html"><img src="../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
          
        
        <img src="../_static/flagicons/pl.png" alt="pl" title="pl" border="0" width="18px" height="13px"/>
        
          
            <a href="../../ru/output/flash.html"><img src="../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
          
        
        
          
            <a href="../../sq/output/flash.html"><img src="../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
          
        
        
          
            <a href="../../tr/output/flash.html"><img src="../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
          
        

    </td>
  </tr>
</table>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Nawigacja</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Indeks ogólny"
             accesskey="I">indeks</a></li>
        <li class="right" >
          <a href="html_legend.html" title="HTML Legends with MapServer"
             accesskey="N">dalej</a> |</li>
        <li class="right" >
          <a href="dynamic_charting.html" title="Dynamic Charting"
             accesskey="P">wstecz</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >MapServer 7.2.2 Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Output Generation</a> &#187;</li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="flash-output">
<span id="flash"></span><h1><a class="toc-backref" href="#table-of-contents">Flash Output</a><a class="headerlink" href="#flash-output" title="Stały odnośnik do tego nagłówka">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Jeff McKenna</td>
</tr>
<tr class="field-even field"><th class="field-name">Contact:</th><td class="field-body">jmckenna at gatewaygeomatics.com</td>
</tr>
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Yewondwossen Assefa</td>
</tr>
<tr class="field-even field"><th class="field-name">Contact:</th><td class="field-body">assefa at dmsolutions.ca</td>
</tr>
<tr class="field-odd field"><th class="field-name">Last Updated:</th><td class="field-body">2008/07/15</td>
</tr>
</tbody>
</table>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#flash-output" id="id1">Flash Output</a><ul>
<li><a class="reference internal" href="#introduction" id="id2">Introduction</a></li>
<li><a class="reference internal" href="#installing-mapserver-with-flash-support" id="id3">Installing MapServer with Flash Support</a></li>
<li><a class="reference internal" href="#how-to-output-swf-files-from-mapserver" id="id4">How to Output SWF Files from MapServer</a></li>
<li><a class="reference internal" href="#what-is-currently-supported-and-not-supported" id="id5">What is Currently Supported and Not Supported</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#table-of-contents">Introduction</a><a class="headerlink" href="#introduction" title="Stały odnośnik do tego nagłówka">¶</a></h2>
<p>Since MapServer 4.0, MapServer can output Flash files, in SWF format (or
„Shockwave Flash Format”).  The following document outlines how to enable
Flash output in MapServer.</p>
<div class="admonition note">
<p class="first admonition-title">Informacja</p>
<p class="last">SWF is no longer supported in version 6.0.</p>
</div>
<div class="section" id="links-to-flash-related-information">
<h3>Links to Flash-Related Information<a class="headerlink" href="#links-to-flash-related-information" title="Stały odnośnik do tego nagłówka">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="http://aris.cseas.kyoto-u.ac.jp/fmv/">Open Source Flash Viewer</a></li>
<li><a class="reference external" href="http://mapserver.gis.umn.edu/docs/tutorial/demoflashmap/demoflashmaps">Flash maps demo</a></li>
</ul>
</div>
</div>
<div class="section" id="installing-mapserver-with-flash-support">
<h2><a class="toc-backref" href="#table-of-contents">Installing MapServer with Flash Support</a><a class="headerlink" href="#installing-mapserver-with-flash-support" title="Stały odnośnik do tego nagłówka">¶</a></h2>
<p>To check that your mapserv executable includes Flash support, use the „-v”
command-line switch and look for „OUTPUT=SWF”.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./mapserv -v
MapServer version 5.2.0-rc1 OUTPUT=GIF OUTPUT=PNG OUTPUT=JPEG OUTPUT=WBMP
OUTPUT=PDF OUTPUT=SWF OUTPUT=SVG SUPPORTS=PROJ SUPPORTS=AGG
SUPPORTS=FREETYPE SUPPORTS=ICONV SUPPORTS=WMS_SERVER SUPPORTS=WMS_CLIENT
SUPPORTS=WFS_SERVER SUPPORTS=WFS_CLIENT SUPPORTS=WCS_SERVER
SUPPORTS=SOS_SERVER SUPPORTS=FASTCGI SUPPORTS=THREADS
SUPPORTS=GEOS SUPPORTS=RGBA_PNG INPUT=JPEG INPUT=POSTGIS
INPUT=ORACLESPATIAL INPUT=OGR INPUT=GDAL INPUT=SHAPEFILE
</pre></div>
</div>
<div class="section" id="using-pre-compiled-binaries">
<h3>Using Pre-compiled Binaries<a class="headerlink" href="#using-pre-compiled-binaries" title="Stały odnośnik do tego nagłówka">¶</a></h3>
<p>Windows users can use <a class="reference external" href="http://www.ms4w.com">MS4W</a>, which supports SWF output.</p>
</div>
<div class="section" id="compiling-mapserver-with-flash-support">
<h3>Compiling MapServer with Flash Support<a class="headerlink" href="#compiling-mapserver-with-flash-support" title="Stały odnośnik do tego nagłówka">¶</a></h3>
<p>The library chosen to output SWF files is the <a class="reference external" href="http://www.libming.org/">Ming library</a>.  Ming is a C
library for generating SWF („Flash”) format movies, and it contains a set of wrappers
for using the library from C++ and popular scripting languages like PHP,
Python, and Ruby.</p>
<div class="section" id="building-on-windows">
<h4>Building on Windows<a class="headerlink" href="#building-on-windows" title="Stały odnośnik do tego nagłówka">¶</a></h4>
<ul>
<li><p class="first">download the <a class="reference external" href="http://www.libming.org/">Ming library</a> (the version currently supported is 0.2a)</p>
</li>
<li><p class="first">as of Ming 0.3 there was no makefile for Windows available in the distribution yet,
but you can download a MS VC++ makefile (makefile.vc) from <a class="reference external" href="http://dl.maptools.org/dl/ming-0.2a.zip">here</a> (contains makefile
and also libming.lib)</p>
</li>
<li><p class="first">copy makefile.vc under the src directory (ming-0.2/src)</p>
</li>
<li><p class="first">execute:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nmake</span> <span class="o">/</span><span class="n">f</span> <span class="n">makefile</span><span class="o">.</span><span class="n">vc</span>
</pre></div>
</div>
</li>
<li><p class="first">at this point you should have a libming.lib that will be linked with MapServer</p>
</li>
<li><p class="first">edit the nmake.opt in your MapServer directory and uncomment the MING=-DUSE_MING_FLASH
flag, and point MING_DIR to your Ming directory.</p>
</li>
<li><p class="first">build MapServer as usual</p>
</li>
</ul>
</div>
<div class="section" id="building-on-unix">
<h4>Building on Unix<a class="headerlink" href="#building-on-unix" title="Stały odnośnik do tego nagłówka">¶</a></h4>
<p>Use the „–with-ming” configure flag to enable MING support on Unix. „–with-ming=dir”
will try to find the include files and library in the indicated directory.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Note</span><span class="p">:</span> <span class="n">compiling</span> <span class="n">MapServer</span> <span class="mf">4.4</span><span class="o">.</span><span class="mi">2</span> <span class="k">with</span> <span class="n">flash</span> <span class="n">support</span> <span class="p">(</span><span class="n">mingbeta</span> <span class="n">version</span> <span class="mf">0.3</span><span class="p">)</span> <span class="n">requires</span>
<span class="n">the</span> <span class="o">-</span><span class="n">DMING_VERSION_03</span> <span class="n">option</span> <span class="n">otherwise</span> <span class="n">the</span> <span class="n">make</span> <span class="n">fails</span><span class="o">.</span> <span class="n">This</span> <span class="n">option</span> <span class="n">should</span> <span class="n">be</span> <span class="n">included</span>
<span class="ow">in</span> <span class="n">the</span> <span class="n">configure</span><span class="o">.</span><span class="ow">in</span> <span class="n">after</span> <span class="o">-</span><span class="n">DUSE_MING_FLASH</span> <span class="k">as</span> <span class="n">below</span><span class="p">:</span>

   <span class="n">MING</span> <span class="n">ENABLED</span><span class="o">=</span> <span class="s2">&quot;-DUSE_MING_FLASH -DMING_VERSION_03&quot;</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="how-to-output-swf-files-from-mapserver">
<h2><a class="toc-backref" href="#table-of-contents">How to Output SWF Files from MapServer</a><a class="headerlink" href="#how-to-output-swf-files-from-mapserver" title="Stały odnośnik do tego nagłówka">¶</a></h2>
<p>SWF output is specified by using the <a class="reference internal" href="../mapfile/outputformat.html#outputformat"><span class="std std-ref">OUTPUTFORMAT</span></a> object.
There are 2 possible output types:</p>
<ol class="arabic">
<li><p class="first">A single movie containing the raster output for all the layers. To enable this,
declare the following in the map file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OUTPUTFORMAT</span>
  <span class="n">NAME</span> <span class="n">swf</span>
  <span class="n">MIMETYPE</span> <span class="s2">&quot;application/x-shockwave-flash&quot;</span>
  <span class="n">DRIVER</span> <span class="n">swf</span>
  <span class="n">IMAGEMODE</span> <span class="n">PC256</span>
  <span class="n">FORMATOPTION</span> <span class="s2">&quot;OUTPUT_MOVIE=SINGLE&quot;</span>
<span class="n">END</span>
</pre></div>
</div>
</li>
<li><p class="first">A movie for every layer (vector movies for vector layers and raster
movies for raster layers).  To enable this,
declare the following in the map file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OUTPUTFORMAT</span>
  <span class="n">NAME</span> <span class="n">swf</span>
  <span class="n">MIMETYPE</span> <span class="s2">&quot;application/x-shockwave-flash&quot;</span>
  <span class="n">DRIVER</span> <span class="n">swf</span>
  <span class="n">IMAGEMODE</span> <span class="n">PC256</span>
  <span class="n">FORMATOPTION</span> <span class="s2">&quot;OUTPUT_MOVIE=MULTIPLE&quot;</span>
<span class="n">END</span>
</pre></div>
</div>
</li>
</ol>
<div class="section" id="other-outputformat-options">
<h3>Other OutputFormat Options<a class="headerlink" href="#other-outputformat-options" title="Stały odnośnik do tego nagłówka">¶</a></h3>
<ul>
<li><p class="first"><strong>FORMATOPTION „FULL_RESOLUTION=FALSE”</strong></p>
<p>The FULL_RESOLUTION applies only for vector layers. If set to FALSE,
filtering will be applied to the vector elements. It results in a smaller
SWF file. The default value is TRUE.</p>
</li>
<li><p class="first"><strong>FORMATOPTION „LOAD_AUTOMATICALLY=OFF”</strong></p>
<p>Setting this option to OFF will not load the SWF files for each layer.
The default value is ON.</p>
</li>
</ul>
</div>
<div class="section" id="composition-of-the-resulting-swf-files">
<h3>Composition of the Resulting SWF Files<a class="headerlink" href="#composition-of-the-resulting-swf-files" title="Stały odnośnik do tego nagłówka">¶</a></h3>
<p>Several SWF Files will be produced from a single map file: there will be one SWF
file for each layer defined in the map file and one «main» SWF file containing
critical information on the map file and the layers produced.</p>
<ul>
<li><p class="first">The «main» SWF File will contain Action Script (AS) code that gives critical
information on the map file and the SWF layers produced. Basically there will
be an object called mapObj containing the height, width, extent, scale, number
of layers, etc. Here is an example (in AS) of the contents of this main movie:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mapObj</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Object</span> <span class="p">();</span>
<span class="n">mapObj</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;DEMO_SWF&quot;</span><span class="p">;</span>
<span class="n">mapObj</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="mi">400</span><span class="p">;</span>
<span class="n">mapObj</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="mi">300</span><span class="p">;</span>
<span class="n">mapObj</span><span class="o">.</span><span class="n">extent</span> <span class="o">=</span> <span class="s2">&quot;-2594561.353333,3467361.353333,3467361.353333,3840000.000000&quot;</span><span class="p">;</span> <span class="p">;</span>
<span class="n">mapObj</span><span class="o">.</span><span class="n">numlayers</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
<span class="n">mapObj</span><span class="o">.</span><span class="n">layers</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Array</span> <span class="p">();</span>
<span class="n">function</span> <span class="n">LayerObj</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">fullname</span><span class="p">,</span> <span class="n">relativename</span><span class="p">)</span> <span class="p">{</span>
<span class="n">this</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="p">;</span>
<span class="n">this</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="nb">type</span><span class="p">;</span>
<span class="n">this</span><span class="o">.</span><span class="n">fullname</span> <span class="o">=</span> <span class="n">fullname</span><span class="p">;</span>
<span class="n">this</span><span class="o">.</span><span class="n">relativename</span> <span class="o">=</span> <span class="n">relativename</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">mapObj</span><span class="o">.</span><span class="n">layers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">new</span> <span class="n">LayerObj</span> <span class="p">(</span><span class="s2">&quot;park&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="s2">&quot;c:/tmp/ms_tmp/102389536132841_layer_0.swf&quot;</span><span class="p">,</span> <span class="s2">&quot;102389536132841_layer_0.swf&quot;</span><span class="p">);</span>
<span class="n">mapObj</span><span class="o">.</span><span class="n">layers</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">new</span> <span class="n">LayerObj</span> <span class="p">(</span><span class="s2">&quot;popplace&quot;</span><span class="p">,</span> <span class="s2">&quot;4&quot;</span><span class="p">,</span> <span class="s2">&quot;c:/tmp/ms_tmp/102389536132841_layer_1.swf&quot;</span><span class="p">,</span> <span class="s2">&quot;102389536132841_layer_1.swf&quot;</span><span class="p">);</span>
<span class="n">mapObj</span><span class="o">.</span><span class="n">layers</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">new</span> <span class="n">LayerObj</span> <span class="p">(</span><span class="s2">&quot;rail&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;c:/tmp/ms_tmp/102389536132841_layer_2.swf&quot;</span><span class="p">,</span> <span class="s2">&quot;102389536132841_layer_2.swf&quot;</span><span class="p">);</span>
<span class="n">mapObj</span><span class="o">.</span><span class="n">layers</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">new</span> <span class="n">LayerObj</span> <span class="p">(</span><span class="s2">&quot;road&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;c:/tmp/ms_tmp/102389536132841_layer_3.swf&quot;</span><span class="p">,</span> <span class="s2">&quot;102389536132841_layer_3.swf&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>This example is produced based on a mapfile with two layers defined in it.
We create a layer class object containing useful information on a layer. The parameters are:</p>
<ul class="simple">
<li>Name : the name found in the map file</li>
<li>Type : the type of layer ( 0 = Point Layer; 1=Line; 2=Polygon; 3=Raster; 4=Annotation; 6=Circle)</li>
<li>Fullname : Full name of the file with path included</li>
<li>Relative name : Relative Name</li>
</ul>
<p>For example you can use mapObj.layers[0].name to extract the name of the first layer.</p>
<p>Note: All map parameters from MapServer are not exported at this time. We should
come up with a list of information of what we want to output. Note that this information
can be used in a Flash application to load the SWF file, to build a legend, to build a
scale bar, etc.</p>
</li>
<li><p class="first">SWF Files for each layer</p>
<p>Each layer defined in the mapfile will have an associated SWF file created. The names of
these SWF files are based on the name of the main file with an addition of «layer_X»
at the end of the name (where X is the layer index).</p>
<p>These SWF files will contain vector and raster data as well as some Action Script
depending on the layer and some configurations in the map file. We will see these
configurations in detail in the following section.</p>
</li>
</ul>
</div>
<div class="section" id="exporting-attributes">
<h3>Exporting Attributes<a class="headerlink" href="#exporting-attributes" title="Stały odnośnik do tego nagłówka">¶</a></h3>
<p>Exporting attributes works on a layer basis (it is only available for Vector Layers).
To be able to export attributes to the SWF files, you have to define a metadata item called
SWFDUMPATTRIBUTES in the layer section of the mapfile. Here is an example :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">...</span>
<span class="n">LAYER</span>
<span class="n">NAME</span> <span class="n">park</span>
<span class="n">METADATA</span>
  <span class="s2">&quot;DESCRIPTION&quot;&quot;Parks&quot;</span>
  <span class="s2">&quot;RESULT_FIELDS&quot;</span> <span class="s2">&quot;NAME_E YEAR_EST AREA_KMSQ&quot;</span>
  <span class="s2">&quot;SWFDUMPATTRIBUTES&quot;</span> <span class="s2">&quot;NAME_E,AREA_KMSQ &quot;</span>
<span class="n">END</span>
<span class="n">TYPE</span> <span class="n">POLYGON</span>
<span class="n">STATUS</span> <span class="n">ON</span>
<span class="n">DATA</span> <span class="n">park</span>
<span class="o">...</span>
</pre></div>
</div>
<p>In the above example, the values for the attributes NAME_E and AREA_KMSQ will be exported
for each element in the layer.</p>
<p>The resulting SWF File will have the values of these attributes (written in Action Script).
Here is an example related to the above layer:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nAttributes</span><span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="n">Attributes</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Array</span><span class="p">();</span>
<span class="n">Attributes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;NAME_E&quot;</span><span class="p">;</span>
<span class="n">Attributes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;AREA_KMSQ&quot;</span><span class="p">;</span>
<span class="n">Element</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Array</span> <span class="p">();</span>
<span class="n">Element</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Array</span><span class="p">();</span>
<span class="n">Element</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Ellesmere Island National Park Reserve&quot;</span><span class="p">;</span>
<span class="n">Element</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;1500&quot;</span><span class="p">;</span>
<span class="n">Element</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot; Aulavik National park&quot;</span><span class="p">;</span>
<span class="n">Element</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;1500&quot;</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="events-and-highlights">
<h3>Events and Highlights<a class="headerlink" href="#events-and-highlights" title="Stały odnośnik do tego nagłówka">¶</a></h3>
<p>Here is what is currently implemented concerning events (events here refer to mouse events
happening on an element. The available events are MOUSEUP, MOUSEDOWN, MOUSEOVER, MOUSEOUT):</p>
<ul class="simple">
<li>Events are only available for layers that have defined attributes exported (using
SWFDUMPATTRIBUTES). This is like defining that a certain layer is queryable.</li>
<li>When a mouse event happens on one of the elements, there is an Action Script call
that is made: _root.ElementSelecetd(LayerId, ShapeId, Event) . The Flash application
who wants to receive these events should define the function ElementSelected and
use the information received to do actions like retrieving the attribute values from
the specific SWF for the specified shape and display it.</li>
</ul>
<p>In order to have highlighting, it has to be defined when the SWF is produced (basically
highlighting means that the shape is redrawn using a different color).</p>
<p>As of MapServer 5.0, highlighting is available on queryable layers by using the
QueryMap object in the map file to extract the color and do a highlight when on MOUSEOVER.
The current implementation will highlight all objects that are in a layer that uses
SWFDUMPATTRIBUTES, using the COLOR set in the QueryMap object in the mapfile.</p>
<p>Before MapServer 5.0, all objects that are in a layer that uses SWFDUMPATTRIBUTES are
highlighted using a red color.</p>
</div>
<div class="section" id="fonts">
<h3>Fonts<a class="headerlink" href="#fonts" title="Stały odnośnik do tego nagłówka">¶</a></h3>
<p>Ming uses a special type of font called FDB files. It does not yet support Truetype fonts.
Please refer to ming documentation on how to <a class="reference external" href="http://www.opaque.net/wiki/index.php?MingFAQ">produce FDB files</a>.</p>
</div>
<div class="section" id="outputting-raster-swf-for-vector-layers">
<h3>Outputting Raster SWF for Vector Layers<a class="headerlink" href="#outputting-raster-swf-for-vector-layers" title="Stały odnośnik do tego nagłówka">¶</a></h3>
<p>One mechanism would be to use the metadata for layer objects to define a raster output
for vector layers. We could use something like „SWFOUTPUT” „RASTER”.  If this sounds desirable,
please file an enhancement <a class="reference external" href="https://github.com/mapserver/mapserver/issues/">ticket</a> with this request, specifying the „Output-SWF” component.</p>
</div>
</div>
<div class="section" id="what-is-currently-supported-and-not-supported">
<h2><a class="toc-backref" href="#table-of-contents">What is Currently Supported and Not Supported</a><a class="headerlink" href="#what-is-currently-supported-and-not-supported" title="Stały odnośnik do tego nagłówka">¶</a></h2>
<ol class="arabic simple">
<li>Vector layers<ul>
<li>Layer Point (case MS_LAYER_POINT) : <em>done</em><ul>
<li>msDrawMarkerSymbol</li>
<li>msDrawLabel</li>
</ul>
</li>
<li>Layer line (case MS_LAYER_LINE) : <em>done</em><ul>
<li>msDrawLineSymbol</li>
<li>msDrawLabel</li>
</ul>
</li>
<li>Layer circle ( case MS_LAYER_CIRCLE) : <em>not done</em> (should be done easily but missing data for testing)<ul>
<li>omsCircleDrawLineSymbol</li>
<li>omsCircleDrawShadeSymbol</li>
</ul>
</li>
<li>Layer annotation (case MS_LAYER_ANNOTATION): <em>done</em><ul>
<li>omsDrawMarkerSymbol</li>
<li>omsDrawLabel</li>
</ul>
</li>
<li>Layer Polygon (MS_SHAPE_POLYGON): <em>done</em><ul>
<li>omsDrawShadeSymbol</li>
<li>omsDrawLineSymbol</li>
<li>omsDrawLabel</li>
</ul>
</li>
<li>Vector Low Level functions<ul>
<li>omsDrawMarkerSymbol<ul>
<li>case(MS_SYMBOL_TRUETYPE) : <em>done</em></li>
<li>case(MS_SYMBOL_PIXMAP) : <em>done</em></li>
<li>case(MS_SYMBOL_ELLIPSE) : <em>done</em></li>
<li>case(MS_SYMBOL_VECTOR) : <em>done</em></li>
</ul>
</li>
<li>omsDrawLineSymbol<ul>
<li>case : simple line : <em>done</em></li>
</ul>
</li>
</ul>
</li>
<li>drawing with the symbols : <em>not done</em><ul>
<li>omsDrawShadeSymbol<ul>
<li>case : solid fill polygon : <em>done</em></li>
<li>case : filled with symbols : cannot be implemented for now (tried to create
a GD image to fill the shape but files created were huge)</li>
</ul>
</li>
<li>omsCircleDrawLineSymbol : <em>not done</em></li>
<li>omsCircleDrawShadeSymbol : <em>not done</em></li>
<li>omsDrawLabel : <em>done</em></li>
<li>omsDrawLabelCache : <em>done</em></li>
<li>obillboard (shadow for texts) : <em>not done</em></li>
</ul>
</li>
</ul>
</li>
<li>Raster Layer<ul>
<li>msDrawRasterLayer: <em>done</em></li>
</ul>
</li>
<li>WMS Layer<ul>
<li>msDrawWMSLayer: <em>done</em></li>
</ul>
</li>
<li>Surround components (Legend, scalebar) : <em>not supported</em></li>
</ol>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3>Szybkie wyszukiwanie</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Szukaj" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3>Navigation</h3>
<p>
<a href="../about.html" title="About">About</a><br>
<a href="../products.html" title="Products">Products</a><br>
<a href="../community/index.html" title="Community">Community</a><br>
<a href="../development/index.html" title="Development">Development</a><br>
<a href="../download.html" title="Downloads">Downloads</a><br>
<a href="../documentation.html" title="Documentation">Documentation</a><br>
<a href="../faq.html" title="FAQ">FAQ</a><br>
<a href="../psc.html" title="PSC">PSC</a><br>
<a href="https://twitter.com/mapserver_osgeo" title="Twitter">Twitter</a>
</p>
  <h3>Current Table Of Contents</h3>
  <ul>
<li><a class="reference internal" href="#">Flash Output</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a><ul>
<li><a class="reference internal" href="#links-to-flash-related-information">Links to Flash-Related Information</a></li>
</ul>
</li>
<li><a class="reference internal" href="#installing-mapserver-with-flash-support">Installing MapServer with Flash Support</a><ul>
<li><a class="reference internal" href="#using-pre-compiled-binaries">Using Pre-compiled Binaries</a></li>
<li><a class="reference internal" href="#compiling-mapserver-with-flash-support">Compiling MapServer with Flash Support</a><ul>
<li><a class="reference internal" href="#building-on-windows">Building on Windows</a></li>
<li><a class="reference internal" href="#building-on-unix">Building on Unix</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#how-to-output-swf-files-from-mapserver">How to Output SWF Files from MapServer</a><ul>
<li><a class="reference internal" href="#other-outputformat-options">Other OutputFormat Options</a></li>
<li><a class="reference internal" href="#composition-of-the-resulting-swf-files">Composition of the Resulting SWF Files</a></li>
<li><a class="reference internal" href="#exporting-attributes">Exporting Attributes</a></li>
<li><a class="reference internal" href="#events-and-highlights">Events and Highlights</a></li>
<li><a class="reference internal" href="#fonts">Fonts</a></li>
<li><a class="reference internal" href="#outputting-raster-swf-for-vector-layers">Outputting Raster SWF for Vector Layers</a></li>
</ul>
</li>
<li><a class="reference internal" href="#what-is-currently-supported-and-not-supported">What is Currently Supported and Not Supported</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Nawigacja</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Indeks ogólny"
             >indeks</a></li>
        <li class="right" >
          <a href="html_legend.html" title="HTML Legends with MapServer"
             >dalej</a> |</li>
        <li class="right" >
          <a href="dynamic_charting.html" title="Dynamic Charting"
             >wstecz</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >MapServer 7.2.2 Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >Output Generation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; <a href="../copyright.html">Copyright</a> 2019, Open Source Geospatial Foundation.
      Ostatnia modyfikacja 2019-03-27.
      Utworzone przy pomocy <a href="http://sphinx-doc.org/">Sphinx</a>'a 1.7.6.
    </div>
  </body>
</html>