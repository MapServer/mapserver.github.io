
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="sq">
  <head>
    <meta charset="utf-8" />
    <title>MS RFC 127: Drop (broken) support for builds without GDAL and PROJ &#8212; MapServer 7.4.3 documentation</title>
    <link rel="stylesheet" href="../../_static/sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script src="../../_static/translations.js"></script>
    
    <link rel="shortcut icon" href="../../_static/mapserver.ico"/>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="MS RFC 128: Make C99 and C++11 build requirements" href="ms-rfc-128.html" />
    <link rel="prev" title="MS RFC 126: Port to PROJ 6 API" href="ms-rfc-126.html" /> 
  </head><body>

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../../index.html" title="Home"><img src="../../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../../index.html" title="Home">Home</a> |
      <a href="../../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../../community/service_providers.html" title="Professional Service Providers">Service Providers</a> |      
      <a href="../../faq.html" title="Frequently Asked Questions">FAQ</a> |
      <a href="https://twitter.com/mapserver_osgeo" title="Twitter">Twitter</a> |
      <a href="../../download.html" title="Download Source or Binaries">Download </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        
          
            <a href="../../../development/rfc/ms-rfc-127.html"><img src="../../_static/flagicons/en.png" alt="en" title="en" border="0" /></a>
          
        
        
          
            <a href="../../../ar/development/rfc/ms-rfc-127.html"><img src="../../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
          
        
        
          
            <a href="../../../de/development/rfc/ms-rfc-127.html"><img src="../../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
          
        
        
          
            <a href="../../../el/development/rfc/ms-rfc-127.html"><img src="../../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
          
        
        
          
            <a href="../../../es/development/rfc/ms-rfc-127.html"><img src="../../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
          
        
        
          
            <a href="../../../fr/development/rfc/ms-rfc-127.html"><img src="../../_static/flagicons/fr.png" alt="fr" title="fr" border="0" /></a>
          
        
        
          
            <a href="../../../id/development/rfc/ms-rfc-127.html"><img src="../../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
          
        
        
          
            <a href="../../../it/development/rfc/ms-rfc-127.html"><img src="../../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
          
        
        
          
            <a href="../../../ja/development/rfc/ms-rfc-127.html"><img src="../../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
          
        
        
          
            <a href="../../../nl_NL/development/rfc/ms-rfc-127.html"><img src="../../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
          
        
        
          
            <a href="../../../pl/development/rfc/ms-rfc-127.html"><img src="../../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
          
        
        
          
            <a href="../../../ru/development/rfc/ms-rfc-127.html"><img src="../../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
          
        
        <img src="../../_static/flagicons/sq.png" alt="sq" title="sq" border="0" width="18px" height="13px"/>
        
          
            <a href="../../../tr/development/rfc/ms-rfc-127.html"><img src="../../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
          
        

    </td>
  </tr>
</table>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="ms-rfc-128.html" title="MS RFC 128: Make C99 and C++11 build requirements"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="ms-rfc-126.html" title="MS RFC 126: Port to PROJ 6 API"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Development</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Request for Comments</a> &#187;</li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="ms-rfc-127-drop-broken-support-for-builds-without-gdal-and-proj">
<span id="rfc127"></span><h1>MS RFC 127: Drop (broken) support for builds without GDAL and PROJ<a class="headerlink" href="#ms-rfc-127-drop-broken-support-for-builds-without-gdal-and-proj" title="Permalink to this headline">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Date</dt>
<dd class="field-odd"><p>2019-12-02</p>
</dd>
<dt class="field-even">Author</dt>
<dd class="field-even"><p>Even Rouault</p>
</dd>
<dt class="field-odd">Contact</dt>
<dd class="field-odd"><p><a class="reference external" href="mailto:even&#46;rouault&#37;&#52;&#48;spatialys&#46;com">even<span>&#46;</span>rouault<span>&#64;</span>spatialys<span>&#46;</span>com</a></p>
</dd>
<dt class="field-even">Status</dt>
<dd class="field-even"><p>Adopted</p>
</dd>
<dt class="field-odd">Last update</dt>
<dd class="field-odd"><p>2019-12-11</p>
</dd>
<dt class="field-even">Version</dt>
<dd class="field-even"><p>MapServer 7.6</p>
</dd>
</dl>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>MapServer, at least since 7.4.0, does not compile if disabling GDAL or PROJ
support. As far as we know, nobody complained about that, which shows that such
configurations must have been used very rarely in practice. We thus propose to
acknowledge the fact that those dependencies as required. Beyond the benefit of avoiding
broken configurations, this also removes a huge number of #ifdef that are
scattered in the source code, which improves readability.</p>
</div>
<div class="section" id="proposed-solution">
<h2>Proposed solution<a class="headerlink" href="#proposed-solution" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>In CMakeLists.txt, remove USE_GDAL, USE_OGR, USE_PROJ</p></li>
<li><p>In CMakeLists.txt, make GDAL and PROJ required as libpng, libjpeg and freetype</p></li>
<li><p>In .c, .cpp files, remove the code paths that correspond to USE_GDAL, USE_OGR,
USE_PROJ not defined</p></li>
</ul>
</div>
<div class="section" id="backwards-compatibility-issues">
<h2>Backwards Compatibility Issues<a class="headerlink" href="#backwards-compatibility-issues" title="Permalink to this headline">¶</a></h2>
<p>None w.r.t 7.4 branch.</p>
</div>
<div class="section" id="security-implications">
<h2>Security implications<a class="headerlink" href="#security-implications" title="Permalink to this headline">¶</a></h2>
<p>None.</p>
</div>
<div class="section" id="mapscript-implications">
<h2>MapScript implications<a class="headerlink" href="#mapscript-implications" title="Permalink to this headline">¶</a></h2>
<p>None (apart a removal of a #ifdef USE_PROJ in PHP bindings)</p>
</div>
<div class="section" id="documentation-needs">
<h2>Documentation needs<a class="headerlink" href="#documentation-needs" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://mapserver.org/installation/unix.html">https://mapserver.org/installation/unix.html</a> and <a class="reference external" href="https://mapserver.org/installation/win32.html">https://mapserver.org/installation/win32.html</a>
will need to move GDAL and PROJ from the highly recommended section to the mandatory one.</p>
</div>
<div class="section" id="ticket-id-and-references">
<h2>Ticket ID and references<a class="headerlink" href="#ticket-id-and-references" title="Permalink to this headline">¶</a></h2>
<p>Pull request available at: <a class="reference external" href="https://github.com/mapserver/mapserver/pull/5935">https://github.com/mapserver/mapserver/pull/5935</a></p>
</div>
<div class="section" id="voting-history">
<h2>Voting history<a class="headerlink" href="#voting-history" title="Permalink to this headline">¶</a></h2>
<p>Adopted with +1 from PSC members SethG, EvenR, MichaelS, JeffM, SteveL, JukkaR,
DanielM, StephanS</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script><h3>Navigation</h3>
<p>
<a href="../../about.html" title="About">About</a><br>
<a href="../../products.html" title="Products">Products</a><br>
<a href="../../community/index.html" title="Community">Community</a><br>
<a href="../index.html" title="Development">Development</a><br>
<a href="../../download.html" title="Downloads">Downloads</a><br>
<a href="../../documentation.html" title="Documentation">Documentation</a><br>
<a href="../../faq.html" title="FAQ">FAQ</a><br>
<a href="../../psc.html" title="PSC">PSC</a><br>
<a href="https://twitter.com/mapserver_osgeo" title="Twitter">Twitter</a>
</p>
  <h3>Current Table Of Contents</h3>
  <ul>
<li><a class="reference internal" href="#">MS RFC 127: Drop (broken) support for builds without GDAL and PROJ</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#proposed-solution">Proposed solution</a></li>
<li><a class="reference internal" href="#backwards-compatibility-issues">Backwards Compatibility Issues</a></li>
<li><a class="reference internal" href="#security-implications">Security implications</a></li>
<li><a class="reference internal" href="#mapscript-implications">MapScript implications</a></li>
<li><a class="reference internal" href="#documentation-needs">Documentation needs</a></li>
<li><a class="reference internal" href="#ticket-id-and-references">Ticket ID and references</a></li>
<li><a class="reference internal" href="#voting-history">Voting history</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="ms-rfc-128.html" title="MS RFC 128: Make C99 and C++11 build requirements"
             >next</a> |</li>
        <li class="right" >
          <a href="ms-rfc-126.html" title="MS RFC 126: Port to PROJ 6 API"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Development</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >Request for Comments</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; <a href="../../copyright.html">Copyright</a> 2020, Open Source Geospatial Foundation.
      Last updated on 2020-03-21.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.4.
    </div>
  </body>
</html>