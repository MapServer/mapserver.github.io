<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" lang="sq">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>MS RFC 83: Source tree reorganization &#8212; MapServer 7.0.2 documentation</title>
    
    <link rel="stylesheet" href="../../_static/sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '7.0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/mapserver.ico"/>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="top" title="MapServer 7.0.2 documentation" href="../../index.html" />
    <link rel="up" title="Request for Comments" href="index.html" />
    <link rel="next" title="MS RFC 84: Migrate project repository from svn to git" href="ms-rfc-84.html" />
    <link rel="prev" title="MS RFC 82: Support for Enhanced Layer Metadata Management" href="ms-rfc-82.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../../index.html" title="Home"><img src="../../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../../index.html" title="Home">Home</a> |
      <a href="../../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../../community/service_providers.html" title="Professional Service Providers">Service Providers</a> |      
      <a href="../../faq.html" title="Frequently Asked Questions">FAQ</a> |
      <a href="../../download.html" title="Download Source or Binaries">Download </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        
          
            <a href="../../../development/rfc/ms-rfc-83.html"><img src="../../_static/flagicons/en.png" alt="en" title="en" border="0" /></a>
          
        
        
          
            <a href="../../../ar/development/rfc/ms-rfc-83.html"><img src="../../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
          
        
        
          
            <a href="../../../de/development/rfc/ms-rfc-83.html"><img src="../../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
          
        
        
          
            <a href="../../../el/development/rfc/ms-rfc-83.html"><img src="../../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
          
        
        
          
            <a href="../../../es/development/rfc/ms-rfc-83.html"><img src="../../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
          
        
        
          
            <a href="../../../fr/development/rfc/ms-rfc-83.html"><img src="../../_static/flagicons/fr.png" alt="fr" title="fr" border="0" /></a>
          
        
        
          
            <a href="../../../id/development/rfc/ms-rfc-83.html"><img src="../../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
          
        
        
          
            <a href="../../../it/development/rfc/ms-rfc-83.html"><img src="../../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
          
        
        
          
            <a href="../../../ja/development/rfc/ms-rfc-83.html"><img src="../../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
          
        
        
          
            <a href="../../../nl_NL/development/rfc/ms-rfc-83.html"><img src="../../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
          
        
        
          
            <a href="../../../pl/development/rfc/ms-rfc-83.html"><img src="../../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
          
        
        
          
            <a href="../../../ru/development/rfc/ms-rfc-83.html"><img src="../../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
          
        
        <img src="../../_static/flagicons/sq.png" alt="sq" title="sq" border="0" width="18px" height="13px"/>
        
          
            <a href="../../../tr/development/rfc/ms-rfc-83.html"><img src="../../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
          
        

    </td>
  </tr>
</table>



  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="ms-rfc-83-source-tree-reorganization">
<span id="rfc83"></span><h1>MS RFC 83: Source tree reorganization<a class="headerlink" href="#ms-rfc-83-source-tree-reorganization" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Date:</th><td class="field-body">2012-02-06</td>
</tr>
<tr class="field-even field"><th class="field-name">Author:</th><td class="field-body">Daniel Morissette</td>
</tr>
<tr class="field-odd field"><th class="field-name">Contact:</th><td class="field-body">dmorissette at mapgears.com</td>
</tr>
<tr class="field-even field"><th class="field-name">Last Edited:</th><td class="field-body">011-11-25</td>
</tr>
<tr class="field-odd field"><th class="field-name">Status:</th><td class="field-body">Abandoned</td>
</tr>
<tr class="field-even field"><th class="field-name">Version:</th><td class="field-body">MapServer 6.2</td>
</tr>
</tbody>
</table>
<div class="section" id="overview">
<h2>1. Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>With the inclusion of the new MapCache and TinyOWS components in the MapServer project, it would be ideal to reorganize the directory structure of the source tree to facilitate builds and maintenance in the future.</p>
</div>
<div class="section" id="current-directory-structure">
<h2>2. Current directory structure<a class="headerlink" href="#current-directory-structure" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ls</span> <span class="o">-</span><span class="n">R</span> <span class="o">|</span> <span class="n">grep</span> <span class="o">-</span><span class="n">v</span> <span class="n">svn</span> <span class="o">|</span> <span class="n">grep</span> <span class="s2">&quot;:$&quot;</span> <span class="o">|</span> <span class="n">sed</span> <span class="o">-</span><span class="n">e</span> <span class="s1">&#39;s/:$//&#39;</span> <span class="o">-</span><span class="n">e</span> <span class="s1">&#39;s/[^-][^\/]*\//--/g&#39;</span> <span class="o">-</span><span class="n">e</span> <span class="s1">&#39;s/^/   /&#39;</span> <span class="o">-</span><span class="n">e</span> <span class="s1">&#39;s/-/|/&#39;</span>

 <span class="n">mapserver</span>
 <span class="o">|-</span><span class="n">fonts</span>
 <span class="o">|-</span><span class="n">m4</span>
 <span class="o">|-</span><span class="n">mapcache</span>
 <span class="o">|---</span><span class="n">apache</span>
 <span class="o">|---</span><span class="n">cgi</span>
 <span class="o">|---</span><span class="n">include</span>
 <span class="o">|---</span><span class="n">lib</span>
 <span class="o">|---</span><span class="n">m4</span>
 <span class="o">|---</span><span class="n">nginx</span>
 <span class="o">|---</span><span class="n">static</span>
 <span class="o">|---</span><span class="n">util</span>
 <span class="o">|-</span><span class="n">mapscript</span>
 <span class="o">|---</span><span class="n">csharp</span>
 <span class="o">|-----</span><span class="n">config</span>
 <span class="o">|-----</span><span class="n">examples</span>
 <span class="o">|---</span><span class="n">doc</span>
 <span class="o">|---</span><span class="n">java</span>
 <span class="o">|-----</span><span class="n">data</span>
 <span class="o">|-----</span><span class="n">examples</span>
 <span class="o">|-----</span><span class="n">tests</span>
 <span class="o">|-------</span><span class="n">threadtest</span>
 <span class="o">|---</span><span class="n">perl</span>
 <span class="o">|-----</span><span class="n">examples</span>
 <span class="o">|---</span><span class="n">php</span>
 <span class="o">|-----</span><span class="n">examples</span>
 <span class="o">|---</span><span class="n">python</span>
 <span class="o">|-----</span><span class="n">examples</span>
 <span class="o">|-----</span><span class="n">pygdioctx</span>
 <span class="o">|-----</span><span class="n">tests</span>
 <span class="o">|-------</span><span class="n">cases</span>
 <span class="o">|-------</span><span class="n">timing</span>
 <span class="o">|---</span><span class="n">ruby</span>
 <span class="o">|-----</span><span class="n">examples</span>
 <span class="o">|---</span><span class="n">swiginc</span>
 <span class="o">|---</span><span class="n">tcl</span>
 <span class="o">|-----</span><span class="n">examples</span>
 <span class="o">|-----</span><span class="n">win</span>
 <span class="o">|-</span><span class="n">opengl</span>
 <span class="o">|-</span><span class="n">renderers</span>
 <span class="o">|---</span><span class="n">agg</span>
 <span class="o">|-----</span><span class="n">include</span>
 <span class="o">|-------</span><span class="n">util</span>
 <span class="o">|-----</span><span class="n">src</span>
 <span class="o">|-</span><span class="n">symbols</span>
 <span class="o">|-</span><span class="n">tests</span>
 <span class="o">|---</span><span class="n">vera</span>
 <span class="o">|-</span><span class="n">xmlmapfile</span>
 <span class="o">|---</span><span class="n">tests</span>
</pre></div>
</div>
<p>Where the most interesting pieces are:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">mapserver</span>
<span class="o">|-</span><span class="n">mapcache</span>
<span class="o">|-</span><span class="n">mapscript</span>
<span class="o">|-</span><span class="n">opengl</span>
<span class="o">|-</span><span class="n">renderers</span>
<span class="o">|---</span><span class="n">agg</span>
<span class="o">|-</span><span class="n">xmlmapfile</span>
</pre></div>
</div>
</div>
<div class="section" id="new-proposed-directory-structure">
<h2>3. New proposed directory structure<a class="headerlink" href="#new-proposed-directory-structure" title="Permalink to this headline">¶</a></h2>
<p>The most important change is that most of the .c/.h source files currently in the mapserver root directory will be moved to one of two new sub-directories:</p>
<ul class="simple">
<li>lib: Contains all the mapserver core source files that are built into libmapserver.so and shared with multiple components. This directory would also be the home of libmapfile.so when we create it.</li>
<li>apps: Contains the source files related to the traditional mapserv CGI/FastCGI application and command-line utilities such as shp2img, etc.</li>
</ul>
<p>A new &#8220;tinyows&#8221; sub-directory will be created to serve as the future home of TinyOWS source files.</p>
<p>The result will look like this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">mapserver</span>
<span class="o">|-</span><span class="n">lib</span>
<span class="o">|---</span><span class="n">renderers</span>
<span class="o">|-----</span><span class="n">agg</span>
<span class="o">|-----</span><span class="n">opengl</span>
<span class="o">|-</span><span class="n">apps</span>
<span class="o">|-</span><span class="n">mapscript</span>
<span class="o">|-</span><span class="n">mapcache</span>
<span class="o">|-</span><span class="n">tinyows</span>
<span class="o">|-</span><span class="n">xmlmapfile</span>
</pre></div>
</div>
<p>For the time being, the following files will continue to reside in the mapserver root directory:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">configure</span><span class="o">.</span><span class="ow">in</span>
<span class="n">Makefile</span><span class="o">.</span><span class="ow">in</span>
<span class="n">HISTORY</span><span class="o">.</span><span class="n">TXT</span> <span class="p">(</span><span class="n">applicable</span> <span class="n">to</span> <span class="n">releases</span> <span class="n">of</span> <span class="n">the</span> <span class="n">full</span> <span class="n">suite</span><span class="p">)</span>
</pre></div>
</div>
<p>Initially the root directory&#8217;s configure.in will be the same one that we currently have, and it will update the Makefile.in in the lib, apps and mapscript sub-directories.</p>
<p>Our long term goal (to happen slowly over time) is that most of the sub-directories (especially mapserv, mapscript, mapcache and tinyows) will also eventually contain their own standalone configure script and Makefile to allow building a given component independently. At that point the master configure script and Makefile in the mapserver root directory will simply call each sub-project&#8217;s configure and Makefile to automate building of multiple selected components at once.</p>
<p>HISTORY.TXT files will be maintained at two levels:</p>
<ul class="simple">
<li>HISTORY.TXT in root directory: contains history information relevant to releases of the full suite</li>
<li>HISTORY.TXT in each sub-project directory: contains detailed history information related to each specific component. The current HISTORY.TXT would be moved to the libmapserver.so sub-directory.</li>
</ul>
</div>
<div class="section" id="backwards-compatibility-issues">
<h2>4. Backwards Compatibility Issues<a class="headerlink" href="#backwards-compatibility-issues" title="Permalink to this headline">¶</a></h2>
<p>Patches against older releases may not apply directly any more due to files moving around. For the same reasons, merging of changes from a svn sandbox or branch may be more complicated.</p>
</div>
<div class="section" id="bug-id">
<h2>5. Bug ID<a class="headerlink" href="#bug-id" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>TBD</li>
</ul>
</div>
<div class="section" id="voting-history">
<h2>6. Voting history<a class="headerlink" href="#voting-history" title="Permalink to this headline">¶</a></h2>
<p>No vote yet.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3>Navigation</h3>
<p>
<a href="../../about.html" title="About">About</a><br>
<a href="../../products.html" title="Products">Products</a><br>
<a href="../../community/index.html" title="Community">Community</a><br>
<a href="../index.html" title="Development">Development</a><br>
<a href="../../download.html" title="Downloads">Downloads</a><br>
<a href="../../documentation.html" title="Documentation">Documentation</a><br>
<a href="../../faq.html" title="FAQ">FAQ</a><br>
<a href="../../psc.html" title="PSC">PSC</a>
</p>
  <h3>Current Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">MS RFC 83: Source tree reorganization</a><ul>
<li><a class="reference internal" href="#overview">1. Overview</a></li>
<li><a class="reference internal" href="#current-directory-structure">2. Current directory structure</a></li>
<li><a class="reference internal" href="#new-proposed-directory-structure">3. New proposed directory structure</a></li>
<li><a class="reference internal" href="#backwards-compatibility-issues">4. Backwards Compatibility Issues</a></li>
<li><a class="reference internal" href="#bug-id">5. Bug ID</a></li>
<li><a class="reference internal" href="#voting-history">6. Voting history</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Open Source Geospatial Foundation.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.4.8</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.9</a>
      
    </div>

    

    
  </body>
</html>