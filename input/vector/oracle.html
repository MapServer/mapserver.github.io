<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Oracle Spatial &#8212; MapServer 8.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx.css?v=6c7b17ac" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=dd298242" />
    <link rel="stylesheet" type="text/css" href="../../_static/ribbon.css?v=ea091bf4" />
    
    <script src="../../_static/documentation_options.js?v=521b6f53"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="icon" href="../../_static/mapserver.ico"/>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="PostGIS/PostgreSQL" href="postgis.html" />
    <link rel="prev" title="OGR Vector Layers Through MapServer" href="ogr.html" /> 
  </head><body>


<!-- for main branch only, do not backport this -->

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../../index.html" title="Home"><img src="../../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../../index.html" title="Home">Home</a> |
      <a href="../../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../../community/service_providers.html" title="Professional Service Providers">Service Providers</a> |      
      <a href="../../faq.html" title="Frequently Asked Questions">FAQ</a> |
      <a href="https://twitter.com/mapserver_osgeo" title="Twitter" target="_blank">Twitter</a> |
      <a href="../../download.html" title="Download Source or Binaries">Download </a> |
      <a class="badge" href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=KRJ2X44N3HA6U&source=url" target="_blank">
        <img src="https://img.shields.io/badge/donate-%E2%9D%A4%C2%A0-ff69b4.svg?style=flat" alt="Donate to MapServer">
      </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        <img src="../../_static/flagicons/en.png" alt="en" title="en" border="0" width="18px" height="13px"/>
        
          <a href="../../ar/input/vector/oracle.html"><img src="../../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
        
        
          <a href="../../de/input/vector/oracle.html"><img src="../../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
        
        
          <a href="../../el/input/vector/oracle.html"><img src="../../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
        
        
          <a href="../../es/input/vector/oracle.html"><img src="../../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
        
        
          <a href="../../fr/input/vector/oracle.html"><img src="../../_static/flagicons/fr.png" alt="fr" title="fr" border="0" /></a>
        
        
          <a href="../../id/input/vector/oracle.html"><img src="../../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
        
        
          <a href="../../it/input/vector/oracle.html"><img src="../../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
        
        
          <a href="../../ja/input/vector/oracle.html"><img src="../../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
        
        
          <a href="../../nl_NL/input/vector/oracle.html"><img src="../../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
        
        
          <a href="../../pl/input/vector/oracle.html"><img src="../../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
        
        
          <a href="../../ru/input/vector/oracle.html"><img src="../../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
        
        
          <a href="../../sq/input/vector/oracle.html"><img src="../../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
        
        
          <a href="../../tr/input/vector/oracle.html"><img src="../../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
        

    </td>
  </tr>
</table>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="postgis.html" title="PostGIS/PostgreSQL"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="ogr.html" title="OGR Vector Layers Through MapServer"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../documentation.html" >MapServer 8.0.1 Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../index.html" >Data Input</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="index.html" accesskey="U">Vector Data</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Oracle Spatial</a></li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="oracle-spatial">
<span id="oci"></span><h1><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Oracle Spatial</a><a class="headerlink" href="#oracle-spatial" title="Link to this heading">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Author<span class="colon">:</span></dt>
<dd class="field-odd"><p>Bart van den Eijnden</p>
</dd>
<dt class="field-even">Author<span class="colon">:</span></dt>
<dd class="field-even"><p>Jeff McKenna</p>
</dd>
<dt class="field-odd">Contact<span class="colon">:</span></dt>
<dd class="field-odd"><p>jmckenna at gatewaygeomatics.com</p>
</dd>
<dt class="field-even">Last Updated<span class="colon">:</span></dt>
<dd class="field-even"><p>2021-05-05</p>
</dd>
</dl>
<nav class="contents" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#oracle-spatial" id="id1">Oracle Spatial</a></p>
<ul>
<li><p><a class="reference internal" href="#binaries" id="id2">Binaries</a></p></li>
<li><p><a class="reference internal" href="#installation" id="id3">Installation</a></p></li>
<li><p><a class="reference internal" href="#two-options-for-using-oracle-spatial-with-mapserver" id="id4">Two options for using Oracle Spatial with MapServer</a></p>
<ul>
<li><p><a class="reference internal" href="#mapfile-syntax-for-native-oracle-spatial-support" id="id5">Mapfile syntax for native Oracle Spatial support</a></p>
<ul>
<li><p><a class="reference internal" href="#examples" id="id6">Examples</a></p></li>
<li><p><a class="reference internal" href="#using-subselects-in-the-data-statement" id="id7">Using subselects in the DATA statement</a></p></li>
<li><p><a class="reference internal" href="#additional-keywords-function" id="id8">Additional keywords - [FUNCTION]</a></p></li>
<li><p><a class="reference internal" href="#additional-keywords-version" id="id9">Additional keywords - [VERSION]</a></p></li>
<li><p><a class="reference internal" href="#more-information" id="id10">More information</a></p></li>
<li><p><a class="reference internal" href="#example-of-a-layer" id="id11">Example of a LAYER</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#mapfile-syntax-for-ogr-oracle-spatial-support" id="id12">Mapfile syntax for OGR Oracle Spatial support</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#what-mapserver-components-are-related-to-oracle-spatial-access" id="id13">What MapServer Components are related to Oracle Spatial access</a></p></li>
</ul>
</li>
</ul>
</nav>
<p id="index-0">Oracle Spatial is a spatial component for the Oracle database. Remember
that all Oracle databases come with Locator, which has less features than
Oracle Spatial. The differences between Locator and Spatial can be found in
the <a class="reference external" href="https://www.orafaq.com/wiki/Spatial_FAQ">Oracle Spatial FAQ</a>.</p>
<p>You can also see the original <a class="reference external" href="https://github.com/MapServer/MapServer/wiki/OracleSpatial">OracleSpatial wiki page</a>
that this document was based on.</p>
<section id="binaries">
<h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Binaries</a><a class="headerlink" href="#binaries" title="Link to this heading">¶</a></h2>
<p>MapServer Windows plugins with Oracle spatial support are included in
<a class="reference internal" href="../../download.html#windows"><span class="std std-ref">MS4W</span></a>. But you need Oracle client software installed on the server on which you
are running MapServer. Oracle client software can be obtained for development
purposes from the Oracle website. The
ORACLE TECHNOLOGY NETWORK DEVELOPMENT LICENSE AGREEMENT applies to this
software. The instant client will be satisfactory, and you can download the
<a class="reference external" href="https://www.oracle.com/database/technologies/instant-client/downloads.html">instant client</a>. Make sure that your MapServer is compiled against the
same version as your Oracle client.</p>
</section>
<section id="installation">
<h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Installation</a><a class="headerlink" href="#installation" title="Link to this heading">¶</a></h2>
<p>See <a class="reference internal" href="../../installation/oracle.html#oci-install"><span class="std std-ref">Oracle Installation</span></a> for more configuration and installation information
for MapServer’s native Oracle support.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you receive error messages like “Error: .”. It’s likely related to
MapServer being unable access or locate the ORACLE_HOME.</p>
</div>
</section>
<section id="two-options-for-using-oracle-spatial-with-mapserver">
<h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Two options for using Oracle Spatial with MapServer</a><a class="headerlink" href="#two-options-for-using-oracle-spatial-with-mapserver" title="Link to this heading">¶</a></h2>
<p>Oracle Spatial layers in MapServer can be used through 2 interfaces:</p>
<ul class="simple">
<li><p>The native built-in support through <em>maporaclespatial.c</em></p></li>
<li><p>OGR, but watch out: GDAL/OGR is not compiled with Oracle Spatial support
by default, so it won’t work without compiling in OCI (Oracle client) yourself.
This requires both recompiling GDAL/OGR as well as recompiling MapServer
itself against the new GDAL/OGR !!!!</p></li>
</ul>
<section id="mapfile-syntax-for-native-oracle-spatial-support">
<h3><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Mapfile syntax for native Oracle Spatial support</a><a class="headerlink" href="#mapfile-syntax-for-native-oracle-spatial-support" title="Link to this heading">¶</a></h3>
<p>The <a class="reference internal" href="../../mapfile/layer.html#mapfile-layer-data"><span class="std std-ref">DATA</span></a> statement for a <a class="reference internal" href="../../mapfile/layer.html#layer"><span class="std std-ref">LAYER</span></a> of <a class="reference internal" href="../../mapfile/layer.html#mapfile-layer-connectiontype"><span class="std std-ref">CONNECTIONTYPE</span></a>
oraclespatial can now have 4 options. This change is backwards compatible, i.e. the old ways of specifying
DATA still work. The new options are an extension to the old DATA statements,
as they needed to include identification of the primary key to be used for the
query modes (UNIQUE).</p>
<p>The following options are valid DATA statements:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;[geom_column]</span>
<span class="n">FROM</span>
<span class="p">[</span><span class="n">table</span><span class="p">]</span><span class="o">|</span> <span class="p">[(</span>
            <span class="n">SELECT</span> <span class="p">[</span><span class="o">...</span><span class="p">]</span>
            <span class="n">FROM</span> <span class="p">[</span><span class="n">table</span><span class="p">]</span><span class="o">|</span><span class="p">[</span><span class="n">Spatial</span> <span class="n">Operator</span><span class="p">]</span>
            <span class="p">[</span><span class="n">WHERE</span> <span class="n">condition</span><span class="p">]</span> <span class="p">)]</span>
<span class="p">[</span><span class="n">USING</span> <span class="p">[</span><span class="n">UNIQUE</span> <span class="n">column</span><span class="p">]</span>
        <span class="o">|</span> <span class="p">[</span><span class="n">SRID</span> <span class="c1">#srid]</span>
        <span class="o">|</span> <span class="p">[</span><span class="n">FUNCTION</span><span class="p">]</span>
        <span class="o">|</span> <span class="p">[</span><span class="n">VERSION</span> <span class="c1">#version]</span>
<span class="p">]</span><span class="s2">&quot;</span>
</pre></div>
</div>
<p>Note variable binding is supported by using <a class="reference internal" href="../../mapfile/layer.html#mapfile-layer-bindvals"><span class="std std-ref">BINDVALS</span></a> and name value pairs.</p>
<section id="examples">
<h4><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Examples</a><a class="headerlink" href="#examples" title="Link to this heading">¶</a></h4>
<section id="example-1">
<h5>Example 1<a class="headerlink" href="#example-1" title="Link to this heading">¶</a></h5>
<p>The most simple DATA statement, in this case you only need to define one
geometry column and one table. This option assumes you do not have an SRID
defined.</p>
<div class="highlight-mapfile notranslate"><div class="highlight"><pre><span></span><span class="k">LAYER</span>
    <span class="p">...</span>
    <span class="k">CONNECTIONTYPE</span> <span class="nb">oraclespatial</span>
    <span class="k">DATA</span> <span class="s">&quot;MYGEOMETRY FROM MYTABLE&quot;</span>
    <span class="p">...</span>
<span class="k">END</span>
</pre></div>
</div>
</section>
<section id="example-2">
<h5>Example 2<a class="headerlink" href="#example-2" title="Link to this heading">¶</a></h5>
<p>It’s composed of the first option plus the USING UNIQUE parameter. These new
features are necessary when you want to use any query function. When it is
used you must pass a numeric column type. This option assumes you do not have
an SRID defined.</p>
<div class="highlight-mapfile notranslate"><div class="highlight"><pre><span></span><span class="k">LAYER</span>
    <span class="p">...</span>
    <span class="k">CONNECTIONTYPE</span> <span class="nb">oraclespatial</span>
    <span class="k">DATA</span> <span class="s">&quot;MYGEOMETRY FROM MYTABLE USING UNIQUE MYTABLE_ID&quot;</span>
    <span class="p">...</span>
<span class="k">END</span>
</pre></div>
</div>
</section>
<section id="example-3">
<h5>Example 3<a class="headerlink" href="#example-3" title="Link to this heading">¶</a></h5>
<p>This option is an extension to the first option. In this
mode you must define the USING SRID parameter when the SRID value in your data
is different from NULL.</p>
<div class="highlight-mapfile notranslate"><div class="highlight"><pre><span></span><span class="k">LAYER</span>
    <span class="p">...</span>
    <span class="k">CONNECTIONTYPE</span> <span class="nb">oraclespatial</span>
    <span class="k">DATA</span> <span class="s">&quot;MYGEOMETRY FROM MYTABLE USING SRID 90112&quot;</span>
    <span class="p">...</span>
<span class="k">END</span>
</pre></div>
</div>
</section>
<section id="example-4">
<h5>Example 4<a class="headerlink" href="#example-4" title="Link to this heading">¶</a></h5>
<p>This option is a combination of examples 2 and 3.</p>
<div class="highlight-mapfile notranslate"><div class="highlight"><pre><span></span><span class="k">LAYER</span>
    <span class="p">...</span>
    <span class="k">CONNECTIONTYPE</span> <span class="nb">oraclespatial</span>
    <span class="k">DATA</span> <span class="s">&quot;MYGEOMETRY FROM MYTABLE USING UNIQUE MYTABLE_ID SRID 90112&quot;</span>
    <span class="p">...</span>
<span class="k">END</span>
</pre></div>
</div>
</section>
</section>
<section id="using-subselects-in-the-data-statement">
<h4><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Using subselects in the DATA statement</a><a class="headerlink" href="#using-subselects-in-the-data-statement" title="Link to this heading">¶</a></h4>
<p>It is possible to define the source of the date as a subselect and not only as
a table. As source of data, used in FROM token, you can define any SQL, table,
function, or operator that returns a SDO_GEOMETRY. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DATA</span> <span class="s2">&quot;[geom_column] FROM (SELECT [columns] FROM [table]|[Spatial function])&quot;</span>
</pre></div>
</div>
<p>If the LAYER definition contains a CLASSITEM, LABELITEM or FILTER, it is
necessary that the fields used are returned by the query. When you define
CLASSITEM you can use an expression without any problems.</p>
</section>
<section id="additional-keywords-function">
<h4><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Additional keywords - [FUNCTION]</a><a class="headerlink" href="#additional-keywords-function" title="Link to this heading">¶</a></h4>
<p>You can add three keywords to the DATA statement for [FUNCTION] option that
influence the query which will be executed in Oracle:</p>
<section id="using-filter">
<h5>USING FILTER<a class="headerlink" href="#using-filter" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;[geom_column] FROM [table]|([Subselect]) USING FILTER&quot;</span>
</pre></div>
</div>
<p>Using this keyword triggers MapServer to use the Oracle Spatial SDO_FILTER
operator. This operator executes only the Oracle Spatial primary filter over
your query data. In the Oracle User guide they explain: The primary filter
compares geometric approximations, it returns a superset of exact result. The
primary filter therefore should be as efficient (that is, selective yet fast)
as possible. This operator uses the spatial index, so you need to define your
spatial index correctly to retrieve an exact result. If the result of the
query is not exact you can try the next option.</p>
</section>
<section id="using-relate">
<h5>USING RELATE<a class="headerlink" href="#using-relate" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;[geom_column] FROM [table]|([Subselect]) USING RELATE&quot;</span>
</pre></div>
</div>
<p>Using this keyword triggers MapServer to use the Oracle Spatial SDO_RELATE
operator. This operator applies the primary and secondary Oracle Spatial
filters. It’s performance can be slightly slow but the result is extremely
correct. You can use this mode when you want a perfect result or when you
can’t readjust the spatial index.</p>
</section>
<section id="using-geomrelate">
<h5>USING GEOMRELATE<a class="headerlink" href="#using-geomrelate" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;[geom_column] FROM [table]|([Subselect]) USING GEOMRELATE&quot;</span>
</pre></div>
</div>
<p>Using this keyword triggers MapServer to use the geometry function
SDO_GEOM.RELATE, a function that searches the relations between geometries.
SDO_GEOM.RELATE does not use the spatial index and your performance is more
slow than operators but it’s very accurate. You can use this mode when you
can’t use the spatial index or when it doesn’t exist.</p>
</section>
<section id="using-none">
<h5>USING NONE<a class="headerlink" href="#using-none" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;[geom_column] FROM [table]|([Subselect]) USING NONE&quot;</span>
</pre></div>
</div>
<p>Using this keyword triggers MapServer to not use any geometry function or
spatial operator. So, the internal SQL doesn’t restrict, based on the extent, the
data from source. All the data from source will be returned to MapServer. The
NONE token is very useful when the source of the data doesn’t contain any
spatial index. It usually occurs when the source is a function like
SDO_BUFFER, SDO_XOR, SDO_INTERSECTION…… So this mode is recommended when
you can’t use the spatial index or when it doesn’t exist.</p>
</section>
</section>
<section id="additional-keywords-version">
<h4><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Additional keywords - [VERSION]</a><a class="headerlink" href="#additional-keywords-version" title="Link to this heading">¶</a></h4>
<p>You can define what version of database you are using to improve the internal
sql. This is very useful when using geodetic SRIDs and MapServer functions
that retrieve the extent from data.</p>
<section id="using-version-8i">
<h5>USING VERSION 8i<a class="headerlink" href="#using-version-8i" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;[geom_column] FROM [table]|([Subselect]) USING VERSION 8i&quot;</span>
</pre></div>
</div>
<p>This indicates MapServer to use a internal SQL that it’s compatible with
Oracle 8i version.</p>
</section>
<section id="using-version-9i">
<h5>USING VERSION 9i<a class="headerlink" href="#using-version-9i" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;[geom_column] FROM [table]|([Subselect]) USING VERSION 9i&quot;</span>
</pre></div>
</div>
<p>The second indicates MapServer to use 9i version, is recommended to use this
parameter if you are using 9i version because the internal SQL will use
specific spatial functions that is need to retrieve data correctly from 9i
Oracle Spatial versions.</p>
</section>
<section id="using-version-10g">
<h5>USING VERSION 10g<a class="headerlink" href="#using-version-10g" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;[geom_column] FROM [table]|([Subselect]) USING VERSION 10g&quot;</span>
</pre></div>
</div>
<p>This indicates MapServer to use a internal SQL that it’s compatible with
Oracle 10g version.</p>
</section>
</section>
<section id="more-information">
<h4><a class="toc-backref" href="#table-of-contents" role="doc-backlink">More information</a><a class="headerlink" href="#more-information" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>You can define any <a class="reference internal" href="../../mapfile/projection.html#projection"><span class="std std-ref">PROJECTION</span></a> to your <a class="reference internal" href="../../mapfile/layer.html#layer"><span class="std std-ref">LAYER</span></a> without problem,
can be used for data with or without an SRID in Oracle.</p></li>
<li><p>The native support for Oracle Spatial supports the defaults definition for
SDO_GEOMETRY in database, the Oracle Spatial SDO package.</p></li>
<li><p>Information about the primary and secondary Oracle Spatial filters can be
found in the Oracle Spatial User Guide (the “Query Model” section).
Information about the SDO_FILTER and SDO_RELATE operators can be found in
the “Spatial Operators” section, and information about the SDO_GEOM.RELATE
function can be found in the “Geometry Function” section of the Oracle
Spatial User Guide.</p></li>
</ul>
</section>
<section id="example-of-a-layer">
<h4><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Example of a LAYER</a><a class="headerlink" href="#example-of-a-layer" title="Link to this heading">¶</a></h4>
<div class="highlight-mapfile notranslate"><div class="highlight"><pre><span></span><span class="k">LAYER</span>
    <span class="k">NAME</span> <span class="err">kwadranten</span>
    <span class="k">TYPE</span> <span class="nb">POLYGON</span>
    <span class="k">CONNECTIONTYPE</span> <span class="nb">oraclespatial</span>
    <span class="k">CONNECTION</span> <span class="s">&quot;user/pwd&quot;</span>
    <span class="k">DATA</span> <span class="s">&quot;GEOMETRIE FROM KWADRANTEN USING SRID 90112&quot;</span>
    <span class="k">CLASS</span>
        <span class="k">STYLE</span>
            <span class="k">OUTLINECOLOR</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>
            <span class="k">COLOR</span> <span class="mi">0</span> <span class="mi">128</span> <span class="mi">128</span>
        <span class="k">END</span>
    <span class="k">END</span>
<span class="k">END</span>
</pre></div>
</div>
<p>You can specify the SID for your database, the SID alias needs to be supplied
in the tnsnames.ora file of the Oracle client, e.g.</p>
<p>Example for tnsnames.ora:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MYDB</span> <span class="o">=</span>
    <span class="p">(</span><span class="n">DESCRIPTION</span> <span class="o">=</span>
        <span class="p">(</span><span class="n">ADDRESS_LIST</span> <span class="o">=</span>
            <span class="p">(</span><span class="n">ADDRESS</span> <span class="o">=</span> <span class="p">(</span><span class="n">PROTOCOL</span> <span class="o">=</span> <span class="n">TCP</span><span class="p">)(</span><span class="n">HOST</span> <span class="o">=</span> <span class="n">server_ip</span><span class="p">)(</span><span class="n">PORT</span> <span class="o">=</span> <span class="mi">1521</span><span class="p">))</span>
        <span class="p">)</span>
        <span class="p">(</span><span class="n">CONNECT_DATA</span> <span class="o">=</span>
            <span class="p">(</span><span class="n">SERVICE_NAME</span> <span class="o">=</span> <span class="n">DB1</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="p">)</span>
</pre></div>
</div>
<p>So after this you can define you layer connection as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CONNECTION</span> <span class="s2">&quot;user/pwd@MYDB&quot;</span>
</pre></div>
</div>
</section>
</section>
<section id="mapfile-syntax-for-ogr-oracle-spatial-support">
<h3><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Mapfile syntax for OGR Oracle Spatial support</a><a class="headerlink" href="#mapfile-syntax-for-ogr-oracle-spatial-support" title="Link to this heading">¶</a></h3>
<p>Syntax for your MAP file:</p>
<div class="highlight-mapfile notranslate"><div class="highlight"><pre><span></span><span class="k">CONNECTION</span> <span class="s">&quot;OCI:user/pwd@service&quot;</span>
<span class="k">CONNECTIONTYPE</span> <span class="nb">OGR</span>
<span class="k">DATA</span> <span class="s">&quot;Tablename&quot;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Make sure you set the wms_extent METADATA for the LAYER, as otherwise the
“Getcapabilities” request takes a lot of time.</p>
</div>
</section>
</section>
<section id="what-mapserver-components-are-related-to-oracle-spatial-access">
<h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">What MapServer Components are related to Oracle Spatial access</a><a class="headerlink" href="#what-mapserver-components-are-related-to-oracle-spatial-access" title="Link to this heading">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This list was created back for MapServer 5.2 so it is somewhat outdated.</p>
</div>
<ul class="simple">
<li><p>mode=map</p></li>
<li><p>query modes: query, nquery, itemnquery</p></li>
<li><p><a class="reference internal" href="../../mapscript/index.html#mapscript"><span class="std std-ref">MapScript</span></a> query functions such as querybyattributes</p></li>
<li><p><a class="reference internal" href="../../ogc/wms_server.html#wms-server"><span class="std std-ref">OGC:WMS</span></a>: GetCapabilities, GetMap, GetFeatureInfo, DescribeLayer</p></li>
<li><p><a class="reference internal" href="../../ogc/wfs_server.html#wfs-server"><span class="std std-ref">OGC:WFS</span></a>, GetCapabilities, DescribeFeatureType, GetFeature</p></li>
</ul>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p>
<a href="../../about.html" title="About">About</a><br>
<a href="../../products.html" title="Products">Products</a><br>
<a href="../../community/index.html" title="Community">Community</a><br>
<a href="../../development/index.html" title="Development">Development</a><br>
<a href="../../download.html" title="Downloads">Downloads</a><br>
<a href="../../documentation.html" title="Documentation">Documentation</a><br>
<a href="../../faq.html" title="FAQ">FAQ</a><br>
<a href="../../psc.html" title="PSC">PSC</a><br>
<a href="https://twitter.com/mapserver_osgeo" title="Twitter">Twitter</a>
</p>
  <h3>Current Table Of Contents</h3>
  <ul>
<li><a class="reference internal" href="#">Oracle Spatial</a><ul>
<li><a class="reference internal" href="#binaries">Binaries</a></li>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#two-options-for-using-oracle-spatial-with-mapserver">Two options for using Oracle Spatial with MapServer</a><ul>
<li><a class="reference internal" href="#mapfile-syntax-for-native-oracle-spatial-support">Mapfile syntax for native Oracle Spatial support</a><ul>
<li><a class="reference internal" href="#examples">Examples</a><ul>
<li><a class="reference internal" href="#example-1">Example 1</a></li>
<li><a class="reference internal" href="#example-2">Example 2</a></li>
<li><a class="reference internal" href="#example-3">Example 3</a></li>
<li><a class="reference internal" href="#example-4">Example 4</a></li>
</ul>
</li>
<li><a class="reference internal" href="#using-subselects-in-the-data-statement">Using subselects in the DATA statement</a></li>
<li><a class="reference internal" href="#additional-keywords-function">Additional keywords - [FUNCTION]</a><ul>
<li><a class="reference internal" href="#using-filter">USING FILTER</a></li>
<li><a class="reference internal" href="#using-relate">USING RELATE</a></li>
<li><a class="reference internal" href="#using-geomrelate">USING GEOMRELATE</a></li>
<li><a class="reference internal" href="#using-none">USING NONE</a></li>
</ul>
</li>
<li><a class="reference internal" href="#additional-keywords-version">Additional keywords - [VERSION]</a><ul>
<li><a class="reference internal" href="#using-version-8i">USING VERSION 8i</a></li>
<li><a class="reference internal" href="#using-version-9i">USING VERSION 9i</a></li>
<li><a class="reference internal" href="#using-version-10g">USING VERSION 10g</a></li>
</ul>
</li>
<li><a class="reference internal" href="#more-information">More information</a></li>
<li><a class="reference internal" href="#example-of-a-layer">Example of a LAYER</a></li>
</ul>
</li>
<li><a class="reference internal" href="#mapfile-syntax-for-ogr-oracle-spatial-support">Mapfile syntax for OGR Oracle Spatial support</a></li>
</ul>
</li>
<li><a class="reference internal" href="#what-mapserver-components-are-related-to-oracle-spatial-access">What MapServer Components are related to Oracle Spatial access</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="postgis.html" title="PostGIS/PostgreSQL"
             >next</a> |</li>
        <li class="right" >
          <a href="ogr.html" title="OGR Vector Layers Through MapServer"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../documentation.html" >MapServer 8.0.1 Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../index.html" >Data Input</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="index.html" >Vector Data</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Oracle Spatial</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; <a href="../../copyright.html">Copyright</a> 2023, Open Source Geospatial Foundation.
      Last updated on 2023-12-22.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.5.
    </div>
  </body>
</html>