<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>KML - Keyhole Markup Language &mdash; MapServer 7.0.0 documentation</title>
    
    <link rel="stylesheet" href="../../_static/sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '7.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/mapserver.ico"/>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="top" title="MapServer 7.0.0 documentation" href="../../index.html" />
    <link rel="up" title="Vector Data" href="index.html" />
    <link rel="next" title="MapInfo" href="mapinfo.html" />
    <link rel="prev" title="Inline" href="inline.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../../index.html" title="Home"><img src="../../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../../index.html" title="Home">Home</a> |
      <a href="../../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../../faq.html" title="FAQ">FAQ</a> |
      <a href="../../download.html" title="Download">Download </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        <img src="../../_static/flagicons/en.png" alt="en" title="en" border="0" width="18px" height="13px"/>
        
          <a href="../../ar/input/vector/kml.html"><img src="../../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
        
        
          <a href="../../de/input/vector/kml.html"><img src="../../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
        
        
          <a href="../../el/input/vector/kml.html"><img src="../../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
        
        
          <a href="../../es/input/vector/kml.html"><img src="../../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
        
        
          <a href="../../fr/input/vector/kml.html"><img src="../../_static/flagicons/fr.png" alt="fr" title="fr" border="0" /></a>
        
        
          <a href="../../id/input/vector/kml.html"><img src="../../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
        
        
          <a href="../../it/input/vector/kml.html"><img src="../../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
        
        
          <a href="../../ja/input/vector/kml.html"><img src="../../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
        
        
          <a href="../../nl_NL/input/vector/kml.html"><img src="../../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
        
        
          <a href="../../pl/input/vector/kml.html"><img src="../../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
        
        
          <a href="../../ru/input/vector/kml.html"><img src="../../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
        
        
          <a href="../../sq/input/vector/kml.html"><img src="../../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
        
        
          <a href="../../tr/input/vector/kml.html"><img src="../../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
        
        
          <a href="../../uk/input/vector/kml.html"><img src="../../_static/flagicons/uk.png" alt="uk" title="uk" border="0" /></a>
        

    </td>
  </tr>
</table>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="mapinfo.html" title="MapInfo"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="inline.html" title="Inline"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Home</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../../documentation.html" >MapServer 7.0.0 Documentation</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="../index.html" >Data Input</a> &raquo;</li>
          <li class="nav-item nav-item-3"><a href="index.html" accesskey="U">Vector Data</a> &raquo;</li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="kml-keyhole-markup-language">
<span id="kml"></span><h1><a class="toc-backref" href="#table-of-contents">KML - Keyhole Markup Language</a><a class="headerlink" href="#kml-keyhole-markup-language" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#kml-keyhole-markup-language" id="id7">KML - Keyhole Markup Language</a><ul>
<li><a class="reference internal" href="#links-to-kml-related-information" id="id8">Links to KML-Related Information</a></li>
<li><a class="reference internal" href="#data-access-connection-method" id="id9">Data Access / Connection Method</a></li>
<li><a class="reference internal" href="#example-1-displaying-a-kml-file" id="id10">Example 1: Displaying a .KML file</a></li>
<li><a class="reference internal" href="#example-2-displaying-a-kmz-file" id="id11">Example 2: Displaying a .KMZ file</a></li>
<li><a class="reference internal" href="#example-3-displaying-a-superoverlay-kml-file" id="id12">Example 3: Displaying a &#8220;Superoverlay&#8221; KML file</a></li>
</ul>
</li>
</ul>
</div>
<p>Keyhole Markup Language (KML) is an XML-based language for managing the
display of 3D geospatial data.  KML is a standard maintained by the Open
Geospatial Consoritum (OGC).</p>
<div class="section" id="links-to-kml-related-information">
<h2><a class="toc-backref" href="#table-of-contents">Links to KML-Related Information</a><a class="headerlink" href="#links-to-kml-related-information" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Google&#8217;s <a class="reference external" href="http://code.google.com/apis/kml/documentation/kmlreference.html">KML Reference</a></li>
<li>OGC&#8217;s <a class="reference external" href="http://www.opengeospatial.org/standards/kml">KML Specification</a></li>
<li><a class="reference external" href="http://feedvalidator.org/">KML Validator</a></li>
<li><a class="reference external" href="http://www.kmlvalidator.com/home.htm">KML Validator</a> (against OGC KML 2.2)</li>
</ul>
</div>
<div class="section" id="data-access-connection-method">
<h2><a class="toc-backref" href="#table-of-contents">Data Access / Connection Method</a><a class="headerlink" href="#data-access-connection-method" title="Permalink to this headline">¶</a></h2>
<p>KML access in MapServer is available through OGR. See the OGR <a class="reference external" href="http://www.gdal.org/ogr/drv_kml.html">driver page</a>
for specific driver information.  Read support was initially added to
GDAL/OGR version 1.5.0.  A more complete KML reader was added to GDAL/OGR in version 1.8.0,
through the <a class="reference external" href="http://www.gdal.org/ogr/drv_libkml.html">libKML driver</a> (including the
ability to read multigeometry, and KMZ files).</p>
<p>The CONNECTION parameter must include the kml or kmz extension, and the DATA parameter
should be the name of the layer.</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">CONNECTIONTYPE</span> <span class="nb">OGR</span>
<span class="k">CONNECTION</span> <span class="s">&quot;filename.kml&quot;</span>
<span class="k">DATA</span> <span class="s">&quot;layername&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="example-1-displaying-a-kml-file">
<h2><a class="toc-backref" href="#table-of-contents">Example 1: Displaying a .KML file</a><a class="headerlink" href="#example-1-displaying-a-kml-file" title="Permalink to this headline">¶</a></h2>
<div class="section" id="ogrinfo">
<h3>OGRINFO<a class="headerlink" href="#ogrinfo" title="Permalink to this headline">¶</a></h3>
<p>First you should make sure that your GDAL/OGR build contains the &#8220;KML&#8221; driver,
by using the &#8216;&#8211;formats&#8217; command:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>&gt;ogrinfo --formats
   Loaded OGR Format Drivers:
   ...
   -&gt; &quot;GML&quot; (read/write)
   -&gt; &quot;GPX&quot; (read/write)
   -&gt; &quot;KML&quot; (read/write)
   ...
</pre></div>
</div>
<p>If you don&#8217;t have the driver, you might want to try the <a class="reference external" href="http://fwtools.maptools.org/">FWTools</a> or <a class="reference external" href="http://www.ms4w.com">MS4W</a>
packages, which include the driver.</p>
<p>Once you have the KML driver you are ready to try an ogrinfo command on your
file to get a list of available layers:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>&gt;ogrinfo myplaces.kml
   INFO: Open of `myplaces.kml&#39;
   using driver `KML&#39; successful.
   1: Layer #0 (Point)
</pre></div>
</div>
<p>Now use ogrinfo to get information on the structure of the layer:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>&gt;ogrinfo fountains-hotel.kml &quot;Layer #0&quot; -summary
  Had to open data source read-only.
  INFO: Open of `fountains-hotel.kml&#39;
    using driver `KML&#39; successful.

  Layer name: Layer #0
  Geometry: Point
  Feature Count: 1
  Extent: (18.424930, -33.919627) - (18.424930, -33.919627)
  Layer SRS WKT:
  GEOGCS[&quot;WGS 84&quot;,
      DATUM[&quot;WGS_1984&quot;,
        SPHEROID[&quot;WGS 84&quot;,6378137,298.257223563,
          AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]],
      AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]],
    PRIMEM[&quot;Greenwich&quot;,0,
      AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],
    UNIT[&quot;degree&quot;,0.01745329251994328,
      AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],
    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]]
  Name: String (0.0)
  Description: String (0.0)
</pre></div>
</div>
</div>
<div class="section" id="mapfile-example">
<h3>Mapfile Example<a class="headerlink" href="#mapfile-example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span> <span class="k">LAYER</span>
   <span class="k">NAME</span> <span class="s">&quot;kml_example&quot;</span>
   <span class="k">TYPE</span> <span class="nb">POINT</span>
   <span class="k">STATUS</span> <span class="nb">DEFAULT</span>
   <span class="k">CONNECTIONTYPE</span> <span class="nb">OGR</span>
   <span class="k">CONNECTION</span> <span class="s">&quot;kml/fountains-hotel.kml&quot;</span>
   <span class="k">DATA</span> <span class="s">&quot;Layer #0&quot;</span>
   <span class="k">LABELITEM</span> <span class="s">&quot;NAME&quot;</span>
   <span class="k">CLASS</span>
     <span class="k">NAME</span> <span class="s">&quot;My Places&quot;</span>
     <span class="k">STYLE</span>
       <span class="k">COLOR</span> <span class="mi">250</span> <span class="mi">0</span> <span class="mi">0</span>
       <span class="k">OUTLINECOLOR</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span>
       <span class="k">SYMBOL</span> <span class="s">&#39;circle&#39;</span>
       <span class="k">SIZE</span> <span class="mi">6</span>
     <span class="k">END</span>
   <span class="k">LABEL</span>
     <span class="k">SIZE</span> <span class="nb">TINY</span>
     <span class="k">COLOR</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>
     <span class="k">OUTLINECOLOR</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span>
     <span class="k">POSITION</span> <span class="nb">AUTO</span>
   <span class="k">END</span>
  <span class="k">END</span>
<span class="k">END</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="example-2-displaying-a-kmz-file">
<h2><a class="toc-backref" href="#table-of-contents">Example 2: Displaying a .KMZ file</a><a class="headerlink" href="#example-2-displaying-a-kmz-file" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>OGRINFO<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>First you should make sure that your GDAL/OGR build contains the &#8220;LIBKML&#8221; driver,
by using the &#8216;&#8211;formats&#8217; command:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>&gt;ogrinfo --formats
   Loaded OGR Format Drivers:
   ...
   -&gt; &quot;GML&quot; (read/write)
   -&gt; &quot;GPX&quot; (read/write)
   -&gt; &quot;LIBKML&quot; (read/write)
   -&gt; &quot;KML&quot; (read/write)
   ...
</pre></div>
</div>
<p>If you don&#8217;t have the driver, you might want to try the <a class="reference external" href="http://fwtools.maptools.org/">FWTools</a> or <a class="reference external" href="http://www.ms4w.com">MS4W</a>
packages, which include the driver.  Or you can follow the
<a class="reference external" href="http://trac.osgeo.org/gdal/wiki/LibKML">compiling notes</a> for
libKML and GDAL/OGR.</p>
<p>Once you have the LIBKML driver you are ready to try an ogrinfo command on your
file to get a list of available layers:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>&gt;ogrinfo Lunenburg_Municipality.kmz
   INFO: Open of `Lunenburg_Municipality.kmz&#39;
   using driver `LIBKML&#39; successful.
   1: Lunenburg_Municipality
</pre></div>
</div>
<p>Now use ogrinfo to get information on the structure of the layer:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>&gt;ogrinfo Lunenburg_Municipality.kmz Lunenburg_Municipality -summary
   INFO: Open of `Lunenburg_Municipality.kmz&#39;
      using driver `LIBKML&#39; successful.

   Layer name: Lunenburg_Municipality
   Geometry: Unknown (any)
   Feature Count: 1
   Extent: (-64.946433, 44.133207) - (-64.230281, 44.735125)
   Layer SRS WKT:
   GEOGCS[&quot;WGS 84&quot;,
       DATUM[&quot;WGS_1984&quot;,
           SPHEROID[&quot;WGS 84&quot;,6378137,298.257223563,
               AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]],
           TOWGS84[0,0,0,0,0,0,0],
           AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]],
       PRIMEM[&quot;Greenwich&quot;,0,
           AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],
       UNIT[&quot;degree&quot;,0.0174532925199433,
           AUTHORITY[&quot;EPSG&quot;,&quot;9108&quot;]],
       AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]]
   Name: String (0.0)
   description: String (0.0)
   timestamp: DateTime (0.0)
   begin: DateTime (0.0)
   end: DateTime (0.0)
   altitudeMode: String (0.0)
   tessellate: Integer (0.0)
   extrude: Integer (0.0)
   visibility: Integer (0.0)
</pre></div>
</div>
</div>
<div class="section" id="id4">
<h3>Mapfile Example<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">LAYER</span>
  <span class="k">NAME</span> <span class="s">&quot;lunenburg&quot;</span>
  <span class="k">TYPE</span> <span class="nb">POLYGON</span>
  <span class="k">STATUS</span> <span class="nb">DEFAULT</span>
  <span class="k">CONNECTIONTYPE</span> <span class="nb">OGR</span>
  <span class="k">CONNECTION</span> <span class="s">&quot;Lunenburg_Municipality.kmz&quot;</span>
  <span class="k">DATA</span> <span class="s">&quot;Lunenburg_Municipality&quot;</span>
  <span class="k">CLASS</span>
    <span class="k">NAME</span> <span class="s">&quot;Lunenburg&quot;</span>
    <span class="k">STYLE</span>
      <span class="k">COLOR</span> <span class="mi">244</span> <span class="mi">244</span> <span class="mi">16</span>
      <span class="k">OUTLINECOLOR</span> <span class="mi">199</span> <span class="mi">199</span> <span class="mi">199</span>
    <span class="k">END</span>
  <span class="k">END</span>
<span class="k">END</span> <span class="c"># layer</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="example-3-displaying-a-superoverlay-kml-file">
<h2><a class="toc-backref" href="#table-of-contents">Example 3: Displaying a &#8220;Superoverlay&#8221; KML file</a><a class="headerlink" href="#example-3-displaying-a-superoverlay-kml-file" title="Permalink to this headline">¶</a></h2>
<p>A superoverlay is a KML file that contains tiled data, that is broken up into
&#8220;regions&#8221;; this is an efficient way to display large images.  For more
background on superoverlays see the Google Developers
<a class="reference external" href="https://developers.google.com/kml/documentation/kml_21tutorial?hl=en#superoverlays">KML Tutorial</a>.</p>
<p>MapServer can access superoverlays through <a class="reference external" href="http://www.gdal.org/formats_list.html">GDAL</a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The following was tested with GDAL 2.0.2-dev on 2016-01-17; several enhancements to GDAL
were made when testing this superoverlay (see tickets <a class="reference external" href="https://trac.osgeo.org/gdal/ticket/6310">6310</a>
and <a class="reference external" href="https://trac.osgeo.org/gdal/ticket/6311">6311</a>).</p>
</div>
<div class="section" id="gdalinfo">
<h3>GDALINFO<a class="headerlink" href="#gdalinfo" title="Permalink to this headline">¶</a></h3>
<p>First you should make sure that your GDAL/OGR build contains the &#8220;KMLSUPEROVERLAY&#8221; driver,
by using the &#8216;&#8211;formats&#8217; command:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>&gt;gdalinfo --formats
   Supported Formats:
   ...
   R -raster- (rwv): R Object Data Store
   MAP -raster- (rov): OziExplorer .MAP
   KMLSUPEROVERLAY -raster- (rwv): Kml Super Overlay
   PDF -raster,vector- (rw+vs): Geospatial PDF
   ...
</pre></div>
</div>
<p>If you don&#8217;t have the driver, you might want to check if your platform has a
ready-to-use package/installer (Windows users please see <a class="reference external" href="http://www.ms4w.com">MS4W</a>),
which include the driver.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For this example, we will use the remote KML file referenced in the Google
Developers Tutorial (<a class="reference external" href="http://mw1.google.com/mw-earth-vectordb/kml-samples/mv-doqq.kml">http://mw1.google.com/mw-earth-vectordb/kml-samples/mv-doqq.kml</a>).
We will also access this remote file directly through <a class="reference external" href="https://trac.osgeo.org/gdal/wiki/UserDocs/ReadInZip#vsicurl-toreadfromHTTPorFTPfilespartialdownloading">vsicurl</a>,
which has been available in GDAL since 1.8.0</p>
</div>
<p>Now use gdalinfo to get information on the structure of the layer:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>&gt;gdalinfo /vsicurl/http://mw1.google.com/mw-earth-vectordb/kml-samples/mv-doqq.kml

Driver: KMLSUPEROVERLAY/Kml Super Overlay
Files: none associated
Size is 16384, 16384
Coordinate System is:
GEOGCS[&quot;WGS 84&quot;,
    DATUM[&quot;WGS_1984&quot;,
        SPHEROID[&quot;WGS 84&quot;,6378137,298.257223563,
            AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]],
        AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]],
    PRIMEM[&quot;Greenwich&quot;,0,
        AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],
    UNIT[&quot;degree&quot;,0.0174532925199433,
        AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],
    AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]]
Origin = (-122.129312658577720,37.439803353779496)
Pixel Size = (0.000004270647777,-0.000004095141704)
Metadata:
  DESCRIPTION=The original is a 7008 x 6720 DOQQ of Mountain View in 1991. (Source:
      http://gis.ca.gov/). This is a Region NetworkLink hierarchy of 900+
      GroundOverlays each of 256 x 256 pixels arranged in a hierarchy such
      that more detailed images are loaded and shown as the viewpoint nears.
      Enable the &quot;Boxes&quot; NetworkLink to see a LineString for
      each Region. Tour the &quot;Boxes&quot; to visit each tile. Visit the
      &quot;A&quot; and &quot;B&quot; Placemarks to see multiple levels of
      hierarchy together. Use the slider on various images in the hierarchy
      to see how the resolution varies and of the entire hierarchy to see
      the imagery below. (Find the Google Campus...).

  NAME=SuperOverlay: MV DOQQ
Image Structure Metadata:
  INTERLEAVE=PIXEL
Corner Coordinates:
Upper Left  (-122.1293127,  37.4398034) (122d 7&#39;45.53&quot;W, 37d26&#39;23.29&quot;N)
Lower Left  (-122.1293127,  37.3727086) (122d 7&#39;45.53&quot;W, 37d22&#39;21.75&quot;N)
Upper Right (-122.0593424,  37.4398034) (122d 3&#39;33.63&quot;W, 37d26&#39;23.29&quot;N)
Lower Right (-122.0593424,  37.3727086) (122d 3&#39;33.63&quot;W, 37d22&#39;21.75&quot;N)
Center      (-122.0943275,  37.4062560) (122d 5&#39;39.58&quot;W, 37d24&#39;22.52&quot;N)
Band 1 Block=256x256 Type=Byte, ColorInterp=Red
  Overviews: 8192x8192, 4096x4096, 2048x2048, 1024x1024, 512x512, 256x256
  Mask Flags: PER_DATASET ALPHA
  Overviews of mask band: 8192x8192, 4096x4096, 2048x2048, 1024x1024, 512x512, 256x256
Band 2 Block=256x256 Type=Byte, ColorInterp=Green
  Overviews: 8192x8192, 4096x4096, 2048x2048, 1024x1024, 512x512, 256x256
  Mask Flags: PER_DATASET ALPHA
  Overviews of mask band: 8192x8192, 4096x4096, 2048x2048, 1024x1024, 512x512, 256x256
Band 3 Block=256x256 Type=Byte, ColorInterp=Blue
  Overviews: 8192x8192, 4096x4096, 2048x2048, 1024x1024, 512x512, 256x256
  Mask Flags: PER_DATASET ALPHA
  Overviews of mask band: 8192x8192, 4096x4096, 2048x2048, 1024x1024, 512x512, 256x256
Band 4 Block=256x256 Type=Byte, ColorInterp=Alpha
Overviews: 8192x8192, 4096x4096, 2048x2048, 1024x1024, 512x512, 256x256
</pre></div>
</div>
</div>
<div class="section" id="id6">
<h3>Mapfile Example<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p>Finally, access the superoverlay image through a MapServer layer with <strong>TYPE RASTER</strong>,
as you would other rasters, such as:</p>
<div class="highlight-mapfile"><div class="highlight"><pre><span></span><span class="k">MAP</span>
  <span class="k">NAME</span> <span class="s">&quot;superoverlay&quot;</span>
  <span class="k">STATUS</span> <span class="nb">ON</span>
  <span class="k">SIZE</span> <span class="mi">400</span> <span class="mi">300</span>
  <span class="k">EXTENT</span> <span class="p">-</span><span class="mf">122.1293127</span> <span class="mf">37.3727086</span> <span class="p">-</span><span class="mf">122.0593424</span> <span class="mf">37.4398034</span>
  <span class="k">UNITS</span> <span class="nb">DD</span>
  <span class="k">IMAGECOLOR</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span>

  <span class="k">LAYER</span>
    <span class="k">NAME</span> <span class="s">&quot;mountain-view-superoverlay&quot;</span>
    <span class="k">TYPE</span> <span class="nb">RASTER</span>
    <span class="k">STATUS</span> <span class="nb">ON</span>
    <span class="k">DATA</span> <span class="s">&quot;/vsicurl/http://mw1.google.com/mw-earth-vectordb/kml-samples/mv-doqq.kml&quot;</span>
    <span class="k">CLASS</span>
      <span class="k">NAME</span> <span class="s">&quot;Superoverlay&quot;</span>
      <span class="k">STYLE</span>
      <span class="k">END</span> <span class="c">#style</span>
    <span class="k">END</span> <span class="c">#class</span>
  <span class="k">END</span> <span class="c">#layer</span>

<span class="k">END</span> <span class="c">#Map</span>
</pre></div>
</div>
</div>
<div class="section" id="test-your-mapfile-with-the-shp2img-command">
<h3>Test Your Mapfile with the shp2img Command<a class="headerlink" href="#test-your-mapfile-with-the-shp2img-command" title="Permalink to this headline">¶</a></h3>
<p>The easiest way to test your superoverlay mapfile is with the MapServer
<a class="reference internal" href="../../utilities/shp2img.html#shp2img"><span>shp2img utility</span></a>.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>&gt;shp2img -m superoverlay-kml.map -o ttt.png -all_debug 3

msLoadMap(): 0.000s
msDrawMap(): rendering using outputformat named png (AGG/PNG).
msDrawMap(): WMS/WFS set-up and query, 0.000s
msDrawRasterLayerLow(mountain-view-superoverlay): entering.
msDrawRasterLayerGDAL(): Entering transform.
msDrawRasterLayerGDAL(): src=0,0,16384,16384, dst=44,0,312,300
msDrawRasterLayerGDAL(): source raster PL (-4.888,-27.409) for dst PL (44,0).
msDrawRasterLayerGDAL(): red,green,blue,alpha bands = 1,2,3,4
msDrawMap(): Layer 0 (mountain-view-superoverlay), 4.314s
msDrawMap(): Drawing Label Cache, 0.008s
msDrawMap() total time: 4.347s
msSaveImage(ttt.png) total time: 0.090s
shp2img total time: 4.441s
</pre></div>
</div>
<p>The following map image should be generated:</p>
<img alt="../../_images/kml-superoverlay.png" src="../../_images/kml-superoverlay.png" />
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Navigation</h3>
<p>
<a href="../../about.html" title="About">About</a><br>
<a href="../../products.html" title="Products">Products</a><br>
<a href="../../community/index.html" title="Community">Community</a><br>
<a href="../../development/index.html" title="Development">Development</a><br>
<a href="../../download.html" title="Downloads">Downloads</a><br>
<a href="../../documentation.html" title="Documentation">Documentation</a><br>
<a href="../../faq.html" title="FAQ">FAQ</a>
</p>
  <h3>Current Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">KML - Keyhole Markup Language</a><ul>
<li><a class="reference internal" href="#links-to-kml-related-information">Links to KML-Related Information</a></li>
<li><a class="reference internal" href="#data-access-connection-method">Data Access / Connection Method</a></li>
<li><a class="reference internal" href="#example-1-displaying-a-kml-file">Example 1: Displaying a .KML file</a><ul>
<li><a class="reference internal" href="#ogrinfo">OGRINFO</a></li>
<li><a class="reference internal" href="#mapfile-example">Mapfile Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#example-2-displaying-a-kmz-file">Example 2: Displaying a .KMZ file</a><ul>
<li><a class="reference internal" href="#id1">OGRINFO</a></li>
<li><a class="reference internal" href="#id4">Mapfile Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#example-3-displaying-a-superoverlay-kml-file">Example 3: Displaying a &#8220;Superoverlay&#8221; KML file</a><ul>
<li><a class="reference internal" href="#gdalinfo">GDALINFO</a></li>
<li><a class="reference internal" href="#id6">Mapfile Example</a></li>
<li><a class="reference internal" href="#test-your-mapfile-with-the-shp2img-command">Test Your Mapfile with the shp2img Command</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Open Source Geospatial Foundation.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.4</a>
      
    </div>

    

    
  </body>
</html>