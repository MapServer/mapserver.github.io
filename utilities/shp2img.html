
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>shp2img &#8212; MapServer 7.2.0 documentation</title>
    <link rel="stylesheet" href="../_static/sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/mapserver.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="shptree" href="shptree.html" />
    <link rel="prev" title="scalebar" href="scalebar.html" /> 
  </head><body>

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../index.html" title="Home"><img src="../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../index.html" title="Home">Home</a> |
      <a href="../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../community/service_providers.html" title="Professional Service Providers">Service Providers</a> |      
      <a href="../faq.html" title="Frequently Asked Questions">FAQ</a> |
      <a href="https://twitter.com/mapserver_osgeo" title="Twitter">Twitter</a> |
      <a href="../download.html" title="Download Source or Binaries">Download </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        <img src="../_static/flagicons/en.png" alt="en" title="en" border="0" width="18px" height="13px"/>
        
          <a href="../ar/utilities/shp2img.html"><img src="../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
        
        
          <a href="../de/utilities/shp2img.html"><img src="../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
        
        
          <a href="../el/utilities/shp2img.html"><img src="../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
        
        
          <a href="../es/utilities/shp2img.html"><img src="../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
        
        
          <a href="../fr/utilities/shp2img.html"><img src="../_static/flagicons/fr.png" alt="fr" title="fr" border="0" /></a>
        
        
          <a href="../id/utilities/shp2img.html"><img src="../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
        
        
          <a href="../it/utilities/shp2img.html"><img src="../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
        
        
          <a href="../ja/utilities/shp2img.html"><img src="../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
        
        
          <a href="../nl_NL/utilities/shp2img.html"><img src="../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
        
        
          <a href="../pl/utilities/shp2img.html"><img src="../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
        
        
          <a href="../ru/utilities/shp2img.html"><img src="../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
        
        
          <a href="../sq/utilities/shp2img.html"><img src="../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
        
        
          <a href="../tr/utilities/shp2img.html"><img src="../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
        

    </td>
  </tr>
</table>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="shptree.html" title="shptree"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="scalebar.html" title="scalebar"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >MapServer 7.2.0 Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Utilities</a> &#187;</li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="shp2img">
<span id="index-0"></span><span id="id1"></span><h1><a class="toc-backref" href="#table-of-contents">shp2img</a><a class="headerlink" href="#shp2img" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Jeff McKenna</td>
</tr>
<tr class="field-even field"><th class="field-name">Contact:</th><td class="field-body">jmckenna at gatewaygeomatics.com</td>
</tr>
<tr class="field-odd field"><th class="field-name">Last Updated:</th><td class="field-body">2016-03-11</td>
</tr>
</tbody>
</table>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#shp2img" id="id2">shp2img</a><ul>
<li><a class="reference internal" href="#purpose" id="id3">Purpose</a></li>
<li><a class="reference internal" href="#syntax" id="id4">Syntax</a><ul>
<li><a class="reference internal" href="#example-1-generate-a-map-image" id="id5">Example #1 Generate a Map Image</a></li>
<li><a class="reference internal" href="#example-2-generate-a-map-image-with-draw-speeds" id="id6">Example #2 Generate a Map Image with Draw Speeds</a></li>
<li><a class="reference internal" href="#example-3-generate-a-map-image-with-debug-information-for-all-layers" id="id7">Example #3 Generate a Map Image with Debug Information for all Layers</a></li>
<li><a class="reference internal" href="#example-4-generate-a-map-image-for-a-specific-layer" id="id8">Example #4 Generate a Map Image for a Specific Layer</a></li>
<li><a class="reference internal" href="#example-5-generate-a-map-image-for-specific-multiple-layers" id="id9">Example #5 Generate a Map Image for Specific (Multiple) Layers</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="purpose">
<h2><a class="toc-backref" href="#table-of-contents">Purpose</a><a class="headerlink" href="#purpose" title="Permalink to this headline">¶</a></h2>
<p>Creates a map image from a mapfile. Output is by default PNG, but you can specify
other output formats defined in the mapfile.  This is a very useful utility to test your
mapfile. You can simply provide the path to your mapfile and the name of an output
image, and an image should be returned. If an image cannot be created an error will
be displayed at the commandline that should refer to a line number in the mapfile.</p>
</div>
<div class="section" id="syntax">
<h2><a class="toc-backref" href="#table-of-contents">Syntax</a><a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">shp2img</span> <span class="o">-</span><span class="n">m</span> <span class="n">mapfile</span> <span class="p">[</span><span class="o">-</span><span class="n">o</span> <span class="n">image</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">e</span> <span class="n">minx</span> <span class="n">miny</span> <span class="n">maxx</span> <span class="n">maxy</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">s</span> <span class="n">sizex</span> <span class="n">sizey</span><span class="p">]</span>
       <span class="p">[</span><span class="o">-</span><span class="n">l</span> <span class="s2">&quot;layer1 [layers2...]&quot;</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">i</span> <span class="nb">format</span><span class="p">]</span>
       <span class="p">[</span><span class="o">-</span><span class="n">all_debug</span> <span class="n">n</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">map_debug</span> <span class="n">n</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">layer_debug</span> <span class="n">n</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">p</span> <span class="n">n</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">c</span> <span class="n">n</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">d</span>
      <span class="n">layername</span> <span class="n">datavalue</span><span class="p">]</span>
<span class="o">-</span><span class="n">m</span> <span class="n">mapfile</span><span class="p">:</span> <span class="n">Map</span> <span class="n">file</span> <span class="n">to</span> <span class="n">operate</span> <span class="n">on</span> <span class="o">-</span> <span class="n">required</span>
<span class="o">-</span><span class="n">i</span> <span class="nb">format</span><span class="p">:</span> <span class="n">Override</span> <span class="n">the</span> <span class="n">IMAGETYPE</span> <span class="n">value</span> <span class="n">to</span> <span class="n">pick</span> <span class="n">output</span> <span class="nb">format</span>
<span class="o">-</span><span class="n">o</span> <span class="n">image</span><span class="p">:</span> <span class="n">output</span> <span class="n">filename</span> <span class="p">(</span><span class="n">stdout</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">provided</span><span class="p">)</span>
<span class="o">-</span><span class="n">e</span> <span class="n">minx</span> <span class="n">miny</span> <span class="n">maxx</span> <span class="n">maxy</span><span class="p">:</span> <span class="n">extents</span> <span class="n">to</span> <span class="n">render</span>
<span class="o">-</span><span class="n">s</span> <span class="n">sizex</span> <span class="n">sizey</span><span class="p">:</span> <span class="n">output</span> <span class="n">image</span> <span class="n">size</span>
<span class="o">-</span><span class="n">l</span> <span class="n">layers</span><span class="p">:</span> <span class="n">layers</span> <span class="n">to</span> <span class="n">enable</span> <span class="o">-</span> <span class="n">make</span> <span class="n">sure</span> <span class="n">they</span> <span class="n">are</span> <span class="n">quoted</span> <span class="ow">and</span> <span class="n">space</span> <span class="n">separated</span>
   <span class="k">if</span> <span class="n">more</span> <span class="n">than</span> <span class="n">one</span> <span class="n">listed</span>
<span class="o">-</span><span class="n">all_debug</span> <span class="n">n</span><span class="p">:</span> <span class="n">Set</span> <span class="n">debug</span> <span class="n">level</span> <span class="k">for</span> <span class="nb">map</span> <span class="ow">and</span> <span class="nb">all</span> <span class="n">layers</span>
<span class="o">-</span><span class="n">map_debug</span> <span class="n">n</span><span class="p">:</span> <span class="n">Set</span> <span class="nb">map</span> <span class="n">debug</span> <span class="n">level</span>
<span class="o">-</span><span class="n">layer_debug</span> <span class="n">layer_name</span> <span class="n">n</span><span class="p">:</span> <span class="n">Set</span> <span class="n">layer</span> <span class="n">debug</span> <span class="n">level</span>
<span class="o">-</span><span class="n">c</span> <span class="n">n</span><span class="p">:</span> <span class="n">draw</span> <span class="nb">map</span> <span class="n">n</span> <span class="n">number</span> <span class="n">of</span> <span class="n">times</span>
<span class="o">-</span><span class="n">p</span> <span class="n">n</span><span class="p">:</span> <span class="n">pause</span> <span class="k">for</span> <span class="n">n</span> <span class="n">seconds</span> <span class="n">after</span> <span class="n">reading</span> <span class="n">the</span> <span class="nb">map</span>
<span class="o">-</span><span class="n">d</span> <span class="n">layername</span> <span class="n">datavalue</span><span class="p">:</span> <span class="n">change</span> <span class="n">DATA</span> <span class="n">value</span> <span class="k">for</span> <span class="n">layer</span>
</pre></div>
</div>
<div class="section" id="example-1-generate-a-map-image">
<h3><a class="toc-backref" href="#table-of-contents">Example #1 Generate a Map Image</a><a class="headerlink" href="#example-1-generate-a-map-image" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">shp2img</span> <span class="o">-</span><span class="n">m</span> <span class="n">vector_blank</span><span class="o">.</span><span class="n">map</span> <span class="o">-</span><span class="n">o</span> <span class="n">test</span><span class="o">.</span><span class="n">png</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Result</dt>
<dd>A file named ‘test.png’ is created, that you can drag into your browser to view.</dd>
</dl>
</div>
<div class="section" id="example-2-generate-a-map-image-with-draw-speeds">
<h3><a class="toc-backref" href="#table-of-contents">Example #2 Generate a Map Image with Draw Speeds</a><a class="headerlink" href="#example-2-generate-a-map-image-with-draw-speeds" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">shp2img</span> <span class="o">-</span><span class="n">m</span> <span class="n">gmap75</span><span class="o">.</span><span class="n">map</span> <span class="o">-</span><span class="n">o</span> <span class="n">test2</span><span class="o">.</span><span class="n">png</span> <span class="o">-</span><span class="n">map_debug</span> <span class="mi">3</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Result</dt>
<dd>A file named ‘test2.png’ is created, and layer draw speeds are returned such as:</dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">msDrawMap</span><span class="p">():</span> <span class="n">rendering</span> <span class="n">using</span> <span class="n">outputformat</span> <span class="n">named</span> <span class="n">png</span> <span class="p">(</span><span class="n">AGG</span><span class="o">/</span><span class="n">PNG</span><span class="p">)</span><span class="o">.</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">WMS</span><span class="o">/</span><span class="n">WFS</span> <span class="nb">set</span><span class="o">-</span><span class="n">up</span> <span class="ow">and</span> <span class="n">query</span><span class="p">,</span> <span class="mf">0.000</span><span class="n">s</span>
<span class="n">msDrawRasterLayerLow</span><span class="p">(</span><span class="n">bathymetry</span><span class="p">):</span> <span class="n">entering</span><span class="o">.</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">Layer</span> <span class="mi">0</span> <span class="p">(</span><span class="n">bathymetry</span><span class="p">),</span> <span class="mf">0.011</span><span class="n">s</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">Layer</span> <span class="mi">1</span> <span class="p">(</span><span class="n">land_fn</span><span class="p">),</span> <span class="mf">0.016</span><span class="n">s</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">Layer</span> <span class="mi">3</span> <span class="p">(</span><span class="n">drain_fn</span><span class="p">),</span> <span class="mf">0.006</span><span class="n">s</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">Layer</span> <span class="mi">4</span> <span class="p">(</span><span class="n">drainage</span><span class="p">),</span> <span class="mf">0.041</span><span class="n">s</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">Layer</span> <span class="mi">5</span> <span class="p">(</span><span class="n">prov_bound</span><span class="p">),</span> <span class="mf">0.025</span><span class="n">s</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">Layer</span> <span class="mi">6</span> <span class="p">(</span><span class="n">fedlimit</span><span class="p">),</span> <span class="mf">0.001</span><span class="n">s</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">Layer</span> <span class="mi">9</span> <span class="p">(</span><span class="n">popplace</span><span class="p">),</span> <span class="mf">0.007</span><span class="n">s</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">Drawing</span> <span class="n">Label</span> <span class="n">Cache</span><span class="p">,</span> <span class="mf">0.004</span><span class="n">s</span>
<span class="n">msDrawMap</span><span class="p">()</span> <span class="n">total</span> <span class="n">time</span><span class="p">:</span> <span class="mf">0.119</span><span class="n">s</span>
<span class="n">msSaveImage</span><span class="p">(</span><span class="n">test2</span><span class="o">.</span><span class="n">png</span><span class="p">)</span> <span class="n">total</span> <span class="n">time</span><span class="p">:</span> <span class="mf">0.034</span><span class="n">s</span>
</pre></div>
</div>
</div>
<div class="section" id="example-3-generate-a-map-image-with-debug-information-for-all-layers">
<h3><a class="toc-backref" href="#table-of-contents">Example #3 Generate a Map Image with Debug Information for all Layers</a><a class="headerlink" href="#example-3-generate-a-map-image-with-debug-information-for-all-layers" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">shp2img</span> <span class="o">-</span><span class="n">m</span> <span class="n">gmap75</span><span class="o">.</span><span class="n">map</span> <span class="o">-</span><span class="n">o</span> <span class="n">test3</span><span class="o">.</span><span class="n">png</span> <span class="o">-</span><span class="n">all_debug</span> <span class="mi">3</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Result</dt>
<dd>A file named ‘test3.png’ is created, layer draw speeds are returned,
and some warnings that index qix files are not found, such as:</dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">msLoadMap</span><span class="p">():</span> <span class="mf">0.002</span><span class="n">s</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">rendering</span> <span class="n">using</span> <span class="n">outputformat</span> <span class="n">named</span> <span class="n">png</span> <span class="p">(</span><span class="n">AGG</span><span class="o">/</span><span class="n">PNG</span><span class="p">)</span><span class="o">.</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">WMS</span><span class="o">/</span><span class="n">WFS</span> <span class="nb">set</span><span class="o">-</span><span class="n">up</span> <span class="ow">and</span> <span class="n">query</span><span class="p">,</span> <span class="mf">0.000</span><span class="n">s</span>
<span class="n">msDrawRasterLayerLow</span><span class="p">(</span><span class="n">bathymetry</span><span class="p">):</span> <span class="n">entering</span><span class="o">.</span>
<span class="n">msDrawRasterLayerGDAL</span><span class="p">():</span> <span class="n">Entering</span> <span class="n">transform</span><span class="o">.</span>
<span class="n">msDrawRasterLayerGDAL</span><span class="p">():</span> <span class="n">src</span><span class="o">=</span><span class="mi">72</span><span class="p">,</span><span class="mi">418</span><span class="p">,</span><span class="mi">3077</span><span class="p">,</span><span class="mi">2308</span><span class="p">,</span> <span class="n">dst</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">400</span><span class="p">,</span><span class="mi">300</span>
<span class="n">msDrawRasterLayerGDAL</span><span class="p">():</span> <span class="n">source</span> <span class="n">raster</span> <span class="n">PL</span> <span class="p">(</span><span class="mf">72.095</span><span class="p">,</span><span class="mf">417.533</span><span class="p">)</span> <span class="k">for</span> <span class="n">dst</span> <span class="n">PL</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span>
<span class="n">msDrawRasterLayerGDAL</span><span class="p">():</span> <span class="n">red</span><span class="p">,</span><span class="n">green</span><span class="p">,</span><span class="n">blue</span><span class="p">,</span><span class="n">alpha</span> <span class="n">bands</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">Layer</span> <span class="mi">0</span> <span class="p">(</span><span class="n">bathymetry</span><span class="p">),</span> <span class="mf">0.017</span><span class="n">s</span>
<span class="n">msSearchDiskTree</span><span class="p">():</span> <span class="n">Search</span> <span class="n">returned</span> <span class="n">no</span> <span class="n">results</span><span class="o">.</span> <span class="n">Unable</span> <span class="n">to</span> <span class="nb">open</span> <span class="n">spatial</span> <span class="n">index</span> <span class="k">for</span> <span class="n">D</span><span class="p">:</span>\<span class="n">ms4w</span>\<span class="n">a</span>
<span class="n">pps</span>\<span class="n">gmap</span>\<span class="n">htdocs</span><span class="o">/.</span>\<span class="o">../</span><span class="n">data</span><span class="o">/</span><span class="n">land_fn</span><span class="o">.</span><span class="n">qix</span><span class="o">.</span> <span class="n">In</span> <span class="n">most</span> <span class="n">cases</span> <span class="n">you</span> <span class="n">can</span> <span class="n">safely</span> <span class="n">ignore</span> <span class="n">this</span> <span class="n">message</span><span class="p">,</span> <span class="n">o</span>
<span class="n">therwise</span> <span class="n">check</span> <span class="n">file</span> <span class="n">names</span> <span class="ow">and</span> <span class="n">permissions</span><span class="o">.</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">Layer</span> <span class="mi">1</span> <span class="p">(</span><span class="n">land_fn</span><span class="p">),</span> <span class="mf">0.020</span><span class="n">s</span>
<span class="n">msSearchDiskTree</span><span class="p">():</span> <span class="n">Search</span> <span class="n">returned</span> <span class="n">no</span> <span class="n">results</span><span class="o">.</span> <span class="n">Unable</span> <span class="n">to</span> <span class="nb">open</span> <span class="n">spatial</span> <span class="n">index</span> <span class="k">for</span> <span class="n">D</span><span class="p">:</span>\<span class="n">ms4w</span>\<span class="n">a</span>
<span class="n">pps</span>\<span class="n">gmap</span>\<span class="n">htdocs</span><span class="o">/.</span>\<span class="o">../</span><span class="n">data</span><span class="o">/</span><span class="n">drain_fn</span><span class="o">.</span><span class="n">qix</span><span class="o">.</span> <span class="n">In</span> <span class="n">most</span> <span class="n">cases</span> <span class="n">you</span> <span class="n">can</span> <span class="n">safely</span> <span class="n">ignore</span> <span class="n">this</span> <span class="n">message</span><span class="p">,</span>
<span class="n">otherwise</span> <span class="n">check</span> <span class="n">file</span> <span class="n">names</span> <span class="ow">and</span> <span class="n">permissions</span><span class="o">.</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">Layer</span> <span class="mi">3</span> <span class="p">(</span><span class="n">drain_fn</span><span class="p">),</span> <span class="mf">0.009</span><span class="n">s</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">Layer</span> <span class="mi">4</span> <span class="p">(</span><span class="n">drainage</span><span class="p">),</span> <span class="mf">0.040</span><span class="n">s</span>
<span class="n">msSearchDiskTree</span><span class="p">():</span> <span class="n">Search</span> <span class="n">returned</span> <span class="n">no</span> <span class="n">results</span><span class="o">.</span> <span class="n">Unable</span> <span class="n">to</span> <span class="nb">open</span> <span class="n">spatial</span> <span class="n">index</span> <span class="k">for</span> <span class="n">D</span><span class="p">:</span>\<span class="n">ms4w</span>\<span class="n">a</span>
<span class="n">pps</span>\<span class="n">gmap</span>\<span class="n">htdocs</span><span class="o">/.</span>\<span class="o">../</span><span class="n">data</span><span class="o">/</span><span class="n">province</span><span class="o">.</span><span class="n">qix</span><span class="o">.</span> <span class="n">In</span> <span class="n">most</span> <span class="n">cases</span> <span class="n">you</span> <span class="n">can</span> <span class="n">safely</span> <span class="n">ignore</span> <span class="n">this</span> <span class="n">message</span><span class="p">,</span>
<span class="n">otherwise</span> <span class="n">check</span> <span class="n">file</span> <span class="n">names</span> <span class="ow">and</span> <span class="n">permissions</span><span class="o">.</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">Layer</span> <span class="mi">5</span> <span class="p">(</span><span class="n">prov_bound</span><span class="p">),</span> <span class="mf">0.029</span><span class="n">s</span>
<span class="n">msSearchDiskTree</span><span class="p">():</span> <span class="n">Search</span> <span class="n">returned</span> <span class="n">no</span> <span class="n">results</span><span class="o">.</span> <span class="n">Unable</span> <span class="n">to</span> <span class="nb">open</span> <span class="n">spatial</span> <span class="n">index</span> <span class="k">for</span> <span class="n">D</span><span class="p">:</span>\<span class="n">ms4w</span>\<span class="n">a</span>
<span class="n">pps</span>\<span class="n">gmap</span>\<span class="n">htdocs</span><span class="o">/.</span>\<span class="o">../</span><span class="n">data</span><span class="o">/</span><span class="n">fedlimit</span><span class="o">.</span><span class="n">qix</span><span class="o">.</span> <span class="n">In</span> <span class="n">most</span> <span class="n">cases</span> <span class="n">you</span> <span class="n">can</span> <span class="n">safely</span> <span class="n">ignore</span> <span class="n">this</span> <span class="n">message</span><span class="p">,</span>
<span class="n">otherwise</span> <span class="n">check</span> <span class="n">file</span> <span class="n">names</span> <span class="ow">and</span> <span class="n">permissions</span><span class="o">.</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">Layer</span> <span class="mi">6</span> <span class="p">(</span><span class="n">fedlimit</span><span class="p">),</span> <span class="mf">0.005</span><span class="n">s</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">Layer</span> <span class="mi">9</span> <span class="p">(</span><span class="n">popplace</span><span class="p">),</span> <span class="mf">0.007</span><span class="n">s</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">Drawing</span> <span class="n">Label</span> <span class="n">Cache</span><span class="p">,</span> <span class="mf">0.005</span><span class="n">s</span>
<span class="n">msDrawMap</span><span class="p">()</span> <span class="n">total</span> <span class="n">time</span><span class="p">:</span> <span class="mf">0.142</span><span class="n">s</span>
<span class="n">msSaveImage</span><span class="p">(</span><span class="n">test3</span><span class="o">.</span><span class="n">png</span><span class="p">)</span> <span class="n">total</span> <span class="n">time</span><span class="p">:</span> <span class="mf">0.063</span><span class="n">s</span>
<span class="n">shp2img</span> <span class="n">total</span> <span class="n">time</span><span class="p">:</span> <span class="mf">0.209</span><span class="n">s</span>
</pre></div>
</div>
</div>
<div class="section" id="example-4-generate-a-map-image-for-a-specific-layer">
<h3><a class="toc-backref" href="#table-of-contents">Example #4 Generate a Map Image for a Specific Layer</a><a class="headerlink" href="#example-4-generate-a-map-image-for-a-specific-layer" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">shp2img</span> <span class="o">-</span><span class="n">m</span> <span class="n">gmap75</span><span class="o">.</span><span class="n">map</span> <span class="o">-</span><span class="n">o</span> <span class="n">test4</span><span class="o">.</span><span class="n">png</span> <span class="o">-</span><span class="n">l</span> <span class="s2">&quot;bathymetry&quot;</span> <span class="o">-</span><span class="n">map_debug</span> <span class="mi">3</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Result</dt>
<dd>A file named ‘test4.png’ is created, and layer draw speeds are returned for
1 layer only, such as:</dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">msDrawMap</span><span class="p">():</span> <span class="n">rendering</span> <span class="n">using</span> <span class="n">outputformat</span> <span class="n">named</span> <span class="n">png</span> <span class="p">(</span><span class="n">AGG</span><span class="o">/</span><span class="n">PNG</span><span class="p">)</span><span class="o">.</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">WMS</span><span class="o">/</span><span class="n">WFS</span> <span class="nb">set</span><span class="o">-</span><span class="n">up</span> <span class="ow">and</span> <span class="n">query</span><span class="p">,</span> <span class="mf">0.000</span><span class="n">s</span>
<span class="n">msDrawRasterLayerLow</span><span class="p">(</span><span class="n">bathymetry</span><span class="p">):</span> <span class="n">entering</span><span class="o">.</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">Layer</span> <span class="mi">0</span> <span class="p">(</span><span class="n">bathymetry</span><span class="p">),</span> <span class="mf">0.013</span><span class="n">s</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">Drawing</span> <span class="n">Label</span> <span class="n">Cache</span><span class="p">,</span> <span class="mf">0.000</span><span class="n">s</span>
<span class="n">msDrawMap</span><span class="p">()</span> <span class="n">total</span> <span class="n">time</span><span class="p">:</span> <span class="mf">0.018</span><span class="n">s</span>
<span class="n">msSaveImage</span><span class="p">(</span><span class="n">test4</span><span class="o">.</span><span class="n">png</span><span class="p">)</span> <span class="n">total</span> <span class="n">time</span><span class="p">:</span> <span class="mf">0.026</span><span class="n">s</span>
</pre></div>
</div>
</div>
<div class="section" id="example-5-generate-a-map-image-for-specific-multiple-layers">
<h3><a class="toc-backref" href="#table-of-contents">Example #5 Generate a Map Image for Specific (Multiple) Layers</a><a class="headerlink" href="#example-5-generate-a-map-image-for-specific-multiple-layers" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The syntax for specifying multiple layers is: -l “layer1 layer2 layer3 layer4”</p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">shp2img</span> <span class="o">-</span><span class="n">m</span> <span class="n">gmap75</span><span class="o">.</span><span class="n">map</span> <span class="o">-</span><span class="n">o</span> <span class="n">test5</span><span class="o">.</span><span class="n">png</span> <span class="o">-</span><span class="n">l</span> <span class="s2">&quot;bathymetry drain_fn&quot;</span> <span class="o">-</span><span class="n">map_debug</span> <span class="mi">3</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Result</dt>
<dd>A file named ‘test5.png’ is created, and layer draw speeds are returned for
only the 2 specified layers, such as:</dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">msDrawMap</span><span class="p">():</span> <span class="n">rendering</span> <span class="n">using</span> <span class="n">outputformat</span> <span class="n">named</span> <span class="n">png</span> <span class="p">(</span><span class="n">AGG</span><span class="o">/</span><span class="n">PNG</span><span class="p">)</span><span class="o">.</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">WMS</span><span class="o">/</span><span class="n">WFS</span> <span class="nb">set</span><span class="o">-</span><span class="n">up</span> <span class="ow">and</span> <span class="n">query</span><span class="p">,</span> <span class="mf">0.000</span><span class="n">s</span>
<span class="n">msDrawRasterLayerLow</span><span class="p">(</span><span class="n">bathymetry</span><span class="p">):</span> <span class="n">entering</span><span class="o">.</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">Layer</span> <span class="mi">0</span> <span class="p">(</span><span class="n">bathymetry</span><span class="p">),</span> <span class="mf">0.179</span><span class="n">s</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">Layer</span> <span class="mi">3</span> <span class="p">(</span><span class="n">drain_fn</span><span class="p">),</span> <span class="mf">0.041</span><span class="n">s</span>
<span class="n">msDrawMap</span><span class="p">():</span> <span class="n">Drawing</span> <span class="n">Label</span> <span class="n">Cache</span><span class="p">,</span> <span class="mf">0.000</span><span class="n">s</span>
<span class="n">msDrawMap</span><span class="p">()</span> <span class="n">total</span> <span class="n">time</span><span class="p">:</span> <span class="mf">0.226</span><span class="n">s</span>
<span class="n">msSaveImage</span><span class="p">(</span><span class="n">test4</span><span class="o">.</span><span class="n">png</span><span class="p">)</span> <span class="n">total</span> <span class="n">time</span><span class="p">:</span> <span class="mf">0.027</span><span class="n">s</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3>Navigation</h3>
<p>
<a href="../about.html" title="About">About</a><br>
<a href="../products.html" title="Products">Products</a><br>
<a href="../community/index.html" title="Community">Community</a><br>
<a href="../development/index.html" title="Development">Development</a><br>
<a href="../download.html" title="Downloads">Downloads</a><br>
<a href="../documentation.html" title="Documentation">Documentation</a><br>
<a href="../faq.html" title="FAQ">FAQ</a><br>
<a href="../psc.html" title="PSC">PSC</a><br>
<a href="https://twitter.com/mapserver_osgeo" title="Twitter">Twitter</a>
</p>
  <h3>Current Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">shp2img</a><ul>
<li><a class="reference internal" href="#purpose">Purpose</a></li>
<li><a class="reference internal" href="#syntax">Syntax</a><ul>
<li><a class="reference internal" href="#example-1-generate-a-map-image">Example #1 Generate a Map Image</a></li>
<li><a class="reference internal" href="#example-2-generate-a-map-image-with-draw-speeds">Example #2 Generate a Map Image with Draw Speeds</a></li>
<li><a class="reference internal" href="#example-3-generate-a-map-image-with-debug-information-for-all-layers">Example #3 Generate a Map Image with Debug Information for all Layers</a></li>
<li><a class="reference internal" href="#example-4-generate-a-map-image-for-a-specific-layer">Example #4 Generate a Map Image for a Specific Layer</a></li>
<li><a class="reference internal" href="#example-5-generate-a-map-image-for-specific-multiple-layers">Example #5 Generate a Map Image for Specific (Multiple) Layers</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="shptree.html" title="shptree"
             >next</a> |</li>
        <li class="right" >
          <a href="scalebar.html" title="scalebar"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >MapServer 7.2.0 Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >Utilities</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; <a href="../copyright.html">Copyright</a> 2018, Open Source Geospatial Foundation.
      Last updated on 2018-08-24.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.6.
    </div>
  </body>
</html>