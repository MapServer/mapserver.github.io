<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Supported Tile Services &#8212; MapServer 8.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx.css?v=6c7b17ac" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=dd298242" />
    <link rel="stylesheet" type="text/css" href="../_static/ribbon.css?v=ea091bf4" />
    
    <script src="../_static/documentation_options.js?v=521b6f53"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="icon" href="../_static/mapserver.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="Seeder" href="seed.html" />
    <link rel="prev" title="Configuration File" href="config.html" /> 
  </head><body>


<!-- for main branch only, do not backport this -->

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../index.html" title="Home"><img src="../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../index.html" title="Home">Home</a> |
      <a href="../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../community/service_providers.html" title="Professional Service Providers">Service Providers</a> |      
      <a href="../faq.html" title="Frequently Asked Questions">FAQ</a> |
      <a href="https://twitter.com/mapserver_osgeo" title="Twitter" target="_blank">Twitter</a> |
      <a href="../download.html" title="Download Source or Binaries">Download </a> |
      <a class="badge" href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=KRJ2X44N3HA6U&source=url" target="_blank">
        <img src="https://img.shields.io/badge/donate-%E2%9D%A4%C2%A0-ff69b4.svg?style=flat" alt="Donate to MapServer">
      </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        <img src="../_static/flagicons/en.png" alt="en" title="en" border="0" width="18px" height="13px"/>
        
          <a href="../ar/mapcache/services.html"><img src="../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
        
        
          <a href="../de/mapcache/services.html"><img src="../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
        
        
          <a href="../el/mapcache/services.html"><img src="../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
        
        
          <a href="../es/mapcache/services.html"><img src="../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
        
        
          <a href="../fr/mapcache/services.html"><img src="../_static/flagicons/fr.png" alt="fr" title="fr" border="0" /></a>
        
        
          <a href="../id/mapcache/services.html"><img src="../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
        
        
          <a href="../it/mapcache/services.html"><img src="../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
        
        
          <a href="../ja/mapcache/services.html"><img src="../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
        
        
          <a href="../nl_NL/mapcache/services.html"><img src="../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
        
        
          <a href="../pl/mapcache/services.html"><img src="../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
        
        
          <a href="../ru/mapcache/services.html"><img src="../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
        
        
          <a href="../sq/mapcache/services.html"><img src="../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
        
        
          <a href="../tr/mapcache/services.html"><img src="../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
        

    </td>
  </tr>
</table>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="seed.html" title="Seeder"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="config.html" title="Configuration File"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >MapServer 8.0.1 Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">MapCache 1.14.0</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Supported Tile Services</a></li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="supported-tile-services">
<span id="mapcache-services"></span><h1>Supported Tile Services<a class="headerlink" href="#supported-tile-services" title="Link to this heading">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Author<span class="colon">:</span></dt>
<dd class="field-odd"><p>Thomas Bonfort</p>
</dd>
<dt class="field-even">Contact<span class="colon">:</span></dt>
<dd class="field-even"><p>tbonfort at terriscope.fr</p>
</dd>
<dt class="field-odd">Author<span class="colon">:</span></dt>
<dd class="field-odd"><p>Stephen Woodbridge</p>
</dd>
</dl>
<p>MapCache has the ability to serve tiles using a variety of different
request protocols and tile-naming conventions. This document describes
these. The various services must be turned on in the mapcache.xml file for
MapCache to respond to these specific requests.</p>
<p>All services are available on the demo interface, from which you are highly
encouraged to copy/paste the JavaScript code to get started when creating
your own pages accessing the MapCache tiles.</p>
<p>The following notation is used on this page and refers to object names in the
mapcache.xml configuration file.</p>
<blockquote>
<div><ul class="simple">
<li><p>&lt;tileset_name&gt; - name of a configured tileset</p></li>
<li><p>&lt;grid_name&gt; - name of explicitly or implicitly defined grid</p></li>
<li><p>&lt;quadkey&gt; - specific to the Virtual Earth tile service</p></li>
<li><p>&lt;z&gt; - zoom level in zxy naming scheme</p></li>
<li><p>&lt;y&gt; - row number in zxy naming scheme</p></li>
<li><p>&lt;x&gt; - column number in zxy naming scheme</p></li>
</ul>
</div></blockquote>
<section id="tms-service">
<span id="mapcache-tms"></span><h2>TMS Service<a class="headerlink" href="#tms-service" title="Link to this heading">¶</a></h2>
<p>The TMS service uses a z/x/y tile naming scheme where:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>z</em> is the zoom level</p></li>
<li><p><em>x</em> is the column number</p></li>
<li><p><em>y</em> is the row number</p></li>
</ul>
</div></blockquote>
<p>To activate the TMS service, add these lines to the mapcache.xml configuration
file:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;service</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;tms&quot;</span><span class="w"> </span><span class="na">enabled=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>A “capabilities” document can be fetched via:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">myhost</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">mapcache</span><span class="o">/</span><span class="n">tms</span><span class="o">/</span><span class="mf">1.0.0</span><span class="o">/</span>
</pre></div>
</div>
<p>Tiles are requested using this scheme:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">myhost</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">mapcache</span><span class="o">/</span><span class="n">tms</span><span class="o">/</span><span class="mf">1.0.0</span><span class="o">/&lt;</span><span class="n">tileset_name</span><span class="o">&gt;@&lt;</span><span class="n">grid_name</span><span class="o">&gt;/&lt;</span><span class="n">z</span><span class="o">&gt;/&lt;</span><span class="n">x</span><span class="o">&gt;/&lt;</span><span class="n">y</span><span class="o">&gt;.</span><span class="n">png</span>
</pre></div>
</div>
<p>For EPSG:3857, EPSG:900913, or GoogleMapsCompatible grids, with cell = [z/x/y]:</p>
<p>z0:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>z1:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="o">/</span><span class="mi">0</span><span class="p">]</span>
<span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<p>z2:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">2</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="o">/</span><span class="mi">1</span><span class="o">/</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="o">/</span><span class="mi">0</span><span class="p">]</span>
<span class="p">[</span><span class="mi">2</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="o">/</span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="o">/</span><span class="mi">1</span><span class="p">]</span>
<span class="p">[</span><span class="mi">2</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">2</span><span class="p">]</span><span class="o">...</span>
<span class="p">[</span><span class="mi">2</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">3</span><span class="p">]</span><span class="o">...</span>
</pre></div>
</div>
<p>etc…</p>
<p>For EPSG:4326 or WGS84 grids:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The OGC WMTS specification rather absurdly requires the GoogleCRS84Quad
WellKnownScaleset to have a level 0 whose extent is -180,-180,180,180. The
default “WGS84” MapCache grid honors this, which may cause some
incompatibilities with software that expects level 0 to be 2x1 tiles with
extent -180,-90,180,90</p>
</div>
<p>z0:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>z1:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="o">/</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>z2:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">2</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="o">/</span><span class="mi">1</span><span class="o">/</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="o">/</span><span class="mi">0</span><span class="p">]</span>
<span class="p">[</span><span class="mi">2</span><span class="o">/</span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="o">/</span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="o">/</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<p>etc.</p>
</section>
<section id="kml-service">
<span id="mapcache-kml"></span><h2>KML Service<a class="headerlink" href="#kml-service" title="Link to this heading">¶</a></h2>
<p>The KML service produces <a class="reference external" href="https://developers.google.com/kml/documentation/kml_21tutorial?csw=1#superoverlays">Super-Overlays</a>
for tilesets that are aligned to the WGS84 / EPSG:4326 grids. A Super-Overlay
is a KML file that links to an image URL, and to a set of other KML URLs
corresponding to neighboring resolutions. The KML service uses a z/x/y tile
naming scheme where:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>z</em> is the zoom level</p></li>
<li><p><em>x</em> is the column number</p></li>
<li><p><em>y</em> is the row number</p></li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For the KML service to be functional, the TMS service must also be activated, as
the KML super-overlays link to images using this spec.</p>
</div>
<p>To activate the KML service, add these lines to the mapcache.xml configuration
file:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;service</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;tms&quot;</span><span class="w"> </span><span class="na">enabled=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;service</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;kml&quot;</span><span class="w"> </span><span class="na">enabled=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>Tiles are requested using this scheme:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">myhost</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">mapcache</span><span class="o">/</span><span class="n">kml</span><span class="o">/&lt;</span><span class="n">tileset_name</span><span class="o">&gt;@&lt;</span><span class="n">grid_name</span><span class="o">&gt;/&lt;</span><span class="n">z</span><span class="o">&gt;/&lt;</span><span class="n">x</span><span class="o">&gt;/&lt;</span><span class="n">y</span><span class="o">&gt;.</span><span class="n">kml</span>
</pre></div>
</div>
</section>
<section id="ogc-wmts-service">
<span id="mapcache-wmts"></span><h2>OGC WMTS Service<a class="headerlink" href="#ogc-wmts-service" title="Link to this heading">¶</a></h2>
<p>To activate the WMTS service, add these lines to the mapcache.xml configuration
file:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;service</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;wmts&quot;</span><span class="w"> </span><span class="na">enabled=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>This service follows the standard OGC WMTS requests and supports both the
classical OGC-style key-value-pair encoded and REST-style requests.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>http://myhost.com/mapcache/wmts?SERVICE=WMTS&amp;VERSION=1.0.0&amp;...
http://myhost.com/mapcache/wmts/1.0.0/....
</pre></div>
</div>
<p>The capabilities are obtained through:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>http://myhost.com/mapcache/wmts?service=wmts&amp;request=getcapabilities&amp;version=1.0.0
http://myhost.com/mapcache/wmts/1.0.0/WMTSCapabilities.xml
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="featureinfo.html#mapcache-featureinfo"><span class="std std-ref">FeatureInfo Requests</span></a></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="dimensions.html#mapcache-dimensions"><span class="std std-ref">Tileset Dimensions</span></a></p>
</div>
</section>
<section id="ogc-wms-service">
<span id="mapcache-wms"></span><h2>OGC WMS Service<a class="headerlink" href="#ogc-wms-service" title="Link to this heading">¶</a></h2>
<p>MapCache responds to WMS version 1.1.1 requests, and has limited support for
version 1.3.0 ones.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;service</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;wms&quot;</span><span class="w"> </span><span class="na">enabled=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note that the WMS service is a little different than the
other MapCache services, as it listens on the root of the configured instance
instead of on an additional endpoint (i.e. the service replies on
<a class="reference external" href="http://server/mapcache/">http://server/mapcache/</a>? and not on <a class="reference external" href="http://server/mapcache/wms">http://server/mapcache/wms</a>?). This
behavior is required in order to enable <a class="reference internal" href="proxying.html#mapcache-proxying"><span class="std std-ref">proxying of unsupported requests</span></a> while offering a single endpoint for all OGC services.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>MapCache primarily supports version 1.1.1 WMS requests, but has limited
support for the newer version 1.3.0 ones. For 1.3.0 requests,
MapCache will determine which <a class="reference internal" href="config.html#mapcache-grids"><span class="std std-ref">grid</span></a> to use by using
the CRS= parameter instead of the SRS= one, and will correctly honor axis
ordering for the EPSG reference systems that switch the usual x/y ordering
of the BBOX parameter.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="featureinfo.html#mapcache-featureinfo"><span class="std std-ref">FeatureInfo Requests</span></a></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="dimensions.html#mapcache-dimensions"><span class="std std-ref">Tileset Dimensions</span></a></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="tile_assembling.html#mapcache-tile-assembling"><span class="std std-ref">Tile Assembling</span></a></p>
</div>
<p>WMS requests follow the classical key-value-pair encoded style:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>http://myhost.com/mapcache?SERVICE=WMS&amp;VERSION=1.1.1&amp;REQUEST=....
</pre></div>
</div>
<p>The capabilities document is returned by:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>http://myhost.com/mapcache?service=wms&amp;request=getcapabilities
</pre></div>
</div>
<section id="optional-wms-configuration-options">
<h3>Optional WMS Configuration Options<a class="headerlink" href="#optional-wms-configuration-options" title="Link to this heading">¶</a></h3>
<section id="untiled-getmap-support">
<h4>Untiled GetMap Support<a class="headerlink" href="#untiled-getmap-support" title="Link to this heading">¶</a></h4>
<p>Support for untiled (non WMS-C) GetMap requests can be enabled or disabled:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;service</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;wms&quot;</span><span class="w"> </span><span class="na">enabled=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
<span class="w">   </span><span class="cm">&lt;!-- full_wms</span>
<span class="cm">        Configure response to WMS requests that are not aligned to a tileset&#39;s grids.</span>
<span class="cm">        Responding to requests that are not in the SRS of a configured grid is not supported, but</span>
<span class="cm">        this should never happen as only the supported SRSs are publicized in the capabilities</span>
<span class="cm">        document.</span>

<span class="cm">        Allowed values are:</span>
<span class="cm">          - error: return a 404 error (default)</span>
<span class="cm">          - assemble: build the full image by assembling the tiles from the cache</span>
<span class="cm">          - forward: forward the request to the configured source.</span>
<span class="cm">   --&gt;</span>
<span class="w">   </span><span class="nt">&lt;full_wms&gt;</span>assemble<span class="nt">&lt;/full_wms&gt;</span>
<span class="nt">&lt;/service&gt;</span>
</pre></div>
</div>
</section>
<section id="getmap-image-format">
<span id="mapcache-getmap-format"></span><h4>GetMap Image Format<a class="headerlink" href="#getmap-image-format" title="Link to this heading">¶</a></h4>
<p>You may explicitly set which image format should be returned to the client for
an untiled WMS request (i.e. whenever the tile data cannot be served directly
from the caches but needs to go through a decompression/recompression phase).</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;service</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;wms&quot;</span><span class="w"> </span><span class="na">enabled=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;format</span><span class="w"> </span><span class="na">allow_client_override=</span><span class="s">&quot;true/false&quot;</span><span class="nt">&gt;</span>myjpegformat<span class="nt">&lt;/format&gt;</span>
<span class="nt">&lt;/service&gt;</span>
</pre></div>
</div>
<p>If the <cite>allow_client_override</cite> attribute is set to true, then MapCache will honor
the <cite>FORMAT=…</cite> parameter sent by the client. By default MapCache ignores this
parameter and uses its configured image format.</p>
</section>
<section id="image-resampling-quality">
<h4>Image Resampling Quality<a class="headerlink" href="#image-resampling-quality" title="Link to this heading">¶</a></h4>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;service</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;wms&quot;</span><span class="w"> </span><span class="na">enabled=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
<span class="w">   </span><span class="cm">&lt;!-- resample mode</span>
<span class="cm">   Filter applied when resampling tiles for full WMS requests.</span>
<span class="cm">   Can be either:</span>
<span class="cm">   - nearest : fastest, poor quality</span>
<span class="cm">   - bilinear: slower, higher qulity</span>
<span class="cm">   --&gt;</span>
<span class="w">   </span><span class="nt">&lt;resample_mode&gt;</span>bilinear<span class="nt">&lt;/resample_mode&gt;</span>
<span class="nt">&lt;/service&gt;</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="googlemaps-xyz-service">
<span id="mapcache-gmaps"></span><h2>GoogleMaps XYZ Service<a class="headerlink" href="#googlemaps-xyz-service" title="Link to this heading">¶</a></h2>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;service</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;gmaps&quot;</span><span class="w"> </span><span class="na">enabled=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>Prerequisites: Your WMS should be capable of producing images in the
EPSG:900913 or EPSG:3857 SRS, i.e. it should reference the “g” or
“GoogleMapsCompatible” grid.</p>
<p>This is the minimal HTML page that should get you going. The important bits are
in the urlTemplate (for V2) and getTileURL (for V3) variables:</p>
<ul class="simple">
<li><p>/mapcache is the Apache path where MapCache handles requests.</p></li>
<li><p>test&#64;g is the tileset and grid name to use, joined by a ‘&#64;’ - the {Z}/{X}/{Y}
should be left alone.</p></li>
<li><p>The final extension should be changed to “jpg” if you are using a JPEG format
with your tileset.</p></li>
</ul>
<section id="v2-api">
<h3>V2 API<a class="headerlink" href="#v2-api" title="Link to this heading">¶</a></h3>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;!DOCTYPE html</span>
<span class="cp">  PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot;</span>
<span class="cp">  &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">xmlns</span><span class="o">=</span><span class="s">&quot;http://www.w3.org/1999/xhtml&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">meta</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&quot;content-type&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;text/html; charset=utf-8&quot;</span><span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Google/MapServer Tile Example<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;http://maps.google.com/maps?file=api&amp;v=2&amp;key=ABQIAAAAnfs7bKE82qgb3Zc2YyS-oBT2yXp_ZAY8_ufC3CFXhHIE1NvwkxSySz_REpPq-4WZA27OwgbtyR3VcA&quot;</span>
        <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span><span class="p">&gt;</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">load</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">GBrowserIsCompatible</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">urlTemplate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;/mapcache/gmaps/test@g/{Z}/{X}/{Y}.png&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">myLayer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">GTileLayer</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="mf">0</span><span class="p">,</span><span class="mf">18</span><span class="p">,{</span>
<span class="w">                                 </span><span class="nx">tileUrlTemplate</span><span class="o">:</span><span class="nx">urlTemplate</span><span class="p">,</span>
<span class="w">                                 </span><span class="nx">isPng</span><span class="o">:</span><span class="kc">true</span><span class="p">,</span>
<span class="w">                                 </span><span class="nx">opacity</span><span class="o">:</span><span class="mf">0.8</span><span class="w"> </span><span class="p">});</span>
<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">map</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">GMap2</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;map&quot;</span><span class="p">));</span>
<span class="w">    </span><span class="nx">map</span><span class="p">.</span><span class="nx">addControl</span><span class="p">(</span><span class="ow">new</span><span class="w"> </span><span class="nx">GLargeMapControl</span><span class="p">());</span>
<span class="w">    </span><span class="nx">map</span><span class="p">.</span><span class="nx">addControl</span><span class="p">(</span><span class="ow">new</span><span class="w"> </span><span class="nx">GMapTypeControl</span><span class="p">());</span>
<span class="w">    </span><span class="nx">map</span><span class="p">.</span><span class="nx">setCenter</span><span class="p">(</span><span class="ow">new</span><span class="w"> </span><span class="nx">GLatLng</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span><span class="p">),</span><span class="w"> </span><span class="mf">1</span><span class="p">);</span>
<span class="w">    </span><span class="nx">map</span><span class="p">.</span><span class="nx">addOverlay</span><span class="p">(</span><span class="ow">new</span><span class="w"> </span><span class="nx">GTileLayerOverlay</span><span class="p">(</span><span class="nx">myLayer</span><span class="p">));</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span> <span class="na">onload</span><span class="o">=</span><span class="s">&quot;load()&quot;</span> <span class="na">onunload</span><span class="o">=</span><span class="s">&quot;GUnload()&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;map&quot;</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;width: 500px; height: 500px&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</div>
</section>
<section id="v3-api">
<h3>V3 API<a class="headerlink" href="#v3-api" title="Link to this heading">¶</a></h3>
<p>The previous JavaScript for the V2 example should be slightly changed to:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">map</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nb">Map</span><span class="p">(</span><span class="s2">&quot;&lt;element-id&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/*options*/</span><span class="w"> </span><span class="p">});</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">layerOptions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">getTileUrl</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">coord</span><span class="p">,</span><span class="w"> </span><span class="nx">zoom</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s2">&quot;/mapcache/gmaps/test@g/&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">zoom</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;/&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">coord</span><span class="p">.</span><span class="nx">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;/&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">coord</span><span class="p">.</span><span class="nx">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;.png&quot;</span><span class="p">;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nx">tileSize</span><span class="o">:</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">Size</span><span class="p">(</span><span class="mf">256</span><span class="p">,</span><span class="mf">256</span><span class="p">)</span><span class="w"> </span><span class="c1">// or whatever</span>
<span class="p">};</span>
<span class="nx">map</span><span class="p">.</span><span class="nx">overlayMapTypes</span><span class="p">.</span><span class="nx">insertAt</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">ImageMapType</span><span class="p">(</span><span class="nx">layerOptions</span><span class="p">));</span>
</pre></div>
</div>
</section>
</section>
<section id="virtual-earth-tile-service">
<span id="mapcache-ve"></span><h2>Virtual Earth tile service<a class="headerlink" href="#virtual-earth-tile-service" title="Link to this heading">¶</a></h2>
<p>Tiles are organized in one of two different layouts depending on whether they
are using a Spherical Mercator projection, like EPSG:3857 or EPSG:900913, or if
they are using a geographical projection, like EPSG:4326.</p>
<p>Tiles are requested using this scheme:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>http://myhost.com/mapcache/ve?LAYER=&lt;tileset_name&gt;@&lt;grid_name&gt;&amp;tile=&lt;quadkey&gt;
</pre></div>
</div>
<p>For EPSG:3857,  EPSG:900913, or GoogleMapsCompatible grids, &lt;quadkey&gt; are
arranged:</p>
<p>z0:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[0]

http://myhost.com/mapcache/ve?LAYER=osm@GoogleMapsCompatible&amp;tile=0
</pre></div>
</div>
<p>z1:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[00][01]
[02][03]

http://myhost.com/mapcache/ve?LAYER=osm@GoogleMapsCompatible&amp;tile=00
http://myhost.com/mapcache/ve?LAYER=osm@GoogleMapsCompatible&amp;tile=01
http://myhost.com/mapcache/ve?LAYER=osm@GoogleMapsCompatible&amp;tile=02
http://myhost.com/mapcache/ve?LAYER=osm@GoogleMapsCompatible&amp;tile=03
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">etc</span><span class="o">.</span>
</pre></div>
</div>
<p>For EPSG:4326 or WGS84 grids, &lt;quadkey&gt; are arranged:</p>
<p>z1:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[0][1]

http://myhost.com/mapcache/ve?LAYER=osm@WGS84&amp;tile=0
http://myhost.com/mapcache/ve?LAYER=osm@WGS84&amp;tile=1
</pre></div>
</div>
<p>z2:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[00][01][10][11]
[02][03][12][13]

http://myhost.com/mapcache/ve?LAYER=osm@WGS84&amp;tile=00
http://myhost.com/mapcache/ve?LAYER=osm@WGS84&amp;tile=01
http://myhost.com/mapcache/ve?LAYER=osm@WGS84&amp;tile=02
http://myhost.com/mapcache/ve?LAYER=osm@WGS84&amp;tile=03
http://myhost.com/mapcache/ve?LAYER=osm@WGS84&amp;tile=10
http://myhost.com/mapcache/ve?LAYER=osm@WGS84&amp;tile=11
http://myhost.com/mapcache/ve?LAYER=osm@WGS84&amp;tile=12
http://myhost.com/mapcache/ve?LAYER=osm@WGS84&amp;tile=13
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">etc</span><span class="o">.</span>
</pre></div>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p>
<a href="../about.html" title="About">About</a><br>
<a href="../products.html" title="Products">Products</a><br>
<a href="../community/index.html" title="Community">Community</a><br>
<a href="../development/index.html" title="Development">Development</a><br>
<a href="../download.html" title="Downloads">Downloads</a><br>
<a href="../documentation.html" title="Documentation">Documentation</a><br>
<a href="../faq.html" title="FAQ">FAQ</a><br>
<a href="../psc.html" title="PSC">PSC</a><br>
<a href="https://twitter.com/mapserver_osgeo" title="Twitter">Twitter</a>
</p>
  <h3>Current Table Of Contents</h3>
  <ul>
<li><a class="reference internal" href="#">Supported Tile Services</a><ul>
<li><a class="reference internal" href="#tms-service">TMS Service</a></li>
<li><a class="reference internal" href="#kml-service">KML Service</a></li>
<li><a class="reference internal" href="#ogc-wmts-service">OGC WMTS Service</a></li>
<li><a class="reference internal" href="#ogc-wms-service">OGC WMS Service</a><ul>
<li><a class="reference internal" href="#optional-wms-configuration-options">Optional WMS Configuration Options</a><ul>
<li><a class="reference internal" href="#untiled-getmap-support">Untiled GetMap Support</a></li>
<li><a class="reference internal" href="#getmap-image-format">GetMap Image Format</a></li>
<li><a class="reference internal" href="#image-resampling-quality">Image Resampling Quality</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#googlemaps-xyz-service">GoogleMaps XYZ Service</a><ul>
<li><a class="reference internal" href="#v2-api">V2 API</a></li>
<li><a class="reference internal" href="#v3-api">V3 API</a></li>
</ul>
</li>
<li><a class="reference internal" href="#virtual-earth-tile-service">Virtual Earth tile service</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="seed.html" title="Seeder"
             >next</a> |</li>
        <li class="right" >
          <a href="config.html" title="Configuration File"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >MapServer 8.0.1 Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >MapCache 1.14.0</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Supported Tile Services</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; <a href="../copyright.html">Copyright</a> 2023, Open Source Geospatial Foundation.
      Last updated on 2023-12-22.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.5.
    </div>
  </body>
</html>