<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Configuration File &#8212; MapServer 8.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx.css?v=6c7b17ac" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=dd298242" />
    <link rel="stylesheet" type="text/css" href="../_static/ribbon.css?v=ea091bf4" />
    
    <script src="../_static/documentation_options.js?v=521b6f53"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="icon" href="../_static/mapserver.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="Supported Tile Services" href="services.html" />
    <link rel="prev" title="Compilation &amp; Installation" href="install.html" /> 
  </head><body>


<!-- for main branch only, do not backport this -->

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../index.html" title="Home"><img src="../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../index.html" title="Home">Home</a> |
      <a href="../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../community/service_providers.html" title="Professional Service Providers">Service Providers</a> |      
      <a href="../faq.html" title="Frequently Asked Questions">FAQ</a> |
      <a href="https://twitter.com/mapserver_osgeo" title="Twitter" target="_blank">Twitter</a> |
      <a href="../download.html" title="Download Source or Binaries">Download </a> |
      <a class="badge" href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=KRJ2X44N3HA6U&source=url" target="_blank">
        <img src="https://img.shields.io/badge/donate-%E2%9D%A4%C2%A0-ff69b4.svg?style=flat" alt="Donate to MapServer">
      </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        <img src="../_static/flagicons/en.png" alt="en" title="en" border="0" width="18px" height="13px"/>
        
          <a href="../ar/mapcache/config.html"><img src="../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
        
        
          <a href="../de/mapcache/config.html"><img src="../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
        
        
          <a href="../el/mapcache/config.html"><img src="../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
        
        
          <a href="../es/mapcache/config.html"><img src="../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
        
        
          <a href="../fr/mapcache/config.html"><img src="../_static/flagicons/fr.png" alt="fr" title="fr" border="0" /></a>
        
        
          <a href="../id/mapcache/config.html"><img src="../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
        
        
          <a href="../it/mapcache/config.html"><img src="../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
        
        
          <a href="../ja/mapcache/config.html"><img src="../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
        
        
          <a href="../nl_NL/mapcache/config.html"><img src="../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
        
        
          <a href="../pl/mapcache/config.html"><img src="../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
        
        
          <a href="../ru/mapcache/config.html"><img src="../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
        
        
          <a href="../sq/mapcache/config.html"><img src="../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
        
        
          <a href="../tr/mapcache/config.html"><img src="../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
        

    </td>
  </tr>
</table>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="services.html" title="Supported Tile Services"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="install.html" title="Compilation &amp; Installation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >MapServer 8.0.1 Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">MapCache 1.14.0</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Configuration File</a></li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="configuration-file">
<span id="mapcache-config"></span><h1>Configuration File<a class="headerlink" href="#configuration-file" title="Link to this heading">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Author<span class="colon">:</span></dt>
<dd class="field-odd"><p>Thomas Bonfort</p>
</dd>
<dt class="field-even">Contact<span class="colon">:</span></dt>
<dd class="field-even"><p>tbonfort at terriscope.fr</p>
</dd>
</dl>
<p>The configuration file determines how mod-mapcache will serve incoming requests.
It is an XML file comprising a list of entries, as outlined here:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;mapcache&gt;</span>
<span class="w">   </span><span class="nt">&lt;grid&gt;</span>....<span class="nt">&lt;/grid&gt;</span>
<span class="w">   </span><span class="nt">&lt;source&gt;</span>....<span class="nt">&lt;/source&gt;</span>
<span class="w">   </span><span class="nt">&lt;cache&gt;</span>...<span class="nt">&lt;/cache&gt;</span>
<span class="w">   </span><span class="nt">&lt;format&gt;</span>...<span class="nt">&lt;/format&gt;</span>
<span class="w">   </span><span class="nt">&lt;tileset&gt;</span>...<span class="nt">&lt;/tileset&gt;</span>
<span class="w">   </span><span class="nt">&lt;service&gt;</span>...<span class="nt">&lt;/service&gt;</span>
<span class="w">   </span><span class="nt">&lt;metadata&gt;</span>....<span class="nt">&lt;/metadata&gt;</span>
<span class="nt">&lt;/mapcache&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The MapCache configuration file is only read when the Apache web server starts and the MapCache module is loaded. If you modify this file you will have to restart Apache for the changes to take effect.</p>
</div>
<section id="source">
<span id="mapcache-config-source"></span><h2>Source<a class="headerlink" href="#source" title="Link to this heading">¶</a></h2>
<p>A source is a service mod-mapcache can query to obtain image data. This is
typically a WMS server accessible by a URL. (There are currently only WMS, WMTS
and mapfile as sources, though others may be added later if the need arises,
see <a class="reference internal" href="sources.html#mapcache-sources"><span class="std std-ref">Data Sources</span></a>).</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;source</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;vmap0&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;wms&quot;</span><span class="nt">&gt;</span>

<span class="w">   </span><span class="cm">&lt;!--</span>
<span class="cm">      Extra parameters that will be added to the GetMap request. You can</span>
<span class="cm">      specify any parameter here, e.g. VERSION if you want to override the</span>
<span class="cm">      version of the WMS request.</span>

<span class="cm">      The LAYERS parameter is mandatory.</span>

<span class="cm">      Usual parameters here are FORMAT, or MAP if using MapServer.</span>
<span class="cm">   --&gt;</span>
<span class="w">   </span><span class="nt">&lt;getmap&gt;</span>
<span class="w">      </span><span class="nt">&lt;params&gt;</span>
<span class="w">         </span><span class="nt">&lt;FORMAT&gt;</span>image/png<span class="nt">&lt;/FORMAT&gt;</span>
<span class="w">         </span><span class="nt">&lt;LAYERS&gt;</span>basic<span class="nt">&lt;/LAYERS&gt;</span>
<span class="w">      </span><span class="nt">&lt;/params&gt;</span>
<span class="w">   </span><span class="nt">&lt;/getmap&gt;</span>

<span class="w">   </span><span class="cm">&lt;!-- HTTP URL and parameters to be used when making WMS requests --&gt;</span>
<span class="w">   </span><span class="nt">&lt;http&gt;</span>

<span class="w">      </span><span class="cm">&lt;!-- URL of the WMS service, without any parameters --&gt;</span>
<span class="w">      </span><span class="nt">&lt;url&gt;</span>http://vmap0.tiles.osgeo.org/wms/vmap0<span class="nt">&lt;/url&gt;</span>

<span class="w">      </span><span class="cm">&lt;!--</span>
<span class="cm">         HTTP headers added to the request. Make sure you know what you are</span>
<span class="cm">         doing when adding headers here, as they take precedence over any</span>
<span class="cm">         default headers curl will be adding to the request.</span>

<span class="cm">         Typical headers that can be added here are User-Agent and Referer.</span>

<span class="cm">         When adding a &lt;key&gt;value&lt;/key&gt; element here, the request to the WMS</span>
<span class="cm">         source will contain the</span>

<span class="cm">         key: value\r\n</span>

<span class="cm">         HTTP header.</span>

<span class="cm">         You may also forward a header from the incoming client request using</span>
<span class="cm">         the &lt;MyHeader&gt;{X-Header-To-Forward}&lt;MyHeader&gt; syntax.</span>
<span class="cm">      --&gt;</span>
<span class="w">      </span><span class="nt">&lt;headers&gt;</span>
<span class="w">         </span><span class="nt">&lt;User-Agent&gt;</span>mod-mapcache/r175<span class="nt">&lt;/User-Agent&gt;</span>
<span class="w">         </span><span class="nt">&lt;Referer&gt;</span>http://www.mysite.com?param=2<span class="ni">&amp;amp;</span>par=4<span class="nt">&lt;/Referer&gt;</span>
<span class="w">      </span><span class="nt">&lt;/headers&gt;</span>

<span class="w">      </span><span class="cm">&lt;!-- Timeout in seconds before bailing out from a request --&gt;</span>
<span class="w">      </span><span class="nt">&lt;connection_timeout&gt;</span>30<span class="nt">&lt;/connection_timeout&gt;</span>
<span class="w">   </span><span class="nt">&lt;/http&gt;</span>
<span class="nt">&lt;/source&gt;</span>
</pre></div>
</div>
<p>The name and type attributes are straightforward: <cite>type</cite> is “wms”, and <cite>name</cite>
is the key by which this source will be referenced; <cite>&lt;url&gt;</cite> is the HTTP
location where the service can be accessed; and <cite>&lt;wmsparams&gt;</cite> is a list of
parameters that will be added to the WMS request. You should probably at the
very least add the FORMAT and LAYERS parameters. By convention(?), WMS
parameters are uppercase, and you should respect this convention in your
configuration file.</p>
<p>This is where you can also override some default WMS parameters if needed. By
default, the parameters that will be used are: <cite>&lt;REQUEST&gt;GetMap&lt;/REQUEST&gt;</cite>
<cite>&lt;SERVICE&gt;WMS&lt;/SERVICE&gt;</cite> <cite>&lt;STYLES&gt;&lt;/STYLES&gt;</cite> <cite>&lt;VERSION&gt;1.1.0&lt;/VERSION&gt;</cite></p>
</section>
<section id="cache">
<h2>Cache<a class="headerlink" href="#cache" title="Link to this heading">¶</a></h2>
<p>A cache is a location where received tiles will be stored.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;cache</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;disk&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;disk&quot;</span><span class="nt">&gt;</span>

<span class="w">   </span><span class="cm">&lt;!-- base</span>

<span class="cm">        Absolute filesystem path where the tile structure will be stored.</span>

<span class="cm">        This directory needs to be readable and writable by the user running</span>
<span class="cm">        Apache.</span>
<span class="cm">   --&gt;</span>
<span class="w">   </span><span class="nt">&lt;base&gt;</span>/tmp<span class="nt">&lt;/base&gt;</span>

<span class="w">   </span><span class="cm">&lt;!-- symlink_blank</span>

<span class="cm">        Enable blank (i.e. uniform color) tile detection. Blank tiles will be</span>
<span class="cm">        detected at creation time and linked to a single blank tile on disk</span>
<span class="cm">        to preserve disk space.</span>
<span class="cm">   --&gt;</span>
<span class="w">   </span><span class="nt">&lt;symlink_blank/&gt;</span>
<span class="nt">&lt;/cache&gt;</span>

<span class="nt">&lt;cache</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;tmpl&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;disk&quot;</span><span class="w"> </span><span class="na">layout=</span><span class="s">&quot;template&quot;</span><span class="nt">&gt;</span>
<span class="w">   </span><span class="cm">&lt;!-- template</span>

<span class="cm">        String template that will be used to map a tile (by tileset, grid</span>
<span class="cm">        name, dimension, format, x, y, and z) to a filename on the filesystem.</span>

<span class="cm">        The following replacements are performed:</span>

<span class="cm">        - {tileset}               : the tileset name</span>
<span class="cm">        - {grid}                  : the grid name</span>
<span class="cm">        - {dim}                   : string concatenating the tile&#39;s dimension</span>
<span class="cm">        - {ext}                   : tile&#39;s image-format filename extension</span>
<span class="cm">        - {x},{y},{z}             : tile&#39;s x,y,z values</span>
<span class="cm">        - {inv_x},{inv_y},{inv_z} : inverted x,y,z values</span>

<span class="cm">        (For inverted x,y,z values, (inv_x = level-&gt;maxx - x - 1). This is</span>
<span class="cm">        mainly used to support grids where one axis is inverted (e.g. the</span>
<span class="cm">        Google schema) and you want to create on offline cache.)</span>

<span class="cm">      * Note that this type of cache does not support blank-tile detection</span>
<span class="cm">        and symlinking.</span>

<span class="cm">      * Warning: It is up to you to make sure that the template you choose</span>
<span class="cm">        creates a unique filename for your given tilesets (e.g. do not omit</span>
<span class="cm">        the {grid} parameter if your tilesets reference multiple grids.)</span>
<span class="cm">        Failure to do so will result in filename collisions!</span>

<span class="cm">   --&gt;</span>
<span class="w">   </span><span class="nt">&lt;template&gt;</span>/tmp/template-test/{tileset}#{grid}#{dim}/{z}/{x}/{y}.{ext}<span class="nt">&lt;/template&gt;</span>
<span class="nt">&lt;/cache&gt;</span>

<span class="cm">&lt;!-- memcache cache</span>

<span class="cm">     Entry accepts multiple &lt;server&gt; entries.</span>

<span class="cm">     Requires a fairly recent apr-util library and headers.</span>
<span class="cm">--&gt;</span>
<span class="nt">&lt;cache</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;memcache&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;memcache&quot;</span><span class="nt">&gt;</span>
<span class="w">   </span><span class="nt">&lt;server&gt;</span>
<span class="w">      </span><span class="nt">&lt;host&gt;</span>localhost<span class="nt">&lt;/host&gt;</span>
<span class="w">      </span><span class="nt">&lt;port&gt;</span>11211<span class="nt">&lt;/port&gt;</span>
<span class="w">   </span><span class="nt">&lt;/server&gt;</span>
<span class="nt">&lt;/cache&gt;</span>

<span class="cm">&lt;!-- sqlite cache</span>

<span class="cm">     Requires building with &quot;with-sqlite&quot;.</span>
<span class="cm">--&gt;</span>
<span class="nt">&lt;cache</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;sqlite&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;sqlite3&quot;</span><span class="nt">&gt;</span>
<span class="w">   </span><span class="cm">&lt;!-- dbfile</span>

<span class="cm">        Absolute filename path of the SQLite database file to use.</span>

<span class="cm">        This file needs to be readable and writable by the user running the</span>
<span class="cm">        MapCache instance.</span>
<span class="cm">   --&gt;</span>
<span class="nt">&lt;/cache&gt;</span>

<span class="nt">&lt;cache</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;mbtiles&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;mbtiles&quot;</span><span class="nt">&gt;</span>
<span class="w">   </span><span class="nt">&lt;dbfile&gt;</span>/path/to/MapBox/tiles/natural-earth-1.mbtiles<span class="nt">&lt;/dbfile&gt;</span>
<span class="nt">&lt;/cache&gt;</span>
</pre></div>
</div>
</section>
<section id="format">
<h2>Format<a class="headerlink" href="#format" title="Link to this heading">¶</a></h2>
<p>A format is an image format that will be used to return tile data to clients,
and to store tile data on disk.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;format</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;PNGQ_FAST&quot;</span><span class="w"> </span><span class="na">type =</span><span class="s">&quot;PNG&quot;</span><span class="nt">&gt;</span>

<span class="w">   </span><span class="cm">&lt;!-- compression</span>

<span class="cm">        PNG compression: best or fast</span>

<span class="cm">        Note that &quot;best&quot; compression is CPU intensive for little gain over</span>
<span class="cm">        the default default compression obtained by leaving out this tag.</span>
<span class="cm">   --&gt;</span>
<span class="w">   </span><span class="nt">&lt;compression&gt;</span>fast<span class="nt">&lt;/compression&gt;</span>

<span class="w">   </span><span class="cm">&lt;!-- colors</span>

<span class="cm">        If supplied, this enables PNG quantization which reduces the number</span>
<span class="cm">        of colors in an image to attain higher compression. This operation is</span>
<span class="cm">        destructive, and can cause artifacts in the stored image.</span>

<span class="cm">        The number of colors can be between 2 and 256.</span>
<span class="cm">  --&gt;</span>
<span class="w">  </span><span class="nt">&lt;colors&gt;</span>256<span class="nt">&lt;/colors&gt;</span>
<span class="nt">&lt;/format&gt;</span>
<span class="nt">&lt;format</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;myjpeg&quot;</span><span class="w"> </span><span class="na">type =</span><span class="s">&quot;JPEG&quot;</span><span class="nt">&gt;</span>

<span class="w">   </span><span class="cm">&lt;!-- quality</span>

<span class="cm">        JPEG compression quality, ranging from 0 to 100.</span>

<span class="cm">        95 produces high quality images with few visual artifacts. Values</span>
<span class="cm">        under around 80 produce small images but with visible artifacts.</span>
<span class="cm">        YMMV.</span>
<span class="cm">   --&gt;</span>
<span class="w">   </span><span class="nt">&lt;quality&gt;</span>75<span class="nt">&lt;/quality&gt;</span>

<span class="w">   </span><span class="cm">&lt;!-- photometric</span>

<span class="cm">       Photometric interpretation of the bands created in the JPEG image.</span>

<span class="cm">       Default is &quot;ycbcr&quot;, which produces the smallest images. Can also be</span>
<span class="cm">       &quot;rgb&quot;, which usually results in x2 or x3 image sizes.</span>
<span class="cm">   --&gt;</span>
<span class="w">   </span><span class="nt">&lt;photometric&gt;</span>ycbcr<span class="nt">&lt;/photometric&gt;</span>

<span class="nt">&lt;/format&gt;</span>

<span class="nt">&lt;format</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;PNG_BEST&quot;</span><span class="w"> </span><span class="na">type =</span><span class="s">&quot;PNG&quot;</span><span class="nt">&gt;</span>
<span class="w">   </span><span class="nt">&lt;compression&gt;</span>best<span class="nt">&lt;/compression&gt;</span>
<span class="nt">&lt;/format&gt;</span>

<span class="nt">&lt;format</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;mixed&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;MIXED&quot;</span><span class="nt">&gt;</span>
<span class="w">   </span><span class="nt">&lt;transparent&gt;</span>PNG_BEST<span class="nt">&lt;/transparent&gt;</span>
<span class="w">   </span><span class="nt">&lt;opaque&gt;</span>JPEG<span class="nt">&lt;/opaque&gt;</span>
<span class="nt">&lt;/format&gt;</span>
</pre></div>
</div>
</section>
<section id="grid">
<span id="mapcache-grids"></span><h2>Grid<a class="headerlink" href="#grid" title="Link to this heading">¶</a></h2>
<p>A grid is the matrix that maps tiles onto an area, and consists of a spatial
reference, a geographic extent, resolutions, and tile sizes.</p>
<section id="mandatory-configuration-options">
<h3>Mandatory Configuration Options<a class="headerlink" href="#mandatory-configuration-options" title="Link to this heading">¶</a></h3>
<ul>
<li><p><strong>&lt;size&gt;</strong>: The width and height of an individual tile, in pixels. Must be
specified as positive integers separated by a space character. The most common
tile size is:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;size&gt;</span>256<span class="w"> </span>256<span class="nt">&lt;/size&gt;</span>
</pre></div>
</div>
</li>
<li><p><strong>&lt;extent&gt;</strong>: The geographical extent covered by the grid, in ground units
(e.g. meters, degrees, feet, etc.). Must be specified as 4 floating point
numbers separated by spaces, ordered as minx, miny, maxx, maxy.</p>
<p>MapCache expects all of its extents to be given in lonlat, and does the
translation to latlon at request time if needed.</p>
<p>The (minx,miny) point defines the origin of the grid, i.e. the pixel at the
bottom left of the bottom-left most tile is always placed on the (minx,miny)
geographical point.</p>
<p>The (maxx,maxy) point is used to determine how many tiles there are for each
zoom level.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;extent&gt;</span>-180<span class="w"> </span>-90<span class="w"> </span>180<span class="w"> </span>90<span class="nt">&lt;/extent&gt;</span>
</pre></div>
</div>
</li>
<li><p><strong>&lt;srs&gt;</strong>: The projection of the grid, usually given by it EPSG identifier.
This value isn’t used directly by MapCache to compute reprojections; it is
only used to look up which grid to use when receiving WMS requests.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;srs&gt;</span>epsg:4326<span class="nt">&lt;/srs&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is the value that is passed on to the <a class="reference internal" href="sources.html#mapcache-sources"><span class="std std-ref">source</span></a>
when requesting a tile that is not already cached for the current grid. You
must make sure that the source that is queried is capable of returning image
data for this SRS.</p>
</div>
</li>
<li><p><strong>&lt;units&gt;</strong>: The ground units used by the grid’s projection. This entry is not
used directly by MapCache aside from calculating scales for the WMTS
capabilities document. Allowed values are:</p>
<ul class="simple">
<li><p><strong>m</strong>  : meters</p></li>
<li><p><strong>dd</strong> : decimal degrees</p></li>
<li><p><strong>ft</strong> : feet</p></li>
</ul>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;units&gt;</span>dd<span class="nt">&lt;/units&gt;</span>
</pre></div>
</div>
</li>
<li><p><strong>&lt;resolutions&gt;</strong>: This is a list of resolutions for each of the zoom levels
defined by the grid. This must be supplied as a list of positive floating
point values, separated by spaces and ordered from largest to smallest. The
largest value will correspond to the grid’s zoom level 0. Resolutions are
expressed in “units-per-pixel”, depending on the unit used by the grid (e.g.
resolutions are in meters per pixel for most grids used in webmapping).</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;resolutions&gt;</span>0.703125000000000<span class="w"> </span>0.351562500000000<span class="w"> </span>0.175781250000000<span class="w"> </span>8.78906250000000e-2<span class="w"> </span>4.39453125000000e-2<span class="w"> </span>2.19726562500000e-2<span class="w"> </span>1.09863281250000e-2<span class="w"> </span>5.49316406250000e-3<span class="w"> </span>2.74658203125000e-3<span class="w"> </span>1.37329101562500e-3<span class="w"> </span>6.86645507812500e-4<span class="w"> </span>3.43322753906250e-4<span class="w"> </span>1.71661376953125e-4<span class="w"> </span>8.58306884765625e-5<span class="w"> </span>4.29153442382812e-5<span class="w"> </span>2.14576721191406e-5<span class="w"> </span>1.07288360595703e-5<span class="w"> </span>5.36441802978516e-6<span class="nt">&lt;/resolutions&gt;</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="optional-configuration-options">
<h3>Optional Configuration Options<a class="headerlink" href="#optional-configuration-options" title="Link to this heading">¶</a></h3>
<ul>
<li><p><strong>&lt;srsalias&gt;</strong>: This tag can be specified multiple times, and allows the user
to add multiple SRS entries for a given grid. This is especially useful if
the EPSG id for a given projection has evolved over time, or to support
catalogs other than the EPSG one (which is the only catalog supported by the
WMS specification).</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;srs&gt;</span>EPSG:310024802<span class="nt">&lt;/srs&gt;</span>
<span class="nt">&lt;srsalias&gt;</span>IGNF:GEOPORTALFXX<span class="nt">&lt;/srsalias&gt;</span>
<span class="nt">&lt;srsalias&gt;</span>EPSG:310024001<span class="nt">&lt;/srsalias&gt;</span>
</pre></div>
</div>
</li>
<li><p><strong>&lt;metadata&gt;</strong>:</p>
<ul>
<li><p><strong>&lt;title&gt;</strong>: The name of the grid, in human readable form. Appears in the
capabilities documents.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;title&gt;</span>This<span class="w"> </span>grid<span class="w"> </span>covers<span class="w"> </span>the<span class="w"> </span>area<span class="w"> </span>blah<span class="w"> </span>blah<span class="w"> </span>blah<span class="nt">&lt;/title&gt;</span>
</pre></div>
</div>
</li>
<li><p><strong>&lt;WellKnownScaleSet&gt;</strong>: See the WMTS keyword. This will add a
WellKnownScaleSet entry to the WMTS capabilities document. It is up to the
user to make sure that the supplied resolutions for the grid actually match
the pre-defined WellKnownScaleSet.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;WellKnownScaleSet&gt;</span>urn:ogc:def:wkss:OGC:1.0:GoogleCRS84Quad<span class="nt">&lt;/WellKnownScaleSet&gt;</span>
</pre></div>
</div>
</li>
</ul>
</li>
<li><p><strong>&lt;origin&gt;</strong>: Specifies the origin of the grid. Valid values are <cite>top-left</cite>,
<cite>bottom-left</cite>, <cite>top-right</cite> and <cite>bottom-right</cite>.</p>
<p>If not used, the grid will have the bottom-left corner as reference point.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;origin&gt;</span>top-left<span class="nt">&lt;/origin&gt;</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="preconfigured-grids">
<h3>Preconfigured Grids<a class="headerlink" href="#preconfigured-grids" title="Link to this heading">¶</a></h3>
<p>There are three predefined grids you can use without defining them in the
mapcache.xml file:</p>
<ul>
<li><p>The “WGS84” grid corresponds to a grid where the whole world is rendered on
two 256x256-pixel tiles at level 0 (i.e. the (-180,-90,180,90) extent fits on
a 512x256 image). It goes down to zoom level 17.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;grid</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;WGS84&quot;</span><span class="nt">&gt;</span>
<span class="w">   </span><span class="nt">&lt;metadata&gt;</span>
<span class="w">      </span><span class="nt">&lt;title&gt;</span>GoogleCRS84Quad<span class="nt">&lt;/title&gt;</span>
<span class="w">      </span><span class="nt">&lt;WellKnownScaleSet&gt;</span>urn:ogc:def:wkss:OGC:1.0:GoogleCRS84Quad<span class="nt">&lt;/WellKnownScaleSet&gt;</span>
<span class="w">   </span><span class="nt">&lt;/metadata&gt;</span>
<span class="w">   </span><span class="nt">&lt;extent&gt;</span>-180<span class="w"> </span>-90<span class="w"> </span>180<span class="w"> </span>90<span class="nt">&lt;/extent&gt;</span>
<span class="w">   </span><span class="nt">&lt;srs&gt;</span>EPSG:4326<span class="nt">&lt;/srs&gt;</span>
<span class="w">   </span><span class="nt">&lt;units&gt;</span>dd<span class="nt">&lt;/units&gt;</span>
<span class="w">   </span><span class="nt">&lt;size&gt;</span>256<span class="w"> </span>256<span class="nt">&lt;/size&gt;</span>
<span class="w">   </span><span class="nt">&lt;resolutions&gt;</span>0.703125000000000<span class="w"> </span>0.351562500000000<span class="w"> </span>0.175781250000000<span class="w"> </span>8.78906250000000e-2<span class="w"> </span>4.39453125000000e-2<span class="w"> </span>2.19726562500000e-2<span class="w"> </span>1.09863281250000e-2<span class="w"> </span>5.49316406250000e-3<span class="w"> </span>2.74658203125000e-3<span class="w"> </span>1.37329101562500e-3<span class="w"> </span>6.86645507812500e-4<span class="w"> </span>3.43322753906250e-4<span class="w"> </span>1.71661376953125e-4<span class="w"> </span>8.58306884765625e-5<span class="w"> </span>4.29153442382812e-5<span class="w"> </span>2.14576721191406e-5<span class="w"> </span>1.07288360595703e-5<span class="w"> </span>5.36441802978516e-6<span class="nt">&lt;/resolutions&gt;</span>
<span class="nt">&lt;/grid&gt;</span>
</pre></div>
</div>
</li>
<li><p>The “g” grid may be used to overlay tiles on top of GoogleMaps, and is the
default tiling scheme used in webmapping applications. This grid goes down to
zoom level 18. Level 0 is a single 256x256 tile. This grid’s default SRS is
EPSG:900913, which is non-standard but in wider use than than its official
EPSG:3857 entry.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;grid</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;g&quot;</span><span class="nt">&gt;</span>
<span class="w">   </span><span class="nt">&lt;metadata&gt;</span>
<span class="w">      </span><span class="nt">&lt;title&gt;</span>GoogleMapsCompatible<span class="nt">&lt;/title&gt;</span>
<span class="w">      </span><span class="nt">&lt;WellKnownScaleSet&gt;</span>urn:ogc:def:wkss:OGC:1.0:GoogleMapsCompatible<span class="nt">&lt;/WellKnownScaleSet&gt;</span>
<span class="w">   </span><span class="nt">&lt;/metadata&gt;</span>
<span class="w">   </span><span class="nt">&lt;extent&gt;</span>-20037508.3427892480<span class="w"> </span>-20037508.3427892480<span class="w"> </span>20037508.3427892480<span class="w"> </span>20037508.3427892480<span class="nt">&lt;/extent&gt;</span>
<span class="w">   </span><span class="nt">&lt;srs&gt;</span>EPSG:900913<span class="nt">&lt;/srs&gt;</span>
<span class="w">   </span><span class="nt">&lt;srsalias&gt;</span>EPSG:3857<span class="nt">&lt;/srsalias&gt;</span>
<span class="w">   </span><span class="nt">&lt;units&gt;</span>m<span class="nt">&lt;/units&gt;</span>
<span class="w">   </span><span class="nt">&lt;size&gt;</span>256<span class="w"> </span>256<span class="nt">&lt;/size&gt;</span>
<span class="w">   </span><span class="nt">&lt;resolutions&gt;</span>156543.0339280410<span class="w"> </span>78271.51696402048<span class="w"> </span>39135.75848201023<span class="w"> </span>19567.87924100512<span class="w"> </span>9783.939620502561<span class="w"> </span>4891.969810251280<span class="w"> </span>2445.984905125640<span class="w"> </span>1222.992452562820<span class="w"> </span>611.4962262814100<span class="w"> </span>305.7481131407048<span class="w"> </span>152.8740565703525<span class="w"> </span>76.43702828517624<span class="w"> </span>38.21851414258813<span class="w"> </span>19.10925707129406<span class="w"> </span>9.554628535647032<span class="w"> </span>4.777314267823516<span class="w"> </span>2.388657133911758<span class="w"> </span>1.194328566955879<span class="w"> </span>0.5971642834779395<span class="nt">&lt;/resolutions&gt;</span>
<span class="nt">&lt;/grid&gt;</span>
</pre></div>
</div>
</li>
<li><p>The “GoogleMapsCompatible” grid is nearly identical to the “g” grid, except
that its default SRS is EPSG:3857 instead of EPSG:900913.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;grid</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;GoogleMapsCompatible&quot;</span><span class="nt">&gt;</span>
<span class="w">   </span><span class="nt">&lt;metadata&gt;</span>
<span class="w">      </span><span class="nt">&lt;title&gt;</span>GoogleMapsCompatible<span class="nt">&lt;/title&gt;</span>
<span class="w">      </span><span class="nt">&lt;WellKnownScaleSet&gt;</span>urn:ogc:def:wkss:OGC:1.0:GoogleMapsCompatible<span class="nt">&lt;/WellKnownScaleSet&gt;</span>
<span class="w">   </span><span class="nt">&lt;/metadata&gt;</span>
<span class="w">   </span><span class="nt">&lt;extent&gt;</span>-20037508.3427892480<span class="w"> </span>-20037508.3427892480<span class="w"> </span>20037508.3427892480<span class="w"> </span>20037508.3427892480<span class="nt">&lt;/extent&gt;</span>
<span class="w">   </span><span class="nt">&lt;srs&gt;</span>EPSG:3857<span class="nt">&lt;/srs&gt;</span>
<span class="w">   </span><span class="nt">&lt;srsalias&gt;</span>EPSG:900913<span class="nt">&lt;/srsalias&gt;</span>
<span class="w">   </span><span class="nt">&lt;units&gt;</span>m<span class="nt">&lt;/units&gt;</span>
<span class="w">   </span><span class="nt">&lt;size&gt;</span>256<span class="w"> </span>256<span class="nt">&lt;/size&gt;</span>
<span class="w">   </span><span class="nt">&lt;resolutions&gt;</span>156543.0339280410<span class="w"> </span>78271.51696402048<span class="w"> </span>39135.75848201023<span class="w"> </span>19567.87924100512<span class="w"> </span>9783.939620502561<span class="w"> </span>4891.969810251280<span class="w"> </span>2445.984905125640<span class="w"> </span>1222.992452562820<span class="w"> </span>611.4962262814100<span class="w"> </span>305.7481131407048<span class="w"> </span>152.8740565703525<span class="w"> </span>76.43702828517624<span class="w"> </span>38.21851414258813<span class="w"> </span>19.10925707129406<span class="w"> </span>9.554628535647032<span class="w"> </span>4.777314267823516<span class="w"> </span>2.388657133911758<span class="w"> </span>1.194328566955879<span class="w"> </span>0.5971642834779395<span class="nt">&lt;/resolutions&gt;</span>
<span class="nt">&lt;/grid&gt;</span>
</pre></div>
</div>
</li>
</ul>
</section>
</section>
<section id="tileset">
<span id="mapcache-config-tileset"></span><h2>Tileset<a class="headerlink" href="#tileset" title="Link to this heading">¶</a></h2>
<p>A tileset is the essential configuration item for mod-mapcache, and corresponds
to a set of tiles coming from a <em>source</em>, stored in a <em>cache</em>, and returned to
the client in a given <em>format</em>.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;tileset</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;test&quot;</span><span class="nt">&gt;</span>

<span class="w">   </span><span class="cm">&lt;!-- source</span>

<span class="cm">        The &quot;name&quot; attribute of a preconfigured &lt;source&gt;.</span>

<span class="cm">        If the tileset does not contain a &lt;source&gt; element, then it is</span>
<span class="cm">        considered read-only and its cache will never be updated. In this</span>
<span class="cm">        case, your seeder and webserver would have slightly different</span>
<span class="cm">        mapcache.xml files.</span>

<span class="cm">        Blank tiles may be dealt with by setting the &lt;errors&gt; directive to</span>
<span class="cm">        &quot;empty_img&quot;.</span>
<span class="cm">   --&gt;</span>
<span class="w">   </span><span class="nt">&lt;source&gt;</span>vmap0<span class="nt">&lt;/source&gt;</span>

<span class="w">   </span><span class="cm">&lt;!-- cache</span>

<span class="cm">        The &quot;name&quot; attribute of a preconfigured &lt;cache&gt;</span>
<span class="cm">   --&gt;</span>
<span class="w">   </span><span class="nt">&lt;cache&gt;</span>sqlite<span class="nt">&lt;/cache&gt;</span>

<span class="w">   </span><span class="cm">&lt;!-- grid</span>

<span class="cm">        The &quot;name&quot; attribute of a preconfigured &lt;grid&gt;.</span>

<span class="cm">        You can also use the following notation to limit the area that will</span>
<span class="cm">        be cached and served to clients:</span>

<span class="cm">        &lt;grid restricted_extent=&quot;-10 40 10 50&quot;&gt;WGS84&lt;/grid&gt;</span>

<span class="cm">        This is better than using a grid with a limited extent, as in this</span>
<span class="cm">        way the tiles that are already cached are not invalidated should you</span>
<span class="cm">        want to modify the restricted extent in the future. When using the</span>
<span class="cm">        restricted_extent attribute, you should give the corresponding</span>
<span class="cm">        information to the client that will be using the service.</span>

<span class="cm">        You can also limit the zoom levels that are cached/accessible by</span>
<span class="cm">        using the `minzoom` and `maxzoom` attributes.</span>

<span class="cm">        Moreover, a tolerance of five tiles is added by default to the</span>
<span class="cm">        specified restricted_extent. This tolerance can be manually set with</span>
<span class="cm">        `tolerance` attribute.</span>

<span class="cm">        A grid may reference a ruleset to impose certain behaviour:</span>

<span class="cm">        &lt;grid ruleset=&quot;rules&quot;&gt;4326&lt;/grid&gt;</span>

<span class="cm">        NOTE: When adding a &lt;grid&gt; element, you *MUST* make sure that the</span>
<span class="cm">        source you have selected is able to return images in the grid&#39;s SRS.</span>
<span class="cm">   --&gt;</span>
<span class="w">   </span><span class="nt">&lt;grid</span><span class="w"> </span><span class="na">restricted_extent=</span><span class="s">&quot;-10 40 10 50&quot;</span><span class="w"> </span><span class="na">minzoom=</span><span class="s">&quot;4&quot;</span><span class="w"> </span><span class="na">maxzoom=</span><span class="s">&quot;17&quot;</span><span class="nt">&gt;</span>WGS84<span class="nt">&lt;/grid&gt;</span>
<span class="w">   </span><span class="nt">&lt;grid</span><span class="w"> </span><span class="na">ruleset=</span><span class="s">&quot;rules&quot;</span><span class="nt">&gt;</span>4326<span class="nt">&lt;/grid&gt;</span>
<span class="w">   </span><span class="nt">&lt;grid&gt;</span>g<span class="nt">&lt;/grid&gt;</span>

<span class="w">   </span><span class="cm">&lt;!-- You may store hidden intermediate levels of tiles to enable higher</span>
<span class="cm">        quality output when reassembling tiles. This may be needed when</span>
<span class="cm">        caching maps containing labels to avoid the text from becoming too</span>
<span class="cm">        small or too blurry when requesting resolutions that are far away</span>
<span class="cm">        from the native grid resolutions.</span>

<span class="cm">        Supposing grid &quot;mygrid&quot; consists of 256x256 pixel tiles, with</span>
<span class="cm">        resolutions r1,r2,r3,r4,...rn, MapCache will populate a hidden grid</span>
<span class="cm">        called &quot;mygrid_intermediate_0.5&quot; containing tiles of size</span>
<span class="cm">        256+256*0.5=384 with resolutions r1+(r2-r1)*0.5, r2+(r3-r2)*0.5, ...</span>
<span class="cm">        r(n-1)+(r(n)-r(n-1)*0.5. That is, a tile with a given extent will be</span>
<span class="cm">        stored once in a 256x256 tile, and once in a 384x384 one.</span>

<span class="cm">        This intermediate grid is private to MapCache and will not be exposed</span>
<span class="cm">        to tiled requests. It will only be used for WMS requests that require</span>
<span class="cm">        horizontal assembling.</span>
<span class="cm">   --&gt;</span>
<span class="w">   </span><span class="nt">&lt;grid</span><span class="w"> </span><span class="na">use_wms_intermediate_resolutions=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>mygrid<span class="nt">&lt;/grid&gt;</span>

<span class="w">   </span><span class="cm">&lt;!-- metadata</span>

<span class="cm">        Optional metadata tags used for responding to GetCapabilities</span>
<span class="cm">        requests. You can put anything here, but only the title, abstract, wgs84boundingbox and</span>
<span class="cm">        keywords tags are currently used to populate the GetCapabilities</span>
<span class="cm">        document.</span>
<span class="cm">   --&gt;</span>
<span class="w">   </span><span class="nt">&lt;metadata&gt;</span>
<span class="w">      </span><span class="nt">&lt;title&gt;</span>vmap0<span class="w"> </span>map<span class="nt">&lt;/title&gt;</span>
<span class="w">      </span><span class="nt">&lt;abstract&gt;</span>blabla<span class="nt">&lt;/abstract&gt;</span>
<span class="w">      </span><span class="cm">&lt;!-- Sets the extent of the tileset. Used by GIS to zoom to the layer. Order is Lon/Lat (example extent</span>
<span class="cm">      is the region around London). Will be translated</span>
<span class="cm">      to</span>
<span class="cm">      &lt;ows:WGS84BoundingBox&gt;</span>
<span class="cm">         &lt;ows:LowerCorner&gt;-0.837 51.058&lt;/ows:LowerCorner&gt;</span>
<span class="cm">         &lt;ows:UpperCorner&gt;0.57 51.834&lt;/ows:UpperCorner&gt;</span>
<span class="cm">      &lt;/ows:WGS84BoundingBox&gt;</span>
<span class="cm">      --&gt;</span>
<span class="w">      </span><span class="nt">&lt;wgs84boundingbox&gt;</span>-0.837<span class="w"> </span>51.058<span class="w"> </span>0.57<span class="w"> </span>51.834<span class="nt">&lt;/wgs84boundingbox&gt;</span>
<span class="w">      </span><span class="nt">&lt;keywords&gt;</span>
<span class="w">         </span><span class="nt">&lt;keyword&gt;</span>foo<span class="nt">&lt;/keyword&gt;</span>
<span class="w">         </span><span class="nt">&lt;keyword&gt;</span>bar<span class="nt">&lt;/keyword&gt;</span>
<span class="w">      </span><span class="nt">&lt;/keywords&gt;</span>
<span class="w">   </span><span class="nt">&lt;/metadata&gt;</span>

<span class="w">   </span><span class="cm">&lt;!-- watermark</span>

<span class="cm">        Optional tag to add a watermark to the tiles *before* storing them to</span>
<span class="cm">        cache. The supplied image MUST be exactly the same size as the size</span>
<span class="cm">        as the tiles configured in the &lt;grid&gt;.</span>

<span class="cm">        The supplied image is read when the configuration is loaded. If you</span>
<span class="cm">        make changes to the image, they will NOT be reflected in tiles</span>
<span class="cm">        already stored in the cache, nor on newly stored tiles, until the</span>
<span class="cm">        server is restarted.</span>
<span class="cm">   --&gt;</span>
<span class="w">   </span><span class="nt">&lt;watermark&gt;</span>/path/to/static/watermark.png<span class="nt">&lt;/watermark&gt;</span>

<span class="w">   </span><span class="cm">&lt;!-- format</span>

<span class="cm">       (Optional) format to use when storing a tile. This should be a format</span>
<span class="cm">       with high compression, e.g. PNG with compression &quot;best&quot;, as the</span>
<span class="cm">       compression operation is only done once at tile creation time. If</span>
<span class="cm">       omitted, no recompression is applied to the image and mod-mapcache</span>
<span class="cm">       will store the exact image received from the &lt;source&gt;.</span>

<span class="cm">       Note that the &lt;format&gt; tag is mandatory if &lt;metatile&gt;, &lt;metabuffer&gt; or</span>
<span class="cm">       &lt;watermark&gt; are supplied, as in those cases recompression must be</span>
<span class="cm">       done.</span>
<span class="cm">   --&gt;</span>
<span class="w">   </span><span class="nt">&lt;format&gt;</span>PNG<span class="nt">&lt;/format&gt;</span>

<span class="w">   </span><span class="cm">&lt;!-- metatile</span>

<span class="cm">        Number of columns and rows to use for metatiling. See</span>
<span class="cm">        http://geowebcache.org/docs/current/concepts/metatiles.html</span>
<span class="cm">   --&gt;</span>
<span class="w">   </span><span class="nt">&lt;metatile&gt;</span>5<span class="w"> </span>5<span class="nt">&lt;/metatile&gt;</span>

<span class="w">   </span><span class="cm">&lt;!-- metabuffer</span>

<span class="cm">        Area around the tile or metatile that will be cut off to prevent some</span>
<span class="cm">        edge artifacts. If this is specified, the configured source must be</span>
<span class="cm">        instructed not to put any labels inside this area, as otherwise</span>
<span class="cm">        labels will be truncated. (For MapServer, use the</span>
<span class="cm">        &quot;labelcache_map_edge_buffer&quot; &quot;-10&quot; metadata entry, along with label</span>
<span class="cm">        PARTIALS FALSE.)</span>
<span class="cm">   --&gt;</span>
<span class="w">   </span><span class="nt">&lt;metabuffer&gt;</span>10<span class="nt">&lt;/metabuffer&gt;</span>

<span class="w">   </span><span class="cm">&lt;!-- expires</span>

<span class="cm">        Optional tile expiration value in seconds. This is expressed as</span>
<span class="cm">        number of seconds after creation date of the tile. This is the value</span>
<span class="cm">        that will be set in the HTTP Expires and Cache-Control headers, and</span>
<span class="cm">        has no effect on the actual expiration of tiles in the caches (see</span>
<span class="cm">        &lt;auto_expire&gt; for that). Defaults to 300 if unset.</span>
<span class="cm">   --&gt;</span>
<span class="w">   </span><span class="nt">&lt;expires&gt;</span>3600<span class="nt">&lt;/expires&gt;</span>

<span class="w">   </span><span class="cm">&lt;!-- auto_expire</span>

<span class="cm">        Tiles older (in seconds) than this value will be re-requested and</span>
<span class="cm">        updated in the cache. Note that this will only delete tiles from the</span>
<span class="cm">        cache when they are accessed: You cannot use this configuration to</span>
<span class="cm">        limit the size of the created cache. Note that, if set, this value</span>
<span class="cm">        overrides the value given by &lt;expires&gt;. By default tiles don&#39;t expire.</span>
<span class="cm">   --&gt;</span>
<span class="w">   </span><span class="nt">&lt;auto_expire&gt;</span>86400<span class="nt">&lt;/auto_expire&gt;</span>

<span class="w">   </span><span class="cm">&lt;!-- dimensions</span>

<span class="cm">        Optional dimensions that should be cached.</span>

<span class="cm">        The order of the &lt;dimension&gt; tags inside the &lt;dimensions&gt; block is</span>
<span class="cm">        important, as it is used to create the directory structure for the</span>
<span class="cm">        disk cache. That is, if you change the order of these values, any</span>
<span class="cm">        tiles that have been previously cached are invalidated: They are not</span>
<span class="cm">        removed from the cache, but they no longer exist for mod-mapcache.</span>
<span class="cm">   --&gt;</span>
<span class="w">   </span><span class="nt">&lt;dimensions&gt;</span>
<span class="w">      </span><span class="cm">&lt;!-- values dimension</span>

<span class="cm">           The example here creates a DIM1 dimension.</span>

<span class="cm">           * WMS and WMTS clients can now add a &amp;DIM1=value to their request</span>
<span class="cm">             string. If they don&#39;t specify this key/value, the default will</span>
<span class="cm">             be to use DIM1=foobar.</span>
<span class="cm">           * The allowed values for DIM1= are foobar (it is important to add</span>
<span class="cm">             the default value to the allowed values entry), foobarbaz, foo</span>
<span class="cm">             and bar.</span>
<span class="cm">           * The value specified for DIM1 will be forwarded to the WMS</span>
<span class="cm">             source.</span>
<span class="cm">           * The produced tile will be stored in the file</span>
<span class="cm">             base/gridname/DIM1/value/xx/xx/xx/xx/xx/xx.png. That is, there</span>
<span class="cm">             are as many different caches created as there are values in the</span>
<span class="cm">             &lt;values&gt; tag.</span>
<span class="cm">      --&gt;</span>
<span class="w">      </span><span class="nt">&lt;dimension</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;values&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;DIM1&quot;</span><span class="w"> </span><span class="na">default=</span><span class="s">&quot;foobar&quot;</span><span class="nt">&gt;</span>foobar,foobarbaz,foo,bar<span class="nt">&lt;/dimension&gt;</span>

<span class="w">      </span><span class="cm">&lt;!-- regex dimension</span>

<span class="cm">           The following creates a MAPFILE dimension, for using the same</span>
<span class="cm">           mod-mapcache tileset with different MapServer mapfiles. The name</span>
<span class="cm">           of the mapfiles need not be known to mod-mapcache, and can</span>
<span class="cm">           therefore be created even after mod-mapcache has been started.</span>

<span class="cm">           When a user passes a MAPFILE=/path/to/mapfile, the string</span>
<span class="cm">           &quot;/path/to/mapfile&quot; is validated against the supplied (PCRE)</span>
<span class="cm">           regular expression. The one in this example allows a name composed</span>
<span class="cm">           of aphanumeric characters separated by slashes (/) and ending in</span>
<span class="cm">           &quot;.map&quot; ( [a-zA-Z0-9\./]*\.map$ ), but will fail if there are two</span>
<span class="cm">           consecutive dots (..) in the path, to prevent filesystem traversal</span>
<span class="cm">           ( (?!.*\.\.) ).</span>
<span class="cm">      --&gt;</span>
<span class="w">      </span><span class="nt">&lt;dimension</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;regex&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;MAPFILE&quot;</span><span class="w"> </span><span class="na">default=</span><span class="s">&quot;/path/to/mapfile.map&quot;</span><span class="nt">&gt;</span>^(?!.*\.\.)[a-zA-Z0-9\./]*\.map$<span class="nt">&lt;/dimension&gt;</span>

<span class="w">      </span><span class="cm">&lt;!-- intervals dimension</span>

<span class="cm">           The syntax is the same as common-ows, i.e. a comma-separated list</span>
<span class="cm">           of &quot;min/max/resolution&quot; entries, e.g:</span>

<span class="cm">           * 0/5000/1000 allows the values 0,1000,2000,3000,4000 and 5000.</span>
<span class="cm">           * 0/100/0 allows any values between 0 and 100.</span>
<span class="cm">           * Both values can be combined: 0/5000/1000,0/100/0.</span>
<span class="cm">      --&gt;</span>
<span class="w">      </span><span class="nt">&lt;dimension</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;ELEVATION&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;intervals&quot;</span><span class="w"> </span><span class="na">default=</span><span class="s">&quot;0&quot;</span><span class="nt">&gt;</span>0/5000/1000<span class="nt">&lt;/dimension&gt;</span>

<span class="w">      </span><span class="cm">&lt;!-- Coming in a future version: support for ISO8601 date/time dimensions --&gt;</span>

<span class="w">   </span><span class="nt">&lt;/dimensions&gt;</span>
<span class="nt">&lt;/tileset&gt;</span>
</pre></div>
</div>
</section>
<section id="services">
<h2>Services<a class="headerlink" href="#services" title="Link to this heading">¶</a></h2>
<p>Services are the type of request that mod-mapcache will respond to. You should,
of course, enable at least one.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;service</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;wms&quot;</span><span class="w"> </span><span class="na">enabled=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
<span class="w">   </span><span class="cm">&lt;!--</span>
<span class="cm">        This service should actually be called &quot;ogc&quot;. It is different from</span>
<span class="cm">        the other services as it does not listen on the /wms endpoint, but</span>
<span class="cm">        directly on /. It will intercept WMS GetMap requests that can be</span>
<span class="cm">        satisfied from configured tilesets, and can optionally forward all</span>
<span class="cm">        the rest to (an)other server(s).</span>

<span class="cm">        TODO: This needs way more documenting.</span>

<span class="cm">   &lt;forwarding_rule name=&quot;foo rule&quot;&gt;</span>
<span class="cm">     &lt;append_pathinfo&gt;true&lt;/append_pathinfo&gt;</span>
<span class="cm">     &lt;http&gt;</span>
<span class="cm">       &lt;url&gt;http://localhost/mapcacheproxy&lt;/url&gt;</span>
<span class="cm">     &lt;/http&gt;</span>
<span class="cm">   &lt;/forwarding_rule&gt;</span>
<span class="cm">   --&gt;</span>

<span class="w">   </span><span class="cm">&lt;!-- full_wms</span>

<span class="cm">        Configure response to WMS requests that are not aligned to a</span>
<span class="cm">        tileset&#39;s grids. Responding to requests that are not in the SRS of a</span>
<span class="cm">        configured grid is not supported, but this should never happen as</span>
<span class="cm">        only the supported SRSs are publicized in the capabilities document.</span>

<span class="cm">        Allowed values are:</span>

<span class="cm">        - error    : Return a 404 error (default).</span>
<span class="cm">        - assemble : Build the full image by assembling cached tiles.</span>
<span class="cm">        - forward  : Forward the request to the configured source.</span>
<span class="cm">   --&gt;</span>
<span class="w">   </span><span class="nt">&lt;full_wms&gt;</span>assemble<span class="nt">&lt;/full_wms&gt;</span>

<span class="w">   </span><span class="cm">&lt;!-- resample mode</span>

<span class="cm">        Filter applied when resampling tiles for full WMS requests. Can be</span>
<span class="cm">        either:</span>

<span class="cm">        - nearest  : Fastest, poor quality.</span>
<span class="cm">        - bilinear : Slower, higher qulity.</span>
<span class="cm">   --&gt;</span>
<span class="w">   </span><span class="nt">&lt;resample_mode&gt;</span>bilinear<span class="nt">&lt;/resample_mode&gt;</span>

<span class="w">   </span><span class="cm">&lt;!-- format</span>

<span class="cm">        Image format to use when assembling tiles.</span>
<span class="cm">   --&gt;</span>
<span class="w">   </span><span class="nt">&lt;format</span><span class="w"> </span><span class="na">allow_client_override=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>myjpeg<span class="nt">&lt;/format&gt;</span>

<span class="nt">&lt;/service&gt;</span>
<span class="nt">&lt;service</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;wmts&quot;</span><span class="w"> </span><span class="na">enabled=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;service</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;tms&quot;</span><span class="w"> </span><span class="na">enabled=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;service</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;kml&quot;</span><span class="w"> </span><span class="na">enabled=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;service</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;gmaps&quot;</span><span class="w"> </span><span class="na">enabled=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;service</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;ve&quot;</span><span class="w"> </span><span class="na">enabled=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;service</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;demo&quot;</span><span class="w"> </span><span class="na">enabled=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
</section>
<section id="ruleset">
<h2>Ruleset<a class="headerlink" href="#ruleset" title="Link to this heading">¶</a></h2>
<p>A ruleset contains a set of rules to impose certain behaviour on zoom levels.
It is referenced from a grid element inside a tileset. See tileset for more
information.</p>
<p>It is possible to define rules that:</p>
<ul class="simple">
<li><p>Puts limits on the visible extent of zoom levels.</p></li>
</ul>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;ruleset</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;rules&quot;</span><span class="nt">&gt;</span>

<span class="w">   </span><span class="cm">&lt;!-- rule</span>

<span class="cm">        A rule impose certain behaviour on one or more zoom levels.</span>
<span class="cm">        There is no limit on the number of rules.</span>

<span class="cm">        zoom_level attribute contains the levels affected by this rule.</span>
<span class="cm">        A zoom level can not be referenced by multiple rules.</span>
<span class="cm">   --&gt;</span>
<span class="w">   </span><span class="nt">&lt;rule</span><span class="w"> </span><span class="na">zoom_level=</span><span class="s">&quot;4 5 6 7&quot;</span><span class="nt">&gt;</span>

<span class="w">      </span><span class="cm">&lt;!-- visibility</span>

<span class="cm">           Contains a collection of visible extents.</span>

<span class="cm">           Tiles inside these extents will be fetched from the cache.</span>
<span class="cm">           Tiles outside will be created on the fly using configured</span>
<span class="cm">           color and returned to the client in declared format,</span>
<span class="cm">           but not stored in the cache.</span>
<span class="cm">           This does not affect the extent announced to the client,</span>
<span class="cm">           but will limit the potentially large number of blank tiles</span>
<span class="cm">           stored in the cache when data only covers small subsets of</span>
<span class="cm">           the total extent.</span>

<span class="cm">           hidden_color attribute is the (hex) color (ARGB or RGB) of tiles</span>
<span class="cm">           outside the visible extents. Default is a fully transparent tile.</span>
<span class="cm">      --&gt;</span>
<span class="w">      </span><span class="nt">&lt;visibility</span><span class="w"> </span><span class="na">hidden_color=</span><span class="s">&quot;ff000000&quot;</span><span class="nt">&gt;</span>

<span class="w">         </span><span class="cm">&lt;!-- extent</span>

<span class="cm">              One or more extents.</span>

<span class="cm">              Extent must be given in the srs of the referencing grid.</span>
<span class="cm">         --&gt;</span>
<span class="w">         </span><span class="nt">&lt;extent&gt;</span>228355<span class="w"> </span>6085026<span class="w"> </span>953704<span class="w"> </span>7686970<span class="nt">&lt;/extent&gt;</span>
<span class="w">      </span><span class="nt">&lt;/visibility&gt;</span>
<span class="w">   </span><span class="nt">&lt;/rule&gt;</span>

<span class="w">   </span><span class="nt">&lt;rule</span><span class="w"> </span><span class="na">zoom_level=</span><span class="s">&quot;8 9 10&quot;</span><span class="nt">&gt;</span>
<span class="w">      </span><span class="nt">&lt;visibility&gt;</span>
<span class="w">         </span><span class="nt">&lt;extent&gt;</span>335972<span class="w"> </span>6099021<span class="w"> </span>495792<span class="w"> </span>6166722<span class="nt">&lt;/extent&gt;</span>
<span class="w">         </span><span class="nt">&lt;extent&gt;</span>309336<span class="w"> </span>6166722<span class="w"> </span>644513<span class="w"> </span>6273268<span class="nt">&lt;/extent&gt;</span>
<span class="w">      </span><span class="nt">&lt;/visibility&gt;</span>
<span class="w">   </span><span class="nt">&lt;/rule&gt;</span>
<span class="nt">&lt;/ruleset&gt;</span>
</pre></div>
</div>
</section>
<section id="miscellaneous">
<h2>Miscellaneous<a class="headerlink" href="#miscellaneous" title="Link to this heading">¶</a></h2>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cm">&lt;!-- default_format</span>

<span class="cm">     Format to use when a client asks for an image that is dynamically</span>
<span class="cm">     created from multiple cached tiles. Note that using a PNG format with</span>
<span class="cm">     &quot;best&quot; compression is not recommended here as it is computationally</span>
<span class="cm">     expensive. It is better to use a PNG format with &quot;fast&quot;compression here,</span>
<span class="cm">     unless you have plenty of server CPU power and/or limited bandwidth.</span>
<span class="cm">--&gt;</span>
<span class="nt">&lt;default_format&gt;</span>JPEG<span class="nt">&lt;/default_format&gt;</span>

<span class="cm">&lt;!-- services</span>

<span class="cm">     Services that mod-mapcache will respond to. Each service is accessible</span>
<span class="cm">     at the URL http://host/path/to/mapcache/{service}, e.g.</span>
<span class="cm">     http://myhost/mapcache/wms for OGC WMS.</span>
<span class="cm">--&gt;</span>

<span class="cm">&lt;!-- errors</span>

<span class="cm">     Configure how errors will be reported back to a client:</span>

<span class="cm">     - log        : No error is reported back, except an HTTP error code.</span>
<span class="cm">     - report     : Return the error message to the client in textual format.</span>
<span class="cm">     - empty_img  : Return an empty image to the client. The actual error</span>
<span class="cm">                    code is in the X-Mapcache-Error HTTP header.</span>
<span class="cm">     - report_img : Return an image with the error text included inside. (Not</span>
<span class="cm">                    implemented yet.)</span>

<span class="cm">     The default setting is to report the error message back to the user. In</span>
<span class="cm">     production, you might want to set this to &quot;log&quot; if you&#39;re paranoid, or</span>
<span class="cm">     to &quot;empty_img&quot; if you want to play nice with non-conforming clients.</span>
<span class="cm">--&gt;</span>
<span class="nt">&lt;errors&gt;</span>report<span class="nt">&lt;/errors&gt;</span>
</pre></div>
</div>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;locker</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;disk&quot;</span><span class="nt">&gt;</span><span class="w">  </span><span class="cm">&lt;!-- this is the default --&gt;</span>
<span class="cm">&lt;!--</span>
<span class="cm">     Where to put lockfiles (to block other clients while a metatile is being</span>
<span class="cm">     rendered). Defaults to /tmp. This location should be writable by the</span>
<span class="cm">     Apache user.</span>
<span class="cm">--&gt;</span>
<span class="w">  </span><span class="nt">&lt;directory&gt;</span>/tmp<span class="nt">&lt;/directory&gt;</span>
<span class="w">  </span><span class="nt">&lt;retry&gt;</span>0.01<span class="nt">&lt;/retry&gt;</span><span class="w"> </span><span class="cm">&lt;!-- check back every .01 seconds --&gt;</span>
<span class="w">  </span><span class="nt">&lt;timeout&gt;</span>60<span class="nt">&lt;/timeout&gt;</span><span class="w"> </span><span class="cm">&lt;!-- Consider a lock stale after this many seconds.</span>
<span class="cm">                             May cause issues if WMS rendering time exceeds</span>
<span class="cm">                             this value. --&gt;</span>
<span class="nt">&lt;/locker&gt;</span>
</pre></div>
</div>
<p>For specific information about locking, read <a class="reference internal" href="locks.html#mapcache-locks"><span class="std std-ref">this</span></a>.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cm">&lt;!-- log_level</span>

<span class="cm">     For CGI/FastCGI only; For the Apache module use the httpd.conf LogLevel</span>
<span class="cm">     key.</span>

<span class="cm">     Defines the verbosity of logged information. Valid values are:</span>

<span class="cm">     - debug</span>
<span class="cm">     - info</span>
<span class="cm">     - notice</span>
<span class="cm">     - warn (default)</span>
<span class="cm">     - error</span>
<span class="cm">     - crit</span>
<span class="cm">     - alert</span>
<span class="cm">     - emerg</span>
<span class="cm">--&gt;</span>
<span class="nt">&lt;log_level&gt;</span>warn<span class="nt">&lt;/log_level&gt;</span>

<span class="cm">&lt;!-- auto_reload</span>

<span class="cm">     For FastCGI only. If set to true, the configuration will be</span>
<span class="cm">     automatically reloaded if the configuration file has changed. Default is</span>
<span class="cm">     false.</span>
<span class="cm">--&gt;</span>
<span class="nt">&lt;auto_reload&gt;</span>true<span class="nt">&lt;/auto_reload&gt;</span>
</pre></div>
</div>
<div class="highlight-xml notranslate" id="mapcache-config-threaded-fetching"><div class="highlight"><pre><span></span><span class="cm">&lt;!-- use multiple threads when fetching multiple tiles (used for wms tile assembling --&gt;</span>
<span class="nt">&lt;threaded_fetching&gt;</span>true<span class="nt">&lt;/threaded_fetching&gt;</span>
</pre></div>
</div>
</section>
<section id="metadata">
<h2>Metadata<a class="headerlink" href="#metadata" title="Link to this heading">¶</a></h2>
<p>The MapCache metadata section contains source contact information for the MapCache WMTS service.
This information maps to specific attributes in the WMTS GetCapabilities response
returned by the server. See <a class="reference external" href="https://www.ogc.org/standards/wmts">OGC WMTS Docs</a> for more on WMTS.
The entire MapCache metadata section is optional.</p>
<ul>
<li><p><strong>&lt;metadata&gt;</strong>:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The first set of elements is for <strong>metadata about this specific server</strong>. These
elements will appear in the <strong>&lt;ows:ServiceIdentification&gt;</strong> section of the
WMTS GetCapabilities response. Elements in this group include: <em>title,
abstract, keyword, fees, and accessconstraints</em>.</p>
</div>
<ul>
<li><p><strong>&lt;title&gt;</strong>: Title of this resource, normally used for display to humans.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;title&gt;</span>World<span class="w"> </span>example<span class="w"> </span>Web<span class="w"> </span>Map<span class="w"> </span>Tile<span class="w"> </span>Services<span class="nt">&lt;/title&gt;</span>
</pre></div>
</div>
</li>
<li><p><strong>&lt;abstract&gt;</strong>: Brief narrative description of this resource, normally
used for display to humans.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;abstract&gt;</span>Example<span class="w"> </span>service<span class="w"> </span>that<span class="w"> </span>contains<span class="w"> </span>tiles<span class="w"> </span>of<span class="w"> </span>some<span class="w"> </span>world<span class="w"> </span>layers<span class="nt">&lt;/abstract&gt;</span>
</pre></div>
</div>
</li>
<li><p><strong>&lt;keyword&gt;</strong>: Commonly used or formalised word(s) or phrase(s) used to
describe the subject. Multiple allowed, will appear under <strong>&lt;ows:Keywords&gt;</strong>.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;keyword&gt;</span>Administrative<span class="w"> </span>Boundaries<span class="nt">&lt;/keyword&gt;</span>
<span class="nt">&lt;keyword&gt;</span>Geography<span class="nt">&lt;/keyword&gt;</span>
</pre></div>
</div>
</li>
<li><p><strong>&lt;fees&gt;</strong>: Statement of fess required to use this service.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;fees&gt;</span>No<span class="w"> </span>fees<span class="w"> </span>for<span class="w"> </span>this<span class="w"> </span>service<span class="nt">&lt;/fees&gt;</span>
</pre></div>
</div>
</li>
<li><p><strong>&lt;accessconstraints&gt;</strong>: Statement of fees required to use this service.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;accessconstraints&gt;</span>No<span class="w"> </span>fees<span class="w"> </span>for<span class="w"> </span>this<span class="w"> </span>service<span class="nt">&lt;/accessconstraints&gt;</span>
</pre></div>
</div>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The second set of elements is for <strong>metadata about the organization operating this server</strong>. These
elements will appear in the <strong>&lt;ows:ServiceProvider&gt;</strong> section of the WMTS GetCapabilities
response. Elements in this group include: <em>providername, providerurl, contactcity, contactstateorprovince,
contactpostcode, contactcountry, contactelectronicmailaddres, contactname, contactposition, contactphone,
and contactfacsimile</em>.</p>
</div>
<ul>
<li><p><strong>&lt;providername&gt;</strong>: A unique identifier for the service provider organization.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;providername&gt;</span>Facultat<span class="w"> </span>de<span class="w"> </span>Ciències<span class="w"> </span>-<span class="w"> </span>UAB<span class="w"> </span>-<span class="w"> </span>CREAF-MiraMon<span class="nt">&lt;/providername&gt;</span>
</pre></div>
</div>
</li>
<li><p><strong>&lt;providerurl&gt;</strong>: Reference to the most relevant web site of the service provider.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;providerurl&gt;</span>https://www.creaf.uab.cat/miramon<span class="nt">&lt;/providerurl&gt;</span>
</pre></div>
</div>
</li>
<li><p><strong>&lt;contactorganization&gt;</strong>: Address line for the location. FYI: This MapCache metadata element is very poorly named, and maps to <strong>&lt;ows:DeliveryPoint&gt;</strong>.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;contactorganization&gt;</span>Av.<span class="w"> </span>de<span class="w"> </span>Can<span class="w"> </span>Domènech<span class="w"> </span>-<span class="w"> </span>Edifici<span class="w"> </span>F<span class="nt">&lt;/contactorganization&gt;</span>
</pre></div>
</div>
</li>
<li><p><strong>&lt;contactcity&gt;</strong>: City of the location of the service provider.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;contactcity&gt;</span>Bellaterra<span class="nt">&lt;/contactcity&gt;</span>
</pre></div>
</div>
</li>
<li><p><strong>&lt;contactstateorprovince&gt;</strong>: State or Province of the location of the service provider.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;contactstateorprovince&gt;</span>Barcelona<span class="nt">&lt;/contactstateorprovince&gt;</span>
</pre></div>
</div>
</li>
<li><p><strong>&lt;contactpostcode&gt;</strong>: Zip or other postal code of the service provider.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;contactpostcode&gt;</span>08193<span class="nt">&lt;/contactpostcode&gt;</span>
</pre></div>
</div>
</li>
<li><p><strong>&lt;contactcountry&gt;</strong>: Country of the physical address of the service provider.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;contactcountry&gt;</span>Spain<span class="nt">&lt;/contactcountry&gt;</span>
</pre></div>
</div>
</li>
<li><p><strong>&lt;contactelectronicmailaddres&gt;</strong>: Address of the electronic mailbox of the responsible organization or individual.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;contactelectronicmailaddres&gt;</span>joan.maso@uab.cat<span class="nt">&lt;/contactelectronicmailaddres&gt;</span>
</pre></div>
</div>
</li>
<li><p><strong>&lt;contactname&gt;</strong>: Name of the responsible person.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;contactname&gt;</span>Joan<span class="w"> </span>Maso<span class="w"> </span>Pau<span class="nt">&lt;/contactname&gt;</span>
</pre></div>
</div>
</li>
<li><p><strong>&lt;contactposition&gt;</strong>: Role or position of the responsible person.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;contactposition&gt;</span>Senior<span class="w"> </span>Software<span class="w"> </span>Engineer<span class="nt">&lt;/contactposition&gt;</span>
</pre></div>
</div>
</li>
<li><p><strong>&lt;contactphone&gt;</strong>: Telephone number by which individuals can speak to the responsible organization or individual.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;contactphone&gt;</span>+34<span class="w"> </span>93<span class="w"> </span>581<span class="w"> </span>1312<span class="nt">&lt;/contactphone&gt;</span>
</pre></div>
</div>
</li>
<li><p><strong>&lt;contactfacsimile&gt;</strong>: Telephone number of a facsimile machine for the responsible organization or individual.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;contactfacsimile&gt;</span>+34<span class="w"> </span>93<span class="w"> </span>581<span class="w"> </span>4151<span class="nt">&lt;/contactfacsimile&gt;</span>
</pre></div>
</div>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The next set of elements is specific to <strong>metadata for INSPIRE</strong>. Elements in this group
include: <em>inspire_profile, inspire_metadataurl, defaultlanguage</em>.</p>
</div>
<ul>
<li><p><strong>&lt;inspire_profile&gt;</strong>: Enables INSPIRE extended capabilities. Required for other INSPIRE elements to work.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;inspire_profile/&gt;</span>
</pre></div>
</div>
</li>
<li><p><strong>&lt;inspire_metadataurl&gt;</strong>: External XML document or service that provides such an XML document containing metadata for the service.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;inspire_metadataurl&gt;</span>http://www.creaf.uab.cat/miramon/pycsw?SERVICE=CSW<span class="nt">&lt;/inspire_metadataurl&gt;</span>
</pre></div>
</div>
</li>
<li><p><strong>&lt;defaultlanguage&gt;</strong>:  The default language of the service.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;defaultlanguage&gt;</span>eng<span class="nt">&lt;/defaultlanguage&gt;</span>
</pre></div>
</div>
</li>
</ul>
</li>
</ul>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p>
<a href="../about.html" title="About">About</a><br>
<a href="../products.html" title="Products">Products</a><br>
<a href="../community/index.html" title="Community">Community</a><br>
<a href="../development/index.html" title="Development">Development</a><br>
<a href="../download.html" title="Downloads">Downloads</a><br>
<a href="../documentation.html" title="Documentation">Documentation</a><br>
<a href="../faq.html" title="FAQ">FAQ</a><br>
<a href="../psc.html" title="PSC">PSC</a><br>
<a href="https://twitter.com/mapserver_osgeo" title="Twitter">Twitter</a>
</p>
  <h3>Current Table Of Contents</h3>
  <ul>
<li><a class="reference internal" href="#">Configuration File</a><ul>
<li><a class="reference internal" href="#source">Source</a></li>
<li><a class="reference internal" href="#cache">Cache</a></li>
<li><a class="reference internal" href="#format">Format</a></li>
<li><a class="reference internal" href="#grid">Grid</a><ul>
<li><a class="reference internal" href="#mandatory-configuration-options">Mandatory Configuration Options</a></li>
<li><a class="reference internal" href="#optional-configuration-options">Optional Configuration Options</a></li>
<li><a class="reference internal" href="#preconfigured-grids">Preconfigured Grids</a></li>
</ul>
</li>
<li><a class="reference internal" href="#tileset">Tileset</a></li>
<li><a class="reference internal" href="#services">Services</a></li>
<li><a class="reference internal" href="#ruleset">Ruleset</a></li>
<li><a class="reference internal" href="#miscellaneous">Miscellaneous</a></li>
<li><a class="reference internal" href="#metadata">Metadata</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="services.html" title="Supported Tile Services"
             >next</a> |</li>
        <li class="right" >
          <a href="install.html" title="Compilation &amp; Installation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >MapServer 8.0.1 Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >MapCache 1.14.0</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Configuration File</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; <a href="../copyright.html">Copyright</a> 2023, Open Source Geospatial Foundation.
      Last updated on 2023-12-22.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.5.
    </div>
  </body>
</html>