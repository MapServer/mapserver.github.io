<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Tileset Dimensions &#8212; MapServer 8.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx.css?v=6c7b17ac" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=dd298242" />
    <link rel="stylesheet" type="text/css" href="../_static/ribbon.css?v=ea091bf4" />
    
    <script src="../_static/documentation_options.js?v=521b6f53"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="icon" href="../_static/mapserver.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="HTTP Requests" href="http.html" />
    <link rel="prev" title="Image Formats" href="formats.html" /> 
  </head><body>


<!-- for main branch only, do not backport this -->

<table width="100%" style="width: 100%; background-color: white;">
  <tr>
    <td rowspan="2" style="padding: 10px 0px 10px 10px;">
      <a href="../index.html" title="Home"><img src="../_static/banner.png" alt="MapServer banner" border="0" /></a>
    </td>
    <td style="padding: 10px 10px 0px 0px; text-align: right; vertical-align: top;">
      <a href="../index.html" title="Home">Home</a> |
      <a href="../products.html" title="Products (MapServer core, MapCache, TinyOWS">Products</a> |
      <a href="https://github.com/mapserver/mapserver/issues/" title="Issue Tracker (MapServer core)">Issue Tracker</a> |
      <a href="../community/service_providers.html" title="Professional Service Providers">Service Providers</a> |      
      <a href="../faq.html" title="Frequently Asked Questions">FAQ</a> |
      <a href="https://twitter.com/mapserver_osgeo" title="Twitter" target="_blank">Twitter</a> |
      <a href="../download.html" title="Download Source or Binaries">Download </a> |
      <a class="badge" href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=KRJ2X44N3HA6U&source=url" target="_blank">
        <img src="https://img.shields.io/badge/donate-%E2%9D%A4%C2%A0-ff69b4.svg?style=flat" alt="Donate to MapServer">
      </a>
    </td>
  </tr>
  <tr>
    <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
        <img src="../_static/flagicons/en.png" alt="en" title="en" border="0" width="18px" height="13px"/>
        
          <a href="../ar/mapcache/dimensions.html"><img src="../_static/flagicons/ar.png" alt="ar" title="ar" border="0" /></a>
        
        
          <a href="../de/mapcache/dimensions.html"><img src="../_static/flagicons/de.png" alt="de" title="de" border="0" /></a>
        
        
          <a href="../el/mapcache/dimensions.html"><img src="../_static/flagicons/el.png" alt="el" title="el" border="0" /></a>
        
        
          <a href="../es/mapcache/dimensions.html"><img src="../_static/flagicons/es.png" alt="es" title="es" border="0" /></a>
        
        
          <a href="../fr/mapcache/dimensions.html"><img src="../_static/flagicons/fr.png" alt="fr" title="fr" border="0" /></a>
        
        
          <a href="../id/mapcache/dimensions.html"><img src="../_static/flagicons/id.png" alt="id" title="id" border="0" /></a>
        
        
          <a href="../it/mapcache/dimensions.html"><img src="../_static/flagicons/it.png" alt="it" title="it" border="0" /></a>
        
        
          <a href="../ja/mapcache/dimensions.html"><img src="../_static/flagicons/ja.png" alt="ja" title="ja" border="0" /></a>
        
        
          <a href="../nl_NL/mapcache/dimensions.html"><img src="../_static/flagicons/nl_NL.png" alt="nl_NL" title="nl_NL" border="0" /></a>
        
        
          <a href="../pl/mapcache/dimensions.html"><img src="../_static/flagicons/pl.png" alt="pl" title="pl" border="0" /></a>
        
        
          <a href="../ru/mapcache/dimensions.html"><img src="../_static/flagicons/ru.png" alt="ru" title="ru" border="0" /></a>
        
        
          <a href="../sq/mapcache/dimensions.html"><img src="../_static/flagicons/sq.png" alt="sq" title="sq" border="0" /></a>
        
        
          <a href="../tr/mapcache/dimensions.html"><img src="../_static/flagicons/tr.png" alt="tr" title="tr" border="0" /></a>
        

    </td>
  </tr>
</table>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="http.html" title="HTTP Requests"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="formats.html" title="Image Formats"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >MapServer 8.0.1 Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">MapCache 1.14.0</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Tileset Dimensions</a></li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="tileset-dimensions">
<span id="mapcache-dimensions"></span><h1><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Tileset Dimensions</a><a class="headerlink" href="#tileset-dimensions" title="Link to this heading">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Author<span class="colon">:</span></dt>
<dd class="field-odd"><p>Thomas Bonfort</p>
</dd>
<dt class="field-even">Contact<span class="colon">:</span></dt>
<dd class="field-even"><p>tbonfort at terriscope.fr</p>
</dd>
<dt class="field-odd">Author<span class="colon">:</span></dt>
<dd class="field-odd"><p>Seth Girvin</p>
</dd>
<dt class="field-even">Contact<span class="colon">:</span></dt>
<dd class="field-even"><p>sgirvin at compass.ie</p>
</dd>
<dt class="field-odd">Author<span class="colon">:</span></dt>
<dd class="field-odd"><p>Jerome Boue</p>
</dd>
<dt class="field-even">Last Updated<span class="colon">:</span></dt>
<dd class="field-even"><p>2020-05-25</p>
</dd>
</dl>
<nav class="contents" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#tileset-dimensions" id="id2">Tileset Dimensions</a></p>
<ul>
<li><p><a class="reference internal" href="#introduction" id="id3">Introduction</a></p></li>
<li><p><a class="reference internal" href="#enabling-dimension-support-in-mapcache" id="id4">Enabling Dimension Support in MapCache</a></p></li>
<li><p><a class="reference internal" href="#first-level-dimensions" id="id5">First Level Dimensions</a></p></li>
<li><p><a class="reference internal" href="#second-level-dimensions" id="id6">Second Level Dimensions</a></p></li>
<li><p><a class="reference internal" href="#storing-dimensions" id="id7">Storing Dimensions</a></p></li>
<li><p><a class="reference internal" href="#accessing-tile-caches-with-dimensions" id="id8">Accessing Tile Caches with Dimensions</a></p></li>
<li><p><a class="reference internal" href="#seeding-tile-caches-with-dimensions" id="id9">Seeding Tile Caches with Dimensions</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="introduction">
<h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Introduction</a><a class="headerlink" href="#introduction" title="Link to this heading">¶</a></h2>
<p>WMS layers in MapServer can support dimensions, see <a class="reference internal" href="../ogc/wms_dimension.html#wms-dimension"><span class="std std-ref">WMS Dimension</span></a> for details.
MapCache also supports dimensions for tilesets.</p>
<p>Storing separate tile caches for different dimensions has several practical use cases such as creating caches for different
spatial boundaries, elevations, or time periods. It also provides a mechanism for dynamically switching Mapfiles based on a dimension value.</p>
<p>MapCache uses Dimensions to:</p>
<blockquote>
<div><ul class="simple">
<li><p>create the directory structure of disk and SQLite caches, using the
template structure with <cite>{dim}</cite> replacement entry, see
<em>Template Structure</em> in <a class="reference internal" href="caches.html#mapcache-cache-disk"><span class="std std-ref">Disk Caches</span></a> and
<em>Using Multiple SQLite Database Files</em> in <a class="reference internal" href="caches.html#mapcache-cache-sqlite"><span class="std std-ref">SQLite Caches</span></a>.</p></li>
<li><p>create the database structure of SQLite caches, using custom schema with
<cite>:dim</cite> replacement entry, see <em>Custom Schema</em> in
<a class="reference internal" href="caches.html#mapcache-cache-sqlite"><span class="std std-ref">SQLite Caches</span></a>.</p></li>
<li><p>build requests to WMS sources: any dimensions specified for a tileset will
be forwarded on to their WMS source whenever a cache miss occurs.</p></li>
</ul>
</div></blockquote>
</section>
<section id="enabling-dimension-support-in-mapcache">
<h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Enabling Dimension Support in MapCache</a><a class="headerlink" href="#enabling-dimension-support-in-mapcache" title="Link to this heading">¶</a></h2>
<p>Dimensions are enabled in the configuration file at the
<a class="reference internal" href="config.html#mapcache-config-tileset"><span class="std std-ref">Tileset</span></a> level. Each tileset may define its own
dimensions with a <cite>&lt;dimensions&gt;</cite> section which includes one or several
<cite>&lt;dimension&gt;</cite> elements.</p>
<section id="dimension-attributes">
<h3>Dimension Attributes<a class="headerlink" href="#dimension-attributes" title="Link to this heading">¶</a></h3>
<p>Several attributes are defined for the <cite>&lt;dimension&gt;</cite> element.</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>name</cite> (required): The name by which the dimension is referred to in a WMS
request (minus the <cite>dim_</cite> prefix as specified in
<a class="reference external" href="https://portal.ogc.org/files/?artifact_id=1081&amp;version=1&amp;format=pdf">WMS 1.1.1 Specification</a>).</p></li>
<li><p><cite>default</cite> (required): The default value for the dimension if none is
explicitly provided in the WMS request.</p></li>
<li><p><cite>type</cite> (required): MapCache defines several ways for specifying a
dimension: <cite>values</cite>, <cite>regex</cite>, <cite>sqlite</cite>, <cite>postgresql</cite>,
<cite>elasticsearch</cite> and <cite>time</cite>. They are described in the following
sections.</p></li>
<li><p><cite>unit</cite> (optional): dimension unit. This information is used only in the
GetCapabilities response.</p></li>
</ul>
</div></blockquote>
</section>
<section id="dimension-types">
<h3>Dimension Types<a class="headerlink" href="#dimension-types" title="Link to this heading">¶</a></h3>
<p>Several types of dimensions are supported by MapCache: Values, Regex, SQLite,
PostgreSQL, ElasticSearch and Time. They can be classified into two groups
depending on how dimension values are defined:</p>
<blockquote>
<div><ul class="simple">
<li><p>First level dimension types: Values and Regex. Dimensions values are
statically specified in the configuration file.</p></li>
<li><p>Second level dimensions types: SQLite, PostgreSQL, ElasticSearch and Time.
Dimensions values are stored in a dynamic backend (SQLite file, PostgreSQL
database or ElasticSearch index) so that an update in the dimension values
does not involve a server restart.</p></li>
</ul>
</div></blockquote>
</section>
</section>
<section id="first-level-dimensions">
<h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">First Level Dimensions</a><a class="headerlink" href="#first-level-dimensions" title="Link to this heading">¶</a></h2>
<p>First level dimensions define values in the configuration file.</p>
<section id="values-dimensions">
<h3>Values Dimensions<a class="headerlink" href="#values-dimensions" title="Link to this heading">¶</a></h3>
<p>A Values type dimension lists all possible dimension values. The name of the dimension is used as the key in a query string when accessing
through a WMS or WMTS service, for example <cite>&amp;DIM1=foobarbaz</cite>.</p>
<p>If a client does not provide the dimension as a key value pair the default will be used (in this example <cite>foobar</cite>).</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;tileset</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;LayerName&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;source&gt;</span>LayerSource<span class="nt">&lt;/source&gt;</span>
<span class="w">    </span><span class="nt">&lt;cache&gt;</span>sqlite<span class="nt">&lt;/cache&gt;</span>
<span class="w">    </span><span class="nt">&lt;grid&gt;</span>GoogleMapsCompatible<span class="nt">&lt;/grid&gt;</span>
<span class="w">    </span><span class="nt">&lt;format&gt;</span>PNG<span class="nt">&lt;/format&gt;</span>
<span class="w">    </span><span class="nt">&lt;metatile&gt;</span>5<span class="w"> </span>5<span class="nt">&lt;/metatile&gt;</span>
<span class="w">    </span><span class="nt">&lt;metabuffer&gt;</span>10<span class="nt">&lt;/metabuffer&gt;</span>
<span class="w">    </span><span class="nt">&lt;dimensions&gt;</span>
<span class="w">        </span><span class="nt">&lt;dimension</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;values&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;DIM1&quot;</span><span class="w"> </span><span class="na">default=</span><span class="s">&quot;foobar&quot;</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;value&gt;</span>foobar<span class="nt">&lt;/value&gt;</span>
<span class="w">            </span><span class="nt">&lt;value&gt;</span>foobarbaz<span class="nt">&lt;/value&gt;</span>
<span class="w">            </span><span class="nt">&lt;value&gt;</span>foo<span class="nt">&lt;/value&gt;</span>
<span class="w">            </span><span class="nt">&lt;value&gt;</span>bar<span class="nt">&lt;/value&gt;</span>
<span class="w">        </span><span class="nt">&lt;/dimension&gt;</span>
<span class="w">    </span><span class="nt">&lt;/dimensions&gt;</span>
<span class="nt">&lt;/tileset&gt;</span>
</pre></div>
</div>
</section>
<section id="regex-dimensions">
<h3>Regex Dimensions<a class="headerlink" href="#regex-dimensions" title="Link to this heading">¶</a></h3>
<p>An alternative to the hard-coded list of values is to use regular expressions.</p>
<p>The following example creates a MAPFILE dimension, for using the same MapCache tileset with different MapServer
Mapfiles. The name of the Mapfiles need not be known to MapCache, and can therefore be created even after MapCache has been started.</p>
<p>When a user passes a <cite>MAPFILE=/path/to/mapfile</cite>, the string <cite>/path/to/mapfile</cite> is validated against
the supplied (PCRE) regular expression. The one in this example allows a name composed of alphanumeric characters
separated by slashes (/) and finishing with “.map” ( [a-zA-Z0-9./]*.map$ ) , but will fail if there
are two consecutive dots (..) in the path, to prevent file-system traversal.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;dimension</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;regex&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;MAPFILE&quot;</span><span class="w"> </span><span class="na">default=</span><span class="s">&quot;/path/to/mapfile.map&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;regex&gt;</span>^(?!.*\.\.)[a-zA-Z0-9\./]*\.map$<span class="nt">&lt;/regex&gt;</span>
<span class="nt">&lt;/dimension&gt;</span>
</pre></div>
</div>
</section>
</section>
<section id="second-level-dimensions">
<span id="mapcache-dimensions-second-level"></span><h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Second Level Dimensions</a><a class="headerlink" href="#second-level-dimensions" title="Link to this heading">¶</a></h2>
<p>Second level dimensions store values in a dynamic back-end, a SQLite file, a
PostgreSQL database or an ElasticSearch index. This allows for adding new
dimension values without modifying MapCache configuration file, which otherwise
would need to restart the server.</p>
<section id="sqlite-dimensions">
<h3>SQLite Dimensions<a class="headerlink" href="#sqlite-dimensions" title="Link to this heading">¶</a></h3>
<p>In a SQLite dimension, dimension values are stored in a SQLite file. Moreover,
each value references a list of internal, or sub-dimension values which are
used to query cache.</p>
<p>For example, let’s define a “sensor” dimension whose allowed values represent
various Earth observation spacecrafts. A WMS request with that dimension may
contain, e.g.: <cite>…&amp;dim_sensor=spot&amp;…</cite> In this example, each sensor
references several data along an internal “product” sub-dimension. An example
of the “sensor” dimension back-end contents is represented in the following
table:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Sensor dimension</p></th>
<th class="head"><p>Product sub-dimension</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>spot</p></td>
<td><p>spot-img1</p></td>
</tr>
<tr class="row-odd"><td><p>spot</p></td>
<td><p>spot-img2</p></td>
</tr>
<tr class="row-even"><td><p>phr</p></td>
<td><p>phr-img1</p></td>
</tr>
<tr class="row-odd"><td><p>phr</p></td>
<td><p>phr-img2</p></td>
</tr>
<tr class="row-even"><td><p>phr</p></td>
<td><p>phr-img3</p></td>
</tr>
</tbody>
</table>
<p>The WMS request occurs at the “sensor” dimension level. The cache query is
performed at the “product” sub-dimension level. In case of a cache miss, the
“product” sub-dimension values are used to query the data source.</p>
<p>Querying the back-end may then result in returning multiple sub-dimension
values, each of which referencing distinct tiles. Assembling these tiles is
described in <a class="reference internal" href="#tile-assembly-policies">Tile Assembly Policies</a> section below.</p>
<p>A SQLite dimension is configured by specifying three elements:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>&lt;dbfile&gt;</cite>: Location of the SQLite file implementing the dimension</p></li>
<li><p><cite>&lt;list_query&gt;</cite>: SQL query returning all sub-dimension values for the
dimension, e.g. <strong>spot-img1</strong>, <strong>spot-img2</strong>, <strong>phr-img1</strong>, <strong>phr-img2</strong>
and  <strong>phr-img3</strong> in the “sensor” dimension example.</p></li>
<li><p><cite>&lt;validate_query&gt;</cite>: SQL query returning the list of sub-dimension values
for a given dimension value, e.g. <strong>spot-img1</strong> and <strong>spot-img2</strong> for the
<strong>spot</strong> dimension value in the “sensor” dimension example.</p></li>
</ul>
</div></blockquote>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cm">&lt;!-- &quot;sqlite&quot; dimension</span>

<span class="cm">     This example defines a &quot;sensor&quot; dimension whose possible values are</span>
<span class="cm">     stored in the /data/sensor.sqlite SQLite file. The default value is</span>
<span class="cm">     &quot;phr&quot;.</span>

<span class="cm">     A WMS request with that dimension may contain, e.g.</span>
<span class="cm">     &quot;... &amp;dim_sensor=spot&amp; ...&quot;</span>
<span class="cm">--&gt;</span>
<span class="nt">&lt;dimension</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;sqlite&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;sensor&quot;</span><span class="w"> </span><span class="na">default=</span><span class="s">&quot;phr&quot;</span><span class="nt">&gt;</span>

<span class="w">   </span><span class="cm">&lt;!-- Access Point --&gt;</span>
<span class="w">   </span><span class="nt">&lt;dbfile&gt;</span>/data/sensor.sqlite<span class="nt">&lt;/dbfile&gt;</span>

<span class="w">   </span><span class="cm">&lt;!-- All-values Query --&gt;</span>
<span class="w">   </span><span class="nt">&lt;list_query&gt;</span>
<span class="w">      </span>SELECT<span class="w"> </span>distinct(product)<span class="w"> </span>FROM<span class="w"> </span>dim
<span class="w">   </span><span class="nt">&lt;/list_query&gt;</span>

<span class="w">   </span><span class="cm">&lt;!-- Selected-values Query --&gt;</span>
<span class="w">   </span><span class="nt">&lt;validate_query&gt;</span>
<span class="w">      </span>SELECT<span class="w"> </span>product<span class="w"> </span>FROM<span class="w"> </span>dim
<span class="w">       </span>WHERE<span class="w"> </span>sensor=:dim
<span class="w">   </span><span class="nt">&lt;/validate_query&gt;</span>

<span class="nt">&lt;/dimension&gt;</span>
</pre></div>
</div>
<p>As illustrated in this example with <cite>:dim</cite> placeholder, queries can contain
template entries. See <a class="reference internal" href="#templating-dimension-queries">Templating dimension queries</a> section below.</p>
</section>
<section id="postgresql-dimensions">
<h3>PostgreSQL Dimensions<a class="headerlink" href="#postgresql-dimensions" title="Link to this heading">¶</a></h3>
<p>PostgreSQL dimensions are very similar to SQLite dimensions. In particular, the
sub-dimension feature described in the section above is also available with
PostgreSQL dimensions. They differ only in the back-end implementation which is
a PostgreSQL database, and in the way they are configured. A PostgreSQL
dimension is configured by specifying three elements:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>&lt;connection&gt;</cite>: Connection information of the PostgreSQL database
implementing the dimension, as expected by the <a class="reference external" href="https://www.postgresql.org/docs/current/static/libpq-connect.html#id-1.7.3.8.2.12.2.1.2">PQconnectdb()</a>
function of the libpq - C library.</p></li>
<li><p><cite>&lt;list_query&gt;</cite>: SQL query returning all sub-dimension values for the
dimension, e.g. <strong>spot-img1</strong>, <strong>spot-img2</strong>, <strong>phr-img1</strong>, <strong>phr-img2</strong>
and  <strong>phr-img3</strong> in the “sensor” dimension example.</p></li>
<li><p><cite>&lt;validate_query&gt;</cite>: SQL query returning the list of sub-dimension values
for a given dimension value, e.g. <strong>spot-img1</strong> and <strong>spot-img2</strong> for the
<strong>spot</strong> dimension value in the “sensor” dimension example.</p></li>
</ul>
</div></blockquote>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cm">&lt;!-- &quot;postgresql&quot; dimension</span>

<span class="cm">     This example defines a &quot;sensor&quot; dimension whose possible values are</span>
<span class="cm">     stored in the postgresql://mapcache:mapcache@localhost:5433/mapcache</span>
<span class="cm">     PostgreSQL database. The default value is &quot;phr&quot;.</span>

<span class="cm">     A WMS request with that dimension may contain, e.g.</span>
<span class="cm">     &quot;... &amp;dim_sensor=spot&amp; ...&quot;</span>
<span class="cm">--&gt;</span>
<span class="nt">&lt;dimension</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;postgresql&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;sensor&quot;</span><span class="w"> </span><span class="na">default=</span><span class="s">&quot;phr&quot;</span><span class="nt">&gt;</span>

<span class="w">   </span><span class="cm">&lt;!-- Access Point --&gt;</span>
<span class="w">  </span><span class="nt">&lt;connection&gt;</span>
<span class="w">    </span>host=localhost<span class="w"> </span>user=mapcache<span class="w"> </span>password=mapcache<span class="w"> </span>dbname=mapcache<span class="w"> </span>port=5433
<span class="w">  </span><span class="nt">&lt;/connection&gt;</span>

<span class="w">   </span><span class="cm">&lt;!-- All-values Query --&gt;</span>
<span class="w">  </span><span class="nt">&lt;list_query&gt;</span>SELECT<span class="w"> </span>distinct(product)<span class="w"> </span>FROM<span class="w"> </span>dim<span class="nt">&lt;/list_query&gt;</span>

<span class="w">   </span><span class="cm">&lt;!-- Selected-values Query --&gt;</span>
<span class="w">  </span><span class="nt">&lt;validate_query&gt;</span>SELECT<span class="w"> </span>product<span class="w"> </span>FROM<span class="w"> </span>dim<span class="w"> </span>WHERE<span class="w"> </span>sensor=:dim<span class="nt">&lt;/validate_query&gt;</span>

<span class="nt">&lt;/dimension&gt;</span>
</pre></div>
</div>
<p>As illustrated in this example with <cite>:dim</cite> placeholder, queries can contain
template entries. See <a class="reference internal" href="#templating-dimension-queries">Templating dimension queries</a> section below.</p>
</section>
<section id="elasticsearch-dimensions">
<h3>ElasticSearch Dimensions<a class="headerlink" href="#elasticsearch-dimensions" title="Link to this heading">¶</a></h3>
<p>ElasticSearch dimensions are similar to SQLite or PostgreSQL dimensions. In
particular, the sub-dimension feature described in the section above is also
available with ElasticSearch dimensions. ElasticSearch main difference with
SQLite and PostgreSQL is its query language, Query-DSL, based on JSON instead
of SQL. Therefore, <cite>&lt;list_query&gt;</cite> and <cite>&lt;validate_query&gt;</cite> elements shall
contain queries expressed in that language. Inserting JSON data in XML
configuration may need to encapsulate it in a <cite>&lt;![CDATA[ … ]]&gt;</cite> element.</p>
<p>In addition, the complex structure of ElasticSearch responses, also expressed
in JSON, raises the need for extraction instructions to get sub-dimension
values from query responses.</p>
<p>For example, let’s assume that this ElasticSearch query:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w">   </span><span class="nt">&quot;size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;aggs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;distinct_product&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;terms&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;field&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;product/keyword&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;query&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;term&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;sensor&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;phr&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>returns this response:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w">   </span><span class="nt">&quot;took&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;timed_out&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;_shards&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;total&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;successful&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;skipped&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;failed&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;hits&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;total&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;max_score&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;hits&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;aggregations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;distinct_product&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;doc_count_error_upper_bound&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;sum_other_doc_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;buckets&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;phr_img1&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;doc_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">},</span>
<span class="w">                </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;phr_img2&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;doc_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">},</span>
<span class="w">                </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;phr_img3&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;doc_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">}</span>
<span class="w">            </span><span class="p">]</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The expected sub-dimension values are then:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="w"> </span><span class="s2">&quot;phr_img1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;phr_img2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;phr_img3&quot;</span><span class="w"> </span><span class="p">]</span>
</pre></div>
</div>
<p>This list is obtained by extracting the <cite>aggregations</cite> item from the outer
dictionary, then <cite>distinct_product</cite> , then <cite>buckets</cite>. Finally the <cite>key</cite>
item is to be extracted from each dictionary of the <cite>bucket</cite> list. The
extraction instructions take the form of a path-like list of keywords to be
used to extract sub-dimension values from JSON response provided by
ElasticSearch:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="w"> </span><span class="s2">&quot;aggregations&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;distinct_product&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;buckets&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;key&quot;</span><span class="w"> </span><span class="p">]</span>
</pre></div>
</div>
<p>This is specified in the MapCache configuration file by way of new XML
elements, namely  <cite>&lt;list_response&gt;</cite> and <cite>&lt;validate_response&gt;</cite>, containing
extraction instructions respectively for <cite>&lt;list_query&gt;</cite> and
<cite>&lt;validate_query&gt;</cite> queries.</p>
<p>An ElasticSearch dimensions is defined by specifying five elements:</p>
<blockquote>
<div><ul>
<li><p><cite>&lt;http&gt;</cite>: Connection information of the ElasticSearch index implementing
the dimension. This element contains two sub-elements:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>&lt;url&gt;</cite>: Search URL of the ElasticSearch index</p></li>
<li><p><cite>&lt;headers&gt;</cite>: HTTP headers needed to access the ElasticSearch index.
It must contain the tag:
<cite>&lt;Content-Type&gt;application/json&lt;/Content-Type&gt;</cite>.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><cite>&lt;list_query&gt;</cite>: <a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl.html">Query DSL</a> query for getting all sub-dimension values
for the dimension. This query is expressed in JSON format and may need to
be escaped in a <cite>&lt;![CDATA[ … ]]&gt;</cite> tag.</p></li>
<li><p><cite>&lt;validate_query&gt;</cite>: <a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl.html">Query DSL</a> query for getting the list of
sub-dimension values for a given dimension value. This query is expressed
in JSON format and may need to be escaped in a <cite>&lt;![CDATA[ … ]]&gt;</cite> tag.</p></li>
<li><p><cite>&lt;list_response&gt;</cite>: List of successive keywords needed to extract actual
sub-dimension values from the raw ElasticSearch response to the
<cite>&lt;list_query&gt;</cite> query.</p></li>
<li><p><cite>&lt;validate_response&gt;</cite>: List of successive keywords needed to extract
actual sub-dimension values from the raw ElasticSearch response to the
<cite>&lt;validate_query&gt;</cite> query.</p></li>
</ul>
</div></blockquote>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cm">&lt;!-- &quot;elasticsearch&quot; dimension</span>

<span class="cm">     This example defines a &quot;sensor&quot; dimension whose possible values are</span>
<span class="cm">     stored in the http://localhost:9200/sensor ElasticSearch index. The</span>
<span class="cm">     default value is &quot;phr&quot;.</span>

<span class="cm">     A WMS request with that dimension may contain, e.g.</span>
<span class="cm">     &quot;... &amp;dim_sensor=spot&amp; ...&quot;</span>
<span class="cm">--&gt;</span>
<span class="nt">&lt;dimension</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;elasticsearch&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;sensor&quot;</span><span class="w"> </span><span class="na">default=</span><span class="s">&quot;phr&quot;</span><span class="nt">&gt;</span>

<span class="w">  </span><span class="cm">&lt;!-- Access Point --&gt;</span>
<span class="w">  </span><span class="nt">&lt;http&gt;</span>
<span class="w">    </span><span class="nt">&lt;url&gt;</span>http://localhost:9200/sensor/_search<span class="nt">&lt;/url&gt;</span>
<span class="w">    </span><span class="nt">&lt;headers&gt;</span>
<span class="w">      </span><span class="nt">&lt;Content-Type&gt;</span>application/json<span class="nt">&lt;/Content-Type&gt;</span>
<span class="w">    </span><span class="nt">&lt;/headers&gt;</span>
<span class="w">  </span><span class="nt">&lt;/http&gt;</span>

<span class="w">  </span><span class="cm">&lt;!-- Selected-values Query --&gt;</span>
<span class="w">  </span><span class="nt">&lt;validate_query&gt;</span><span class="cp">&lt;![CDATA[</span>
<span class="cp">    { &quot;size&quot;: 0,</span>
<span class="cp">      &quot;aggs&quot;: {</span>
<span class="cp">        &quot;products&quot;: { &quot;terms&quot;: { &quot;field&quot;: &quot;product.keyword&quot; } }</span>
<span class="cp">      },</span>
<span class="cp">      &quot;query&quot;: { &quot;term&quot;: { &quot;sensor&quot;: &quot;:dim&quot; } }</span>
<span class="cp">    }</span>
<span class="cp">  ]]&gt;</span><span class="nt">&lt;/validate_query&gt;</span>

<span class="w">  </span><span class="cm">&lt;!-- Selected-values Response Extration Instructions --&gt;</span>
<span class="w">  </span><span class="nt">&lt;validate_response&gt;</span><span class="cp">&lt;![CDATA[</span>
<span class="cp">    [ &quot;aggregations&quot;, &quot;products&quot;, &quot;buckets&quot;, &quot;key&quot; ]</span>
<span class="cp">  ]]&gt;</span><span class="nt">&lt;/validate_response&gt;</span>

<span class="w">  </span><span class="cm">&lt;!-- All-values Query --&gt;</span>
<span class="w">  </span><span class="nt">&lt;list_query&gt;</span><span class="cp">&lt;![CDATA[</span>
<span class="cp">    { &quot;size&quot;: 0,</span>
<span class="cp">      &quot;aggs&quot;: {</span>
<span class="cp">        &quot;products&quot;: { &quot;terms&quot;: { &quot;field&quot;: &quot;product.keyword&quot; } }</span>
<span class="cp">      }</span>
<span class="cp">    }</span>
<span class="cp">  ]]&gt;</span><span class="nt">&lt;/list_query&gt;</span>

<span class="w">  </span><span class="cm">&lt;!-- All-values Response Extration Instructions --&gt;</span>
<span class="w">  </span><span class="nt">&lt;list_response&gt;</span><span class="cp">&lt;![CDATA[</span>
<span class="cp">    [ &quot;aggregations&quot;, &quot;products&quot;, &quot;buckets&quot;, &quot;key&quot; ]</span>
<span class="cp">  ]]&gt;</span><span class="nt">&lt;/list_response&gt;</span>
<span class="nt">&lt;/dimension&gt;</span>
</pre></div>
</div>
<p>As illustrated in this example with <cite>:dim</cite> placeholder, queries can contain
template entries. See <a class="reference internal" href="#templating-dimension-queries">Templating dimension queries</a> section below.</p>
</section>
<section id="time-dimensions">
<h3>Time Dimensions<a class="headerlink" href="#time-dimensions" title="Link to this heading">¶</a></h3>
<p>MapCache supports WMTS and WMS requests that include a TIME parameter, for both
timestamps and time intervals.  See <a class="reference internal" href="../development/rfc/ms-rfc-96.html#rfc96"><span class="std std-ref">MS RFC 96: Time Dimension Support in
MapCache Tilesets</span></a> initial proposal for further details.</p>
<p>Up to Mapcache 1.6.1, defining a Time dimension involves a SQLite back-end. Two
elements must be provided:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>&lt;dbfile&gt;</cite>: Location of the SQLite file implementing the time dimension</p></li>
<li><p><cite>&lt;query&gt;</cite>: SQL query returning the list of available timestamp values
within a given time interval. In that query, start time and end time are
represented by the respective placeholders <cite>:start_timestamp</cite> and
<cite>:end_time_stamp</cite>. Returned values shall be in <cite>yyyy-mm-ddThh:mm:ssZ</cite>
time format, as specified in <a class="reference external" href="https://tools.ietf.org/html/rfc3339">RFC 3339</a>, but restricted to UTC.</p></li>
</ul>
</div></blockquote>
<p>From MapCache 1.8 on, dynamic back-ends for Time dimensions can be PostgreSQL
databases or ElasticSearch indices in addition to SQLite files. Configuring a
Time dimension with a specific back-end is made by setting a <cite>time=”true”</cite>
attribute within a SQLite, PostgreSQL or ElasticSearch dimension configuration.</p>
<p>Still, MapCache keeps an (almost) backward compatible configuration of Time
dimension with an implicit SQLite back-end. Example in the following section
highlights differences.</p>
<p>Time values used to query the dynamic back-end are expressed in Unix time,
i.e. the number of seconds that have elapsed since January 1, 1970
(midnight UTC). Returned times should be MapServer compatible strings
(see the <a class="reference internal" href="../ogc/wms_time.html#wms-time"><span class="std std-ref">WMS Time documentation</span></a> for details).</p>
<p>Querying the back-end with an interval may result in returning multiple
timestamp values, each of which referencing distinct tiles. Assembling these
tiles is described in <a class="reference internal" href="#tile-assembly-policies">Tile Assembly Policies</a> section below.</p>
<section id="configuring-a-time-dimension-using-a-default-sqlite-back-end">
<h4>Configuring a Time Dimension using a default SQLite back-end<a class="headerlink" href="#configuring-a-time-dimension-using-a-default-sqlite-back-end" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cm">&lt;!-- &quot;time&quot; dimension</span>

<span class="cm">     This example defines a &quot;time&quot; dimension whose possible values</span>
<span class="cm">     are stored in the /path/to/mapcache-time.sqlite SQLite file. The</span>
<span class="cm">     default value is &quot;2010&quot;.</span>

<span class="cm">     A WMS request with that dimension may contain, e.g.  &quot;...</span>
<span class="cm">     &amp;time=1999-08-11T11:03:07Z/2001-09-21T08:17:56Z&amp; ...&quot;</span>
<span class="cm">--&gt;</span>
<span class="nt">&lt;dimension</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;time&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;time&quot;</span><span class="w"> </span><span class="na">default=</span><span class="s">&quot;2010&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;dbfile&gt;</span>/path/to/mapcache-time.sqlite<span class="nt">&lt;/dbfile&gt;</span>
<span class="hll"><span class="w">    </span><span class="nt">&lt;query&gt;</span>
</span><span class="w">         </span>SELECT<span class="w"> </span>strftime(&quot;%Y-%m-%dT%H:%M:%SZ&quot;,ts)<span class="w"> </span>FROM<span class="w"> </span>time
<span class="w">          </span>WHERE<span class="w"> </span>ts<span class="w"> </span><span class="ni">&amp;gt;</span>=<span class="w"> </span>datetime(:start_timestamp,&quot;unixepoch&quot;)
<span class="w">            </span>AND<span class="w"> </span>ts<span class="w"> </span><span class="ni">&amp;lt;</span>=<span class="w"> </span>datetime(:end_timestamp,&quot;unixepoch&quot;)
<span class="w">       </span>ORDER<span class="w"> </span>BY<span class="w"> </span>ts<span class="w"> </span>DESC
<span class="hll"><span class="w">    </span><span class="nt">&lt;/query&gt;</span>
</span>
<span class="nt">&lt;/dimension&gt;</span>
</pre></div>
</div>
</td>
<td><div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cm">&lt;!-- &quot;time&quot; dimension</span>

<span class="cm">     This example defines a &quot;time&quot; dimension whose possible values</span>
<span class="cm">     are stored in the /path/to/mapcache-time.sqlite SQLite file. The</span>
<span class="cm">     default value is &quot;2010&quot;.</span>

<span class="cm">     A WMS request with that dimension may contain, e.g.  &quot;...</span>
<span class="cm">     &amp;time=1999-08-11T11:03:07Z/2001-09-21T08:17:56Z&amp; ...&quot;</span>
<span class="cm">--&gt;</span>
<span class="nt">&lt;dimension</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;time&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;time&quot;</span><span class="w"> </span><span class="na">default=</span><span class="s">&quot;2010&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;dbfile&gt;</span>/path/to/mapcache-time.sqlite<span class="nt">&lt;/dbfile&gt;</span>
<span class="hll"><span class="w">    </span><span class="nt">&lt;validate_query&gt;</span>
</span><span class="w">         </span>SELECT<span class="w"> </span>strftime(&quot;%Y-%m-%dT%H:%M:%SZ&quot;,ts)<span class="w"> </span>FROM<span class="w"> </span>time
<span class="w">          </span>WHERE<span class="w"> </span>ts<span class="w"> </span><span class="ni">&amp;gt;</span>=<span class="w"> </span>datetime(:start_timestamp,&quot;unixepoch&quot;)
<span class="w">            </span>AND<span class="w"> </span>ts<span class="w"> </span><span class="ni">&amp;lt;</span>=<span class="w"> </span>datetime(:end_timestamp,&quot;unixepoch&quot;)
<span class="w">       </span>ORDER<span class="w"> </span>BY<span class="w"> </span>ts<span class="w"> </span>DESC
<span class="hll"><span class="w">    </span><span class="nt">&lt;/validate_query&gt;</span>
</span><span class="hll"><span class="w">    </span><span class="nt">&lt;list_query&gt;</span>SELECT<span class="w"> </span>strftime(&quot;%Y-%m-%dT%H:%M:%SZ&quot;,<span class="w"> </span>ts)<span class="w"> </span>FROM<span class="w"> </span>time<span class="nt">&lt;/list_query&gt;</span>
</span><span class="nt">&lt;/dimension&gt;</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>Up to MapCache 1.6.1</p></td>
<td><p>From MapCache 1.8 on</p></td>
</tr>
</tbody>
</table>
</section>
<section id="configuring-a-time-dimension-using-an-explicit-back-end">
<h4>Configuring a Time dimension using an explicit back-end<a class="headerlink" href="#configuring-a-time-dimension-using-an-explicit-back-end" title="Link to this heading">¶</a></h4>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="cm">&lt;!-- &quot;time&quot; dimension, &quot;new-style&quot; definition using a SQLite back-end</span>

<span class="cm">      This example defines a &quot;time&quot; dimension whose possible values are</span>
<span class="cm">      stored in the /data/times.sqlite SQLite file. The default value is</span>
<span class="cm">      &quot;d1&quot;.</span>

<span class="cm">      A WMS request with that dimension may contain, e.g.</span>
<span class="cm">      &quot;... &amp;time=1999-08-11T11:03:07Z/2001-09-21T08:17:56Z&amp; ...&quot;</span>
<span class="cm"> --&gt;</span>
<span class="hll"><span class="w"> </span><span class="nt">&lt;dimension</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;sqlite&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;time&quot;</span><span class="w"> </span><span class="na">default=</span><span class="s">&quot;d1&quot;</span><span class="w"> </span><span class="na">time=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
</span><span class="w">   </span><span class="nt">&lt;dbfile&gt;</span>/data/times.sqlite<span class="nt">&lt;/dbfile&gt;</span>
<span class="w">   </span><span class="nt">&lt;list_query&gt;</span>SELECT<span class="w"> </span>strftime(&quot;%Y-%m-%dT%H:%M:%SZ&quot;,<span class="w"> </span>ts)<span class="w"> </span>FROM<span class="w"> </span>timedim<span class="nt">&lt;/list_query&gt;</span>
<span class="w">   </span><span class="nt">&lt;validate_query&gt;</span>
<span class="w">        </span>SELECT<span class="w"> </span>strftime(&quot;%Y-%m-%dT%H:%M:%SZ&quot;,ts)<span class="w"> </span>FROM<span class="w"> </span>timedim
<span class="w">         </span>WHERE<span class="w"> </span>ts<span class="w"> </span><span class="ni">&amp;gt;</span>=<span class="w"> </span>datetime(:start_timestamp,&quot;unixepoch&quot;)
<span class="w">           </span>AND<span class="w"> </span>ts<span class="w"> </span><span class="ni">&amp;lt;</span>=<span class="w"> </span>datetime(:end_timestamp,&quot;unixepoch&quot;)
<span class="w">      </span>ORDER<span class="w"> </span>BY<span class="w"> </span>ts<span class="w"> </span>DESC
<span class="w">   </span><span class="nt">&lt;/validate_query&gt;</span>
<span class="w"> </span><span class="nt">&lt;/dimension&gt;</span>
</pre></div>
</div>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="cm">&lt;!-- &quot;time&quot; dimension, &quot;new-style&quot; definition using a PostgreSQL back-end</span>

<span class="cm">      This example defines a &quot;time&quot; dimension whose possible values are</span>
<span class="cm">      stored in the postgresql://mapcache:mapcache@localhost:5433/time</span>
<span class="cm">      PostgreSQL database. The default value is &quot;d1&quot;.</span>

<span class="cm">      A WMS request with that dimension may contain, e.g.</span>
<span class="cm">      &quot;... &amp;time=1999-08-11T11:03:07Z/2001-09-21T08:17:56Z&amp; ...&quot;</span>
<span class="cm"> --&gt;</span>
<span class="hll"><span class="w"> </span><span class="nt">&lt;dimension</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;postgresql&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;time&quot;</span><span class="w"> </span><span class="na">default=</span><span class="s">&quot;d1&quot;</span><span class="w"> </span><span class="na">time=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
</span><span class="w">   </span><span class="nt">&lt;connection&gt;</span>
<span class="w">     </span>host=localhost<span class="w"> </span>user=mapcache<span class="w"> </span>password=mapcache<span class="w"> </span>dbname=times<span class="w"> </span>port=5433
<span class="w">   </span><span class="nt">&lt;/connection&gt;</span>
<span class="w">   </span><span class="nt">&lt;list_query&gt;</span>SELECT<span class="w"> </span>to_char(ts,<span class="w"> </span>&#39;YYYY-MM-DD&quot;T&quot;HH24:MI:SS&quot;Z&quot;&#39;)<span class="w"> </span>FROM<span class="w"> </span>timedim<span class="nt">&lt;/list_query&gt;</span>
<span class="w">   </span><span class="nt">&lt;validate_query&gt;</span>
<span class="w">        </span>SELECT<span class="w"> </span>to_char(ts,&#39;YYYY-MM-DD&quot;T&quot;HH24:MI:SS&quot;Z&quot;&#39;)<span class="w"> </span>FROM<span class="w"> </span>timedim
<span class="w">         </span>WHERE<span class="w"> </span>ts<span class="w"> </span><span class="ni">&amp;gt;</span>=<span class="w"> </span>to_timestamp(:start_timestamp)
<span class="w">           </span>AND<span class="w"> </span>ts<span class="w"> </span><span class="ni">&amp;lt;</span>=<span class="w"> </span>to_timestamp(:end_timestamp)
<span class="w">      </span>ORDER<span class="w"> </span>BY<span class="w"> </span>ts<span class="w"> </span>DESC
<span class="w">   </span><span class="nt">&lt;/validate_query&gt;</span>
<span class="w"> </span><span class="nt">&lt;/dimension&gt;</span>
</pre></div>
</div>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="cm">&lt;!-- &quot;time&quot; dimension, &quot;new-style&quot; definition using an ElasticSearch back-end</span>

<span class="cm">      This example defines a &quot;time&quot; dimension whose possible values are</span>
<span class="cm">      stored in the http://localhost:9200/times ElasticSearch index. The</span>
<span class="cm">      default value is &quot;d1&quot;.</span>

<span class="cm">      A WMS request with that dimension may contain, e.g.</span>
<span class="cm">      &quot;... &amp;time=1999-08-11T11:03:07Z/2001-09-21T08:17:56Z&amp; ...&quot;</span>
<span class="cm"> --&gt;</span>
<span class="hll"><span class="w"> </span><span class="nt">&lt;dimension</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;elasticsearch&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;time&quot;</span><span class="w"> </span><span class="na">default=</span><span class="s">&quot;d1&quot;</span><span class="w"> </span><span class="na">time=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
</span><span class="w">   </span><span class="nt">&lt;http&gt;</span>
<span class="w">     </span><span class="nt">&lt;url&gt;</span>http://localhost:9200/times/_search<span class="nt">&lt;/url&gt;</span>
<span class="w">     </span><span class="nt">&lt;headers&gt;</span>
<span class="w">       </span><span class="nt">&lt;Content-Type&gt;</span>application/json<span class="nt">&lt;/Content-Type&gt;</span>
<span class="w">     </span><span class="nt">&lt;/headers&gt;</span>
<span class="w">   </span><span class="nt">&lt;/http&gt;</span>

<span class="w">   </span><span class="nt">&lt;list_query&gt;</span><span class="cp">&lt;![CDATA[</span>
<span class="cp">     { &quot;query&quot;: { &quot;match_all&quot;: { } } }</span>
<span class="cp">   ]]&gt;</span><span class="nt">&lt;/list_query&gt;</span>
<span class="w">   </span><span class="nt">&lt;list_response&gt;</span><span class="cp">&lt;![CDATA[</span>
<span class="cp">     [ &quot;hits&quot;, &quot;hits&quot;, &quot;_source&quot;, &quot;ts&quot; ]</span>
<span class="cp">   ]]&gt;</span><span class="nt">&lt;/list_response&gt;</span>

<span class="w">   </span><span class="nt">&lt;validate_query&gt;</span><span class="cp">&lt;![CDATA[</span>
<span class="cp">     { &quot;query&quot;: {</span>
<span class="cp">         &quot;range&quot;: {</span>
<span class="cp">           &quot;ts&quot;: { &quot;gte&quot;: :start_timestamp, &quot;lte&quot;: :end_timestamp }</span>
<span class="cp">         }</span>
<span class="cp">       },</span>
<span class="cp">       &quot;sort&quot;: { &quot;ts&quot;: { &quot;order&quot;: &quot;desc&quot; } },</span>
<span class="cp">       &quot;script_fields&quot;: {</span>
<span class="cp">         &quot;iso_ts&quot;: {</span>
<span class="cp">           &quot;lang&quot;: &quot;painless&quot;,</span>
<span class="cp">           &quot;source&quot;: &quot;SimpleDateFormat f=new SimpleDateFormat(params.fmt); f.setTimeZone(params.tz); return (f.format(doc.ts.value.getMillis()))&quot;,</span>
<span class="cp">           &quot;params&quot;: {</span>
<span class="cp">             &quot;fmt&quot;: &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;,</span>
<span class="cp">             &quot;tz: &quot;UTC&quot;</span>
<span class="cp">           }</span>
<span class="cp">         }</span>
<span class="cp">       }</span>
<span class="cp">     }</span>
<span class="cp">   ]]&gt;</span><span class="nt">&lt;/validate_query&gt;</span>
<span class="w">   </span><span class="nt">&lt;validate_response&gt;</span><span class="cp">&lt;![CDATA[</span>
<span class="cp">     [ &quot;hits&quot;, &quot;hits&quot;, &quot;fields&quot;, &quot;iso_ts&quot;, 0 ]</span>
<span class="cp">   ]]&gt;</span><span class="nt">&lt;/validate_response&gt;</span>

<span class="w"> </span><span class="nt">&lt;/dimension&gt;</span>
</pre></div>
</div>
</section>
</section>
<section id="templating-dimension-queries">
<h3>Templating dimension queries<a class="headerlink" href="#templating-dimension-queries" title="Link to this heading">¶</a></h3>
<p><cite>&lt;validate_query&gt;</cite> and <cite>&lt;list_query&gt;</cite> can contain template entries that
will be replaced at runtime by correct values. Valid template entries are:</p>
<ul class="simple">
<li><p><cite>:dim</cite> Dimension value as provided in incoming HTTP request</p></li>
<li><p><cite>:tileset</cite> Tileset name</p></li>
<li><p><cite>:gridsrs</cite> Grid SRS</p></li>
<li><p><cite>:minx</cite>, <cite>:miny</cite>, <cite>:maxx</cite>, <cite>:maxy</cite> Parameters for rectangular extent</p></li>
<li><p><cite>:start_timestamp</cite>, <cite>:end_timestamp</cite> Parameters for time interval</p></li>
</ul>
</section>
<section id="tile-assembly-policies">
<h3>Tile Assembly Policies<a class="headerlink" href="#tile-assembly-policies" title="Link to this heading">¶</a></h3>
<p>When several time or sub-dimension values are returned from a dimension
back-end query, the resulting tile is an assembly of all simple tiles matching
each value. The way simple tiles are assembled is set with the
<cite>&lt;assembly_type&gt;</cite> tag of the <cite>&lt;dimensions&gt;</cite> element. Currently only two
values are implemented in MapCache:</p>
<blockquote>
<div><ul>
<li><p><cite>none</cite>: No assembly is performed, the resulting tile is the first
retrieved simple tile. This is the default value.</p></li>
<li><p><cite>stack</cite>: Every pixel of the resulting tile is filled with the first
opaque pixel found in all simple tiles in their retrieval order, e.g.:</p>
<table class="docutils align-default" id="id1">
<caption><span class="caption-text">Assembly type: <cite>stack</cite></span><a class="headerlink" href="#id1" title="Link to this table">¶</a></caption>
<tbody>
<tr class="row-odd"><td><img alt="../_images/mapcache-assembly-stack-1.png" class="no-scaled-link" src="../_images/mapcache-assembly-stack-1.png" style="width: 148.5px; height: 125.0px;" />
</td>
<td><img alt="../_images/mapcache-assembly-stack-2.png" class="no-scaled-link" src="../_images/mapcache-assembly-stack-2.png" style="width: 148.5px; height: 125.0px;" />
</td>
<td><img alt="../_images/mapcache-assembly-stack-3.png" class="no-scaled-link" src="../_images/mapcache-assembly-stack-3.png" style="width: 149.0px; height: 125.0px;" />
</td>
</tr>
<tr class="row-even"><td><p>Product #1</p></td>
<td><p>Product #2</p></td>
<td><p><cite>stack</cite> assembly of Products #1 &amp; #2</p></td>
</tr>
</tbody>
</table>
</li>
</ul>
</div></blockquote>
<p>The resulting tile may or may not be cached depending on the value of the
<cite>&lt;store_assemblies&gt;</cite> tag of the <cite>&lt;dimensions&gt;</cite> element. The two possible
values are <cite>true</cite> and <cite>false</cite>. Default is <cite>true</cite>.</p>
<p>The <cite>&lt;subdimensions_read_only&gt;</cite> tag of the <cite>&lt;dimensions&gt;</cite> element indicates
whether data source shall be queried in case of cache miss. The two possible
values are <cite>true</cite> and <cite>false</cite>. Default is <cite>false</cite>.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;dimensions&gt;</span>
<span class="w">    </span><span class="nt">&lt;assembly_type&gt;</span>stack<span class="nt">&lt;/assembly_type&gt;</span>
<span class="w">    </span><span class="nt">&lt;store_assemblies&gt;</span>true<span class="nt">&lt;/store_assemblies&gt;</span>
<span class="w">    </span><span class="nt">&lt;subdimensions_read_only&gt;</span>false<span class="nt">&lt;/subdimensions_read_only&gt;</span>
<span class="w">    </span><span class="nt">&lt;dimension</span><span class="w"> </span><span class="nt">&gt;</span>...<span class="nt">&lt;/dimension&gt;</span>
<span class="nt">&lt;/dimensions&gt;</span>
</pre></div>
</div>
</section>
<section id="tile-fetching-policies">
<h3>Tile Fetching Policies<a class="headerlink" href="#tile-fetching-policies" title="Link to this heading">¶</a></h3>
<p>MapCache can be configured to fetch all subtiles to assemble either within a
single thread or with as many threads as subtiles to fetch. This is set with
the <cite>&lt;assembly_threaded_fetching&gt;</cite> tag of the <cite>&lt;dimensions&gt;</cite> element. This
tag has an optional <cite>maxzoom</cite> attribute to specify that multi-threaded
fetching should be disabled from a given zoom level.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;dimensions&gt;</span>
<span class="w">    </span><span class="nt">&lt;assembly_threaded_fetching</span><span class="w"> </span><span class="na">maxzoom=</span><span class="s">&quot;5&quot;</span><span class="nt">&gt;</span>true<span class="nt">&lt;/assembly_threaded_fetching&gt;</span>
<span class="w">    </span><span class="cm">&lt;!-- ... --&gt;</span>
<span class="w">    </span><span class="nt">&lt;dimension</span><span class="w"> </span><span class="nt">&gt;</span>...<span class="nt">&lt;/dimension&gt;</span>
<span class="nt">&lt;/dimensions&gt;</span>
</pre></div>
</div>
</section>
<section id="querying-dimensions-at-map-level">
<h3>Querying Dimensions at map level<a class="headerlink" href="#querying-dimensions-at-map-level" title="Link to this heading">¶</a></h3>
<p>By default, MapCache runs <cite>&lt;validate_query&gt;</cite> of second level dimensions for
every requested tile of a map. When this involves slow remote PostgreSQL or
ElasticSearch servers, it may be desirable to send the query only once for the
whole map. A configuration option at the <cite>&lt;dimension&gt;</cite> level exists to enable
this behaviour:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;dimension&gt;</span>
<span class="w">   </span><span class="nt">&lt;wms_querybymap&gt;</span>true<span class="nt">&lt;/wms_querybymap&gt;</span>
</pre></div>
</div>
</section>
</section>
<section id="storing-dimensions">
<span id="mapcache-dimensions-storing"></span><h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Storing Dimensions</a><a class="headerlink" href="#storing-dimensions" title="Link to this heading">¶</a></h2>
<p>When using a disk based cache tiles will be stored in a folder structure similar to
<cite>base/gridname/DIM1/value/xx/xx/xx/xx/xx/xx.png</cite> (where DIM1 is the dimension value).</p>
<p>The order of the <cite>&lt;dimension&gt;</cite> tags inside the <cite>&lt;dimensions&gt;</cite> tag  is important as it is used
to create the directory structure for the disk cache. If you change the order of these
values, any tiles that have been previously cached are invalidated (they will be unavailable to MapCache but not deleted).</p>
<p>Templates can be used to change the folder structure for example:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;cache</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;tmpl&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;disk&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;template&gt;</span>/tmp/template-test/{tileset}#{grid}#{dim}/{z}/{x}/{y}.{ext}<span class="nt">&lt;/template&gt;</span>
<span class="nt">&lt;/cache&gt;</span>
</pre></div>
</div>
<p>Templates can also be used to change Sqlite database names e.g.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cm">&lt;!-- the following will create databases named TilesetName-#DimensionValue.db --&gt;</span>
<span class="nt">&lt;cache</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;sqlite&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;sqlite3&quot;</span><span class="nt">&gt;</span>
<span class="w">   </span><span class="nt">&lt;dbfile&gt;</span>{tileset}-{dim}.db<span class="nt">&lt;/dbfile&gt;</span>
<span class="w">   </span><span class="nt">&lt;detect_blank</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="nt">&lt;/cache&gt;</span>
</pre></div>
</div>
</section>
<section id="accessing-tile-caches-with-dimensions">
<h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Accessing Tile Caches with Dimensions</a><a class="headerlink" href="#accessing-tile-caches-with-dimensions" title="Link to this heading">¶</a></h2>
<p>To retrieve a tile with a specific dimension, add the dimension name and value to the request query string e.g. <cite>&amp;DIM1=value</cite></p>
<p>Only WMS and WMTS clients support passing dimensions to MapCache. Other tile services such as gmaps (GoogleMaps), tms, and KML
do not support dimensions. WMTS however does allow access using a x,y,z addressing scheme, so by using URL rewriting on the web server
tile-based clients (for example an OpenLayers <cite>ol.source.XYZ</cite> layer) can load a dimension-based tileset.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># a URL such as the following</span>
<span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">servername</span><span class="o">/</span><span class="n">tiles</span><span class="o">/</span><span class="mi">13</span><span class="o">/</span><span class="mi">3914</span><span class="o">/</span><span class="mf">2687.</span><span class="n">png</span>
<span class="c1"># can be rewritten into a WMTS request - note WMTS uses {z}/{y}/{x} rather than {z}/{x}/{y}</span>
<span class="c1"># so these values need to be swapped</span>
<span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">servername</span><span class="o">/</span><span class="n">mapcache</span><span class="o">/</span><span class="n">wmts</span><span class="o">/</span><span class="mf">1.0.0</span><span class="o">/</span><span class="n">layername</span><span class="o">/</span><span class="n">default</span><span class="o">/</span><span class="n">dimension</span><span class="o">/</span><span class="n">GoogleMapsCompatible</span><span class="o">/</span><span class="mi">13</span><span class="o">/</span><span class="mi">2687</span><span class="o">/</span><span class="mf">3914.</span><span class="n">png</span>
</pre></div>
</div>
</section>
<section id="seeding-tile-caches-with-dimensions">
<h2><a class="toc-backref" href="#table-of-contents" role="doc-backlink">Seeding Tile Caches with Dimensions</a><a class="headerlink" href="#seeding-tile-caches-with-dimensions" title="Link to this heading">¶</a></h2>
<p>The <a class="reference internal" href="seed.html#mapcache-seed"><span class="std std-ref">MapCache seeding tool</span></a> allows specific dimensions to be seeded with the following syntax:</p>
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span>mapcache_seed -c mapcache_config.xml -t tileset1 -e -1187000,6695000,-605000,7450000 -z 7,10 --dimension DIMENSION_NAME=DIMENSION_VALUE
</pre></div>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p>
<a href="../about.html" title="About">About</a><br>
<a href="../products.html" title="Products">Products</a><br>
<a href="../community/index.html" title="Community">Community</a><br>
<a href="../development/index.html" title="Development">Development</a><br>
<a href="../download.html" title="Downloads">Downloads</a><br>
<a href="../documentation.html" title="Documentation">Documentation</a><br>
<a href="../faq.html" title="FAQ">FAQ</a><br>
<a href="../psc.html" title="PSC">PSC</a><br>
<a href="https://twitter.com/mapserver_osgeo" title="Twitter">Twitter</a>
</p>
  <h3>Current Table Of Contents</h3>
  <ul>
<li><a class="reference internal" href="#">Tileset Dimensions</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#enabling-dimension-support-in-mapcache">Enabling Dimension Support in MapCache</a><ul>
<li><a class="reference internal" href="#dimension-attributes">Dimension Attributes</a></li>
<li><a class="reference internal" href="#dimension-types">Dimension Types</a></li>
</ul>
</li>
<li><a class="reference internal" href="#first-level-dimensions">First Level Dimensions</a><ul>
<li><a class="reference internal" href="#values-dimensions">Values Dimensions</a></li>
<li><a class="reference internal" href="#regex-dimensions">Regex Dimensions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#second-level-dimensions">Second Level Dimensions</a><ul>
<li><a class="reference internal" href="#sqlite-dimensions">SQLite Dimensions</a></li>
<li><a class="reference internal" href="#postgresql-dimensions">PostgreSQL Dimensions</a></li>
<li><a class="reference internal" href="#elasticsearch-dimensions">ElasticSearch Dimensions</a></li>
<li><a class="reference internal" href="#time-dimensions">Time Dimensions</a><ul>
<li><a class="reference internal" href="#configuring-a-time-dimension-using-a-default-sqlite-back-end">Configuring a Time Dimension using a default SQLite back-end</a></li>
<li><a class="reference internal" href="#configuring-a-time-dimension-using-an-explicit-back-end">Configuring a Time dimension using an explicit back-end</a></li>
</ul>
</li>
<li><a class="reference internal" href="#templating-dimension-queries">Templating dimension queries</a></li>
<li><a class="reference internal" href="#tile-assembly-policies">Tile Assembly Policies</a></li>
<li><a class="reference internal" href="#tile-fetching-policies">Tile Fetching Policies</a></li>
<li><a class="reference internal" href="#querying-dimensions-at-map-level">Querying Dimensions at map level</a></li>
</ul>
</li>
<li><a class="reference internal" href="#storing-dimensions">Storing Dimensions</a></li>
<li><a class="reference internal" href="#accessing-tile-caches-with-dimensions">Accessing Tile Caches with Dimensions</a></li>
<li><a class="reference internal" href="#seeding-tile-caches-with-dimensions">Seeding Tile Caches with Dimensions</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="http.html" title="HTTP Requests"
             >next</a> |</li>
        <li class="right" >
          <a href="formats.html" title="Image Formats"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Home</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../documentation.html" >MapServer 8.0.1 Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >MapCache 1.14.0</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Tileset Dimensions</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; <a href="../copyright.html">Copyright</a> 2023, Open Source Geospatial Foundation.
      Last updated on 2023-12-22.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.5.
    </div>
  </body>
</html>